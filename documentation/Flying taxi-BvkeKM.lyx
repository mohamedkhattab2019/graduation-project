#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass book
\begin_preamble
  
\pagenumbering{roman}
\let\myTOC\tableofcontents
\renewcommand\tableofcontents{%
\myTOC
\clearpage
\pagenumbering{arabic}
}
\renewcommand{\ps@plain}{\pagestyle{fancy}}
\end_preamble
\use_default_options true
\begin_modules
algorithm2e
braille
changebars
customHeadersFooters
shapepar
eqs-within-sections
figs-within-sections
tabs-within-sections
\end_modules
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref page
\pdf_pdfusetitle true
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.54cm
\topmargin 2.54cm
\rightmargin 2.54cm
\bottommargin 2.54cm
\headheight 1cm
\headsep 1cm
\footskip 1cm
\secnumdepth 3
\tocdepth 5
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\series bold
Urban UAV using vision navigation (Flying Taxi)
\end_layout

\begin_layout Author
\begin_inset VSpace 1.5cm
\end_inset


\begin_inset Newline newline
\end_inset

Submitted to:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
Prof.
 Basman Elhadidi
\size default

\begin_inset Newline newline
\end_inset


\size larger
Asst.
 Prof.
 Osama Saaid
\begin_inset Newline newline
\end_inset

Eng.
 Mohanad
\size default

\begin_inset Newline newline
\end_inset


\begin_inset VSpace 1.5cm
\end_inset


\begin_inset Newline newline
\end_inset

By:
\begin_inset Newline newline
\end_inset


\begin_inset VSpace 1.5cm
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard

\end_layout

\begin_layout Standard

\end_layout

\begin_layout Chapter*
\begin_inset CommandInset nomencl_print
LatexCommand printnomenclature
set_width "auto"

\end_inset

Acknowledgments
\end_layout

\begin_layout Standard
Before we start our Thesis we should thank and appreciate everyone helped
 us to reach to this moment and we admit that without their help and knowledge
 we couldn't reach here.
\end_layout

\begin_layout Standard
first of all we have to thank and appreciate our directly 
\shape italic
Asst.
 Prof.
 Osama Saaid
\shape default
 who helped us alot and gave us from his wide knowledge we would like to
 thank him for his great help through this year,
\end_layout

\begin_layout Standard
and we also should thank 
\shape italic
Prof.
 Basman Elhadidi & Eng.
 Mohanad 
\shape default
for their time and their contribution in the design phase, and we also want
 to thank the all members in ASTL & UDC who helped us alot with their technical
 information.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter*
\begin_inset CommandInset nomencl_print
LatexCommand printnomenclature
set_width "auto"

\end_inset

Preface
\end_layout

\begin_layout Section*
Project Structure
\end_layout

\begin_layout Standard
This project is a new chapter of the cooperation between Boeing and Aerospace
 Department at Cairo University, This project aims to build a (VTOL) flying
 taxi prototype which can carry one passenger.
\begin_inset Newline newline
\end_inset

In order to do that the work was divided in two paths: the design and build
 of a VTOL vehicle which can satisfy certain ODD, and the second path is
 related to the visual SLAM using stereo camera and the ROS working frame
 which we used to build our software architecture.
\end_layout

\begin_layout Section*
Chapters Overview
\end_layout

\begin_layout Standard
this Thesis is divided into five chapters each one is related to certain
 topic and discuss it completely with full details started with Introduction
 followed by how to implement the module.
\end_layout

\begin_layout Itemize

\series bold
Chapter 1
\series default
 : is related to the structural design and the stability analysis as we
 had to build the model by ourself so we have to analyse it using computer
 software before starting to build it.
\end_layout

\begin_layout Itemize

\series bold
Chapter 2 
\series default
: in a parallel way we had build the mathematical model of the vehicle so
 we can have a characteristics that we use in the control loops to get the
 controller gains.
\end_layout

\begin_layout Itemize

\series bold
Chapter 3
\series default
 : a comparison between self builded Autopilot and the commercial Autopilot
 we use.
\end_layout

\begin_layout Itemize

\series bold
Chapter 4
\series default
 : a vision navigation and obstacle avoidance is the main core of the software
 architecture in this chapter we discuss the difference between the vision
 sensors and the difference between the obstacle avoidance algorithms and
 the one we used.
\end_layout

\begin_layout Itemize

\series bold
Chapter 5
\series default
 : this chapter include complete explain to the ROS and the px4 autopilot
 and how we used them.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter*
\begin_inset CommandInset nomencl_print
LatexCommand printnomenclature
set_width "auto"

\end_inset

List of Symbols and Abbreviations
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="15" columns="2">
<features tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ROS
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Robot Operating System
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SLAM
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Simultaneous Localization And Mapping
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SITL
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Software In The Loop
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HITL
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hardware In The Loop
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LIDAR
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Light Detection And Ranging
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
KF
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kalman Filter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKF
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Extended Kalman Filter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IMU
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Inertial Measurement Unit 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EOM
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Equation Of Motion
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LTI
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linear Time Invarient
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PID
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Proportional-Integral-Derivative Control
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GPU
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Graphical Processing Unit
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ODD
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Operational Design Domain
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MC
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Multicopter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList figure

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList table

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter*
Motivation
\end_layout

\begin_layout Standard
A vertical take-off and landing (VTOL) aircraft is one that can hover, take
 off, and land vertically.
 This classification can include a variety of types of aircraft including
 fixed-wing aircraft as well as helicopters and other aircraft with powered
 rotors.
\begin_inset Newline newline
\end_inset

Some VTOL aircraft can operate in other modes as well, such as CTOL (conventiona
l take-off and landing), STOL (short take-off and landing), and/or STOVL
 (short take-off and vertical landing).
 Others, such as some helicopters, can only operate by VTOL, due to the
 aircraft lacking landing gear that can handle horizontal motion.
 VTOL is a subset of V/STOL (vertical and/or short take-off and landing).
 Some lighter-than-air aircraft also qualify as VTOL aircraft, as they can
 hover, takeoff, and land with vertical approach/departure profiles.
\begin_inset Newline newline
\end_inset

Electric and hybrid-electric vertical takeoff and landing aircraft eVTOL
 is a technology being used in the quest for fully autonomous passenger
 air vehicles (PAV).
\begin_inset Newline newline
\end_inset

So why VTOL ? 
\end_layout

\begin_layout Standard
vertical take off and landing, enables a traveler to travel directly from
 point A to point B, instead of going from point A to an airport in a car
 say, then fly from the airport to another airport, and then drive with
 a car from the other airport to point B.
 Not only in travel is VTOL very useful, in rescue operations as well as
 in military and law enforcement applications it is often 
\end_layout

\begin_layout Itemize

\series bold
Advantages of VTOL
\end_layout

\begin_layout Standard
VTOL is challenging.
 It is far more technically difficult than conventional winged flight, but
 in exchange, it has several advantages.
\end_layout

\begin_layout Enumerate

\series bold
Time and fuel savings:
\series default
 Vertical take off and landing enables an aerial vehicle to take off from
 many more locations than an aircraft that requires an airport.
 This means that the journey to and from the airport can be eliminated,
 saving time and fuel, and the researchers in US found out that A person
 in the US lives an average of 17 miles away to the next airport.
 But he lives on average less than 1 mile away from a location that is suitable
 for vertical take-off and landing of a small civilian VTOL.
\end_layout

\begin_layout Enumerate

\series bold
Efficiency and speed:
\series default
 For personal aircraft the the wing is typically constructed with a compromise
 in mind.
 Typically it is desired that personal airplanes can take off and land at
 fairly low speeds such as 100kph , so that they can use small regional
 airfields, for example.
 On the other hand speed and efficiency are desired, but an overly large
 wing is a hindrance to this.
 Since lift (like drag) increases with speed, a very large wing at cruise
 speed generates more lift than needed, requiring the pilot to trim the
 elevator down, causing drag.
 The large wing itself, is also causing drag due to skin friction, and the
 larger it is, the more 'skin' is in contact with the air, the more drag
 is caused, the slower the airplane can fly and the more fuel it burns.
 A VTOL plane can be built such that its wings are optimized strictly for
 speed and efficiency since take off and landing are not handled by the
 wing.
 If the VTOL components in turn do not cause much additional drag, then
 real net drag reductions can be achieved making the plane faster and more
 efficient than even a pure aircraft.
\end_layout

\begin_layout Enumerate

\series bold
Safety: 
\series default
More than 85% of all airplane accidents (and fatalities) happen during their
 conventional take off and landing.
 The initial climb and the final descent are the most dangerous segments
 of a flight.
 An aircraft is safest when cruising at high altitude.
 It is most vulnerable when flying close to the ground or rolling on the
 ground at high speeds because the margin for error and error recovery is
 small to non-existent.
 This is why take off and landings are comparatively dangerous, even on
 airports with their vastly long and empty runways.
 Vertical take off and landing greatly reduces this risk because the plane
 is accelerated and decelerated while high in the air adding margin for
 error and recovery.
 This makes already safe air travel even safer.
\end_layout

\begin_layout Itemize

\series bold
Different types of VTOL
\end_layout

\begin_layout Enumerate

\series bold
Rotorcraft , 
\series default
or rotary wing aircraft, are those that use lift generated by rotor blades
 spinning around a central mast, so helicopters, quadcopters and gyrocopters.
\end_layout

\begin_layout Enumerate

\series bold
Powered-lift vehicles 
\series default
are those that take off and land vertically but perform differently from
 rotorcraft when in flight.
 They typically have a more conventional fixed wing plane design.
 Examples include convertiplanes such as the Bell Boeing V-22 Osprey, which
 takes off and lands vertically but uses fixed wing lift in normal flight.
\end_layout

\begin_layout Itemize

\series bold
The future of VTOL
\end_layout

\begin_layout Standard
the VTOL aircraft has the potential to change the course of aviation history
 and create a new chapter in modern day travel.
\end_layout

\begin_layout Itemize
A number of firms are developing aircraft that use a VTOL system.
 Despite a flood of recent controversies, ride-sharing app firm Uber has
 pledged to launch its first flying taxis in 2020 using VTOL.
\end_layout

\begin_layout Itemize
Munich-based aviation startup Lilium aims to offer an on-demand flying taxi
 service that it claims will be five times faster than traveling in a car.
 The current prototype is a two-seater aircraft shaped like a conventional
 plane that uses a VTOL system.
\end_layout

\begin_layout Itemize
at the 2017 Geneva Motor Show, Airbus showcased a prototype flying hybrid
 car.
 The modular vehicle can disconnect from it wheels, after which it is picked
 up by a flying set of rotors.
\end_layout

\begin_layout Itemize
Nasa has developed the battery-powered GL-10, which take off and land vertically
 but flies efficiently like a conventional plane.
\end_layout

\begin_layout Paragraph*
FLYING TAXI 
\end_layout

\begin_layout Standard
An air taxi is a small commercial aircraft which makes short flights on
 demand, In 2001 air taxi operations were promoted in the United States
 by a NASA and aerospace industry study on the potential Small Aircraft
 Transportation System (SATS) and the rise of light-jet aircraft manufacturing,
 the Flying taxi is a direct application of the VTOL which will have a great
 impact in the future, many companies now like: Google,Uber and Audi ,..etc
 invest much money in the self-driving cars and they achieved good steps,
 On the other hand part of this companies in addition to the air transport
 companies think in another way to build a flying vehicle which can carry
 a person from point A and reach point B ,Actually by the start of 2019
 Boeing released their first self-flying taxi which completed it's first
 flight successfully.
\end_layout

\begin_layout Standard
So it's obvious now that we are a step far from a new technology in the
 Air transport that will make air transportation not limited for the Traveling
 between countries, it's a new fast growing path which means that we need
 more aerospace engineers who are aware about many concepts like path planning,s
tate estimation, computer vision ,..etc.
\end_layout

\begin_layout Standard
Of course they are many difficulties face this technology , technical difficulti
es for example the test experiments as it cost too much and other difficulties
 related to the laws and how much people will trust an autonomous flying
 vehicle.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../ch1 Introduction/190123140308-02-boeing-vtol-exlarge-169.jpeg
	scale 30

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
BOEING’S flying taxi
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Design
\end_layout

\begin_layout Section
Mission
\end_layout

\begin_layout Standard
The vehicles mission is to take the passenger from a certain location to
 a certain destination
\end_layout

\begin_layout Subsection
Payload
\end_layout

\begin_layout Standard
Payload consists of the components that are loaded on the vehicle to carry
 out its mission so, the payload will be divided into two sections: control
 payload and passenger payload
\end_layout

\begin_layout Subsubsection
Control payload
\end_layout

\begin_layout Standard
From the team working on control, the following payload is needed on the
 vehicle to be autonomously driven
\end_layout

\begin_layout Enumerate
Pixhawk
\end_layout

\begin_layout Enumerate
Pixhawk telemetry
\end_layout

\begin_layout Enumerate
Pixhawk power module
\end_layout

\begin_layout Enumerate
ZED stereo camera
\end_layout

\begin_layout Enumerate
Jetson nano
\end_layout

\begin_layout Enumerate
Li-PO battery
\end_layout

\begin_layout Subsubsection
Passenger payload
\end_layout

\begin_layout Standard
comfortable chair
\end_layout

\begin_layout Itemize

\series bold
components weight estimation
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
components
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
masses (gm)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
quantity
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pixhawk
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
37
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mini Jetson KIT
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
150
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RP Lidar A1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
190
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED camera
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
159
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Quad motors
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Quad propellers
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Quad ESC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pusher motor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pusher propeller
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pusher ESC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Battery
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
380
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
components masses
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Aerodynamic Design
\end_layout

\begin_layout Subsection
Introduction
\end_layout

\begin_layout Standard
When we started building the vehicle, we had some goals to achieve, and
 among of these goals is to get the highest performance and efficiency and
 to ensure that we must know the mission of the vehicle and its constraints:
\end_layout

\begin_layout Itemize
Max.
 takeoff weight about 3 Kg.
\end_layout

\begin_layout Itemize
Max.
 wide of vehicle 0.8 meter.
\end_layout

\begin_layout Itemize
Minimum size for easy landing at any place.
\end_layout

\begin_layout Standard
We choose XFLR5 program that is suitable platform to analyze this application
 because XFLR5 is a program to perform a plane analysis starting from airfoil
 design right to the stability of analysis of the complete plane and Define
 basic concepts of aerodynamics such as; lift, drag, Reylond’s number and
 also things like viscosity, laminar flow, turbulence flow and transition
 for more flow to the other all things which are the core of the xflr5.
 Finally we preferred to use Tandem wing plane to get greater lift than
 conventional wing, because we have two independent source of lift (two
 wings).
 
\end_layout

\begin_layout Standard
Basic definitions of Tandem wing plane:
\end_layout

\begin_layout Itemize
Stagger (St): The distance between main wing and second wing at a position
 of 1/4 chord.
\end_layout

\begin_layout Itemize
Gap (G): The vertical distance between main and second wings.
\end_layout

\begin_layout Itemize
Decalage (δ=α
\begin_inset Formula $^{ω}$
\end_inset

-α
\begin_inset Formula $^{p}$
\end_inset

): The relative angle of attack between two angles of attack for each wing.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/stagger.JPG
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Tandem wing plane
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Design Plan
\end_layout

\begin_layout Standard
Select the Airfoil of our plane that satisfied requirements; That the xflr5
 program has a library of NACA series built in the program, but we can import
 another airfoils from UIUC Airfoil Data site that has all database of airfoils.
 
\begin_inset Newline newline
\end_inset

We make analyze for some airfoils that have high lift to carry the weight
 of vehicle; such as (Eppler421, Eppler423, MH14, NACA0018, NACA0015, Clark(Y)
 and NACA632615),Then we choose suitable airfoil dependent on: simplicity
 of manufacturing and lift generated.
\begin_inset Newline newline
\end_inset

So the most airfoils satisfy requirements are: Eppler423 and NACA0015,Then
 we now ready to analyse two airfoils and make it very smooth by re-panel
 foil from 100 to 150 panel to make distribution of panels is smoothly.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/NACA0015-Eppler42322.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
The 2 airfoils
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Then we can see the boundary layer and pressure distribution along the two
 airfoils in fig.
 below with change at angle of attack from: (0 to 10 & from 0 to -6 ) degree:
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/NACA0015-lift distribution.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Pressure distribution along NACA0015 with difference angle of attack
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Eppler(Cp dist).png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Pressure distribution along Eppler423 with difference angle of attack
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
We make analysis at different Re (from 20,000 to 1,000,000) and see plots
 on polar figure:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/NACA0015-Batch analysis.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Polar graph of NACA0015
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Eppler-Batch analysis.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Polar graph of Eppler423
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Now we ready to build design after prepared airfoils, after trying different
 dimensions we get the best configuration then check stability and lift
 produced by vehicle we make analysis by different stream speed and found
 there isn't any effect on stability but affected at lift produced over
 Airfoil but the main reason affected on stability is the position of cg
 but not affected at another results shown in fig.
 below:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/3D-final1.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Configuration
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
NACA0015
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/NACA0015-change in cg.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
NACA0015 Lift and Cm-alpha
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Eppler423
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Eppler lift and cm-alpha.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Eppler423 Lift and Cm
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Quick comparison between 2 airfoils:
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Comparisons 
\backslash
 Models
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Model 1 (NACA0015)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Model 2 (Eppler423)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0 , z= -0.5 m 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0 , z= -0.05 m 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0.45 m , z= 0.2 m 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0.45 m , z= 0.15 m 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.8 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.6 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.25 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.2 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Aspect ratio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3.2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cruise speed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17 m/s
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17 m/s
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 5 degree 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 degree
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-8 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Trim angle
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4.5 degree
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3.6 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\begin_inset Formula $_{C.G}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.19 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.2 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\begin_inset Formula $_{N.P}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.243 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.25 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Degree of Static Stability (S.M.)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
21.2%
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25%
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\series bold
comparison between 2 airfoils
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Conclusion of results:
\end_layout

\begin_layout Enumerate
For incidence angle: All models we build it before almost of them have a
 negative incidence angle for tail not exceed -3 degree, So we highlight
 at the incidence of second wing in two models; in model (1) has a positive
 incidence angle, And model (2) has a large negative incidence angle.
\end_layout

\begin_layout Enumerate
For Static margin: We know the S.M.
 must be (from 5 to 20 %), and the S.M.
 in model (1) is 21.2 that may acceptable range, but at model (2) has 25%.
 
\end_layout

\begin_layout Enumerate
For Lift: We find trim angle of attack at 4.5 degree, and we go to Fz VS
 Alpha graph get lift that carry aircraft we get Fz=28(N) at 4.5 degree,
 which carry 2.85 Kg maximum tack-off weight, all of calculations reference
 to 2.7 Kg maximum tack-off weight.
 
\end_layout

\begin_layout Standard
So, we select model (1) , next step we modified the design to satisfy position
 of C.G.
\end_layout

\begin_layout Standard
In this phase we tried to put point of C.G.
 in the middle of the vehicle to equalize the value of moments resulting
 from two wings to optimize the (𝐶
\begin_inset Formula $_{𝑚}$
\end_inset

−𝛼) graph, First we make several trails with constraints of stability:
\end_layout

\begin_layout Itemize
We selected variables which allowed to change them.
 
\end_layout

\begin_layout Itemize
Then we set variables and change one of them, to convert slope of stability
 from positive to negative slope.
 
\end_layout

\begin_layout Itemize
We concluded variables that affect the slope:
\end_layout

\begin_layout Enumerate
Arm
\end_layout

\begin_layout Enumerate
The height of second wing 
\end_layout

\begin_layout Enumerate
Incidence of angles of 2 wings 
\end_layout

\begin_layout Enumerate
Geometry of 2 wings specially wing chord 
\end_layout

\begin_layout Enumerate
Speed of vehicle 
\end_layout

\begin_layout Itemize
Put position of C.G.
 and the arm, then change variables.
 
\end_layout

\begin_layout Standard
By trial and error after fail some trails we get the best configuration
 by change parameters:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="16" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Comparisons 
\backslash
 Models
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Model (NACA0015)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0 , z= 0 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0.6 m , z= 0.3 m 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span of main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.6 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span of second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.75 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord of main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.2 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord of second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.22 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Aspect ratio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3.2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cruise speed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
18 m/s
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Trim angle
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6.7 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{CG}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.36 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{CG}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.15 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{NP}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.383 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Degree of Static Stability (S.M.)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.5%
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection
Final results
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Fz-alpha.png
	scale 25

\end_inset


\begin_inset space \space{}
\end_inset


\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Cm-alpha.png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Lift Vs alpha and Cm Vs alpha
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center

\end_layout

\end_inset


\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Cl-alpha.png
	scale 25

\end_inset


\begin_inset space \space{}
\end_inset


\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Cl_Cd-alpha.png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Cl Vs alpha and Cl/Cd Vs alpha
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/Cl(3-2)_Cd-alpha.png
	scale 30

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Cl
\begin_inset Formula $^{\frac{3}{2}}$
\end_inset

/Cd Vs alpha
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Finally we must check for our results by focus on 2 important figures, (longitud
inal static stability and lift generated from airfoil) , slope of Cm Vs
 alpha must has negative slope, and the value of lift at trim angle of attack
 must be carry the weight of vehicle: 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/ahm 2 fig.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Fz vs alpha and Cm vs alpha
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Stability Analysis
\end_layout

\begin_layout Standard
We will illustrate this part by video its shown modes of longitudinal and
 lateral stability of plane by root locus and time response
\end_layout

\begin_layout Subsubsection
For longitudinal
\end_layout

\begin_layout Itemize
Type1: short period mode.
 
\end_layout

\begin_layout Itemize
Type2: Pitching.
 
\end_layout

\begin_layout Itemize
Type3,4: motion around steady state flight.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/long-modes1.png
	scale 50

\end_inset


\begin_inset VSpace defskip
\end_inset


\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/long-modes2.JPG
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
zero pole map for Longitudinal mode
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Longitudinal derivatives from Xflr5
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="4">
<features tabularvalignment="middle" tabularwidth="10page%">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{u}$
\end_inset

= -0.17768
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{xu}$
\end_inset

= -0.12599
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{w}$
\end_inset

= 0.39794
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{xa}$
\end_inset

= 0.28216
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{u}$
\end_inset

= -3.0683
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{zu}$
\end_inset

= -0.00056674
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{w}$
\end_inset

= -9.8047
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{la}$
\end_inset

= 6.9519
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{q}$
\end_inset

= -1.9192
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lq}$
\end_inset

= 13.608
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\begin_inset Formula $_{u}$
\end_inset

= 5.3903e-07
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Mu}$
\end_inset

= 1.911e-06
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\begin_inset Formula $_{w}$
\end_inset

= -0.22008
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Ma}$
\end_inset

= -0.78024
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\begin_inset Formula $_{q}$
\end_inset

= -1.20971
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Mq}$
\end_inset

= -42.886
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Neutral Point position= 0.38245 m
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsubsection
For lateral
\end_layout

\begin_layout Itemize
Type1: roll damping.
 
\end_layout

\begin_layout Itemize
Type2,3: dutch roll mode.
 
\end_layout

\begin_layout Itemize
Type4: spiral mode.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/lateral-modes1.png
	scale 50

\end_inset


\begin_inset VSpace defskip
\end_inset


\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/lateral-modes2.JPG
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
zero pole map for Lateral mode
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Lateral derivatives from Xflr5
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="4">
<features tabularvalignment="middle" tabularwidth="10page%">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\begin_inset Formula $_{V}$
\end_inset

= 1.0832e-27
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Yb}$
\end_inset

= 7.6802e-28
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\begin_inset Formula $_{P}$
\end_inset

= 2.3296e-19
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Yp}$
\end_inset

= 5.506e-19
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\begin_inset Formula $_{r}$
\end_inset

= -1.0915e-20
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Yr}$
\end_inset

= -2.5798e-20
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
L
\begin_inset Formula $_{V}$
\end_inset

= 9.9393e-15
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lb}$
\end_inset

= 1.1746e-14
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
L
\begin_inset Formula $_{P}$
\end_inset

= -0.22653
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lp}$
\end_inset

= -0.89234
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
L
\begin_inset Formula $_{r}$
\end_inset

= 0.082947
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lr}$
\end_inset

= 0.32674
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N
\begin_inset Formula $_{V}$
\end_inset

= 1.1912e-14
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{nb}$
\end_inset

= 1.4077e-14
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N
\begin_inset Formula $_{P}$
\end_inset

= -0.048585
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{np}$
\end_inset

= -0.19138
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N
\begin_inset Formula $_{r}$
\end_inset

= -3.9184e-13
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{nr}$
\end_inset

= -1.5435e-12
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Non-dimensional Stability Derivatives calculated by program: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="2">
<features tabularvalignment="middle">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CXu = -0.05768
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CYb = -0.45694
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CLu = 0.00031
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clb = -0.05641
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cmu = 0.00000
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cnb = 0.27372
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CXa = 0.10753
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CYp = -0.05404
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CLa = 5.46422
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clp = -0.51794
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cma = -1.09910
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cnp = -0.05093
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CXq = -0.49272
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CYr = 0.62552
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CLq = 12.54598
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clr = 0.21810
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cmq = -16.59853
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cnr = -0.37974
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Time response characteristics
\end_layout

\begin_layout Standard
At total time=100 second, and step=0.1 second we see the signal is converge
 with time.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename D:/Study/Graduation Project/final month6/grad_project/documentation6/Aerodynamic-design-First-iteration/results/response.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Time Response
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Structural Design
\end_layout

\begin_layout Subsection
Building a 3D model
\end_layout

\begin_layout Standard
Solid Works is used to create a 3D model and AutoCAD is used to edit 2D
 sketches for machining purposes
\end_layout

\begin_layout Subsubsection
aolidWorks outputs:
\end_layout

\begin_layout Enumerate
Files used in machining
\end_layout

\begin_layout Enumerate
Accurate weight estimation
\end_layout

\begin_layout Enumerate
Gravity center location control
\end_layout

\begin_layout Enumerate
Some analysis (flow and structural)
\end_layout

\begin_layout Subsubsection
Steps to draw a 3D model in SolidWorks
\end_layout

\begin_layout Enumerate
Define important dimensions created through aerodynamic analysis process
 such as: arm, span, chord ...
\end_layout

\begin_layout Enumerate
Define CG position needed for aerodynamic stability
\end_layout

\begin_layout Enumerate
Define components of the payload, their dimensions, weight and fixation
 points
\end_layout

\begin_layout Enumerate
define the components that needs mounts
\end_layout

\begin_layout Enumerate
Clearance needed for wiring and connections
\end_layout

\begin_layout Subsection
Components
\end_layout

\begin_layout Itemize
Pixhawk
\end_layout

\begin_layout Standard
Pixhawk position and orientation are the constraints that must be taken
 in consideration during vehicle design.
 Pixhawk must be located at the CG of the vehicle and its axes must be the
 same axes of the vehicle so, a mount must be designed and manufactured
 to makes sure that these constraints are satisfied
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/Components/pixhawk.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pixhawk 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Pixhawk mount
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/Components/pixhawk mount.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pixhawk mount 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
ZED camera
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/Components/ZED.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ZED stereo camera 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Jetson nano
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Quad Motor
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/Components/hover motor.png
	width 20page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Hovering quad motor 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Pusher motor
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/Components/pusher motor.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pusher motor 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Battery
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/Components/battery.png
	width 30page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Battery 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Wing fixation method
\end_layout

\begin_layout Subsubsection
Variable incidence angle fixation method
\end_layout

\begin_layout Standard
In order to achieve the ability of tuning incidence angle during wind tunnel
 testing, a fixed point and a movable point must be made where the movable
 point is used to adjust incidence and the fixed point is used as a pinned
 support which prevents displacements and allow rotation.
\end_layout

\begin_layout Standard
Variable incidence fixation method is explained in the following figures:
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/wing fixation/Capture.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation assembly
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/wing fixation/explanition incidince.jpg
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation Front view
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/wing fixation/zero incidince.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation at zero incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/wing fixation/-4.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation at -4 degrees incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/wing fixation/4.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation at 4 degrees incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Constant incidence angle fixation method
\end_layout

\begin_layout Standard
Due to complicity of manufacturing and implementing the previous method,
 a constant incidence angle fixation method is used as explained in the
\end_layout

\begin_layout Standard
following figures:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/wing fixation/constant incidence 1.png
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Constant incidence fixation at 2 degrees incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Fuselage
\end_layout

\begin_layout Subsection
Propulsion system selection
\end_layout

\begin_layout Subsubsection
Vertical takeoff propulsion system
\end_layout

\begin_layout Itemize
Motors : the rule of thump in choosing a vertical takeoff propulsion system
 is that the total propulsive force is twice the weight of the vehicle.
 See eq
\end_layout

\begin_layout Standard
\align center
\begin_inset Formula $T_{motor}\leq\frac{W_{estimated}}{4}$
\end_inset


\end_layout

\begin_layout Standard

\series bold
Note:
\series default
 Due to limited resources of available motors, we had to estimate the maximum
 takeoff weight from the available set of motors .
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/propulsion system/KDE2315XF_III_865e1186-de77-4a5d-88dc-2ecf16fd3482_large.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
KDE2315XF-965
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constant current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26+ A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constants watts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
385+ W
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
No load current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.5 A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Input Voltage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.1 V (3S LiPo) - 17.4 V (4S LiHV)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RPM/V (Kv rating)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
965
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
75 grams
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Hover motor specifications
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/propulsion system/KDE_Direct_XF_CF_Brushless_Performance_Testing_-_KDE2315XF-965.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Hover motor's preformance data
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
ESCs
\end_layout

\begin_layout Itemize
Propellers set
\end_layout

\begin_layout Subsubsection
Cruise propulsion system
\end_layout

\begin_layout Itemize
Motors : According to many references, the rule of thump in choosing a pusher
 motor is according to the following table
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
power/weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
vehicle's category
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
50-70 watts/pound: 11-15 watts/100g
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Minimum level of power for decent performance
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70-90 watts/pound; 15-20 watts/100g
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Trainer and slow flying scale models
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
90-110 watts/pound: 20-24 watts/100g 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sport, aerobatic and fast flying scale models
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
110-130 watts/pound: 24-29 watts/100g 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Advanced aerobatic and high-speed models
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
130-150 watts/pound: 29-33 watts/100g 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lightly loaded 3D models and ducted fans
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
power of motors to vehicle's weight 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/propulsion system/gpmg4595.jpg
	width 30page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Rimfire .10 35-30-1250 Outrunner Brushless
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constant current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
30A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum surge current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
35A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constants watts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
333W
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum brust watts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
390W
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
No load current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.2A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Input Voltage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7.4 - 11.1 V (2-3S LiPo)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RPM/V (Kv rating)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1250
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71 grams
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pusher motor specifications
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
ESCs
\end_layout

\begin_layout Itemize
Propellers set
\end_layout

\begin_layout Subsubsection
Power source (battery)
\end_layout

\begin_layout Standard
A MATlab code is created that roughly calculates the capacity if the battery
 needed given the endurance time of the mission and the consumption rate
 of the motors or calculates the mission endurance given the battery’s capacity.
 This code is based on some assumptions.
 (code is in the appendix of codes)
\end_layout

\begin_layout Standard
Assumptions:
\end_layout

\begin_layout Standard
The working time of the hovering motors is 20% of the mission endurance
\end_layout

\begin_layout Standard
The working time of pusher motor is the total mission endurance 
\end_layout

\begin_layout Itemize
Battery used in vehicle
\end_layout

\begin_layout Standard
A high quality Lithium battery, low weight /size and high power make it
 suitable for our application
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../Michael T lyx~/Lyx/propulsion system/lpb5200.jpg
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Lithium Polymer Battery (11.1 V, 5200 mAH- 35C)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Battery specification
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Capacity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5500 mAh
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Configuration
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3S1P / 11.1v / 3Cell
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Peak discharge
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
35C
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
380 gm
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
size
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
connector type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
T connector
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Battery specification
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Mathematical Model
\end_layout

\begin_layout Standard
The mathematical model will be derived mainly to design the controller during
 phase in which the flying taxi acts as multicopter.
\end_layout

\begin_layout Section
Equations of Motion(
\series bold
Rigid-Body dynamics
\series default
)
\end_layout

\begin_layout Subsection
Kinetics ( the study of forces and moments on system in motion)
\end_layout

\begin_layout Itemize

\bar under
Translational motion:
\bar default
 
\begin_inset Formula $\overrightarrow{F}=\frac{d}{dt}(m\overrightarrow{v})=m(\mathring{\overrightarrow{v}}+\overrightarrow{\omega}\times\overrightarrow{v})=\overrightarrow{F}_{Aero}+\overrightarrow{F}_{motors}+\overrightarrow{g}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
This relation represents the absolute resultant force acting on the CG ,which
 is the mass multiplied by the absolute change in the velocity vector of
 the CG of the flying taxi 
\begin_inset Formula $\overrightarrow{v}=u\overrightarrow{i}+v\overrightarrow{j}+w\overrightarrow{k}$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

but 
\begin_inset Formula $\overrightarrow{i},\overrightarrow{j},\overrightarrow{k}$
\end_inset

are unit vector in body axes directions which change direction with time
 so the absolute change is the sum of change in 
\bar under
magnitudes 
\begin_inset Formula $\mathring{\overrightarrow{v}}=\mathring{u}\overrightarrow{i}+\mathring{v}\overrightarrow{j}+\mathring{w}\overrightarrow{k}$
\end_inset


\begin_inset space ~
\end_inset


\bar default

\begin_inset space ~
\end_inset

and 
\bar under
directions 
\begin_inset Formula $\overrightarrow{\omega}\times\overrightarrow{v}$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\bar default

\begin_inset space ~
\end_inset

.
 Using body axes directions in translational motion is very beneficial as
 the inertial sensors gives its measurements in body axes so it's more suitable.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{F}_{Aero}$
\end_inset

can be ignored because during multicopter phase, the flying taxi encounters
 negligible aerodynamic force due to low speed
\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{F}_{motors}=\sum_{i=1}^{4}[-\frac{1}{2}\rho AC(\omega_{i}R_{propeller})^{2}]\overrightarrow{k}=\sum_{i=1}^{4}[-b_{i}\omega_{prop,i}^{2}]\overrightarrow{k}$
\end_inset


\begin_inset Newline newline
\end_inset

where 
\begin_inset Formula $b_{i}$
\end_inset

is constant can be obtained for every motor relates the square of the angular
 velocity of the motor 
\begin_inset Formula $\omega_{prop,i}^{2}$
\end_inset

to the generated thrust and the summation of the thrust of each motor holds
 the total thrust 
\begin_inset Formula $\overrightarrow{F}_{motors}$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{g}=C_{IB}\left[\begin{array}{c}
0\\
0\\
mg
\end{array}\right]$
\end_inset


\begin_inset Newline newline
\end_inset

where 
\begin_inset Formula $C_{BI}$
\end_inset

 is the rotation matrix from inertia axes to body axes according to ZYX
 euler angles(
\begin_inset Formula $\psi,\theta,\phi$
\end_inset

) will be derived later in the kinematics study
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\therefore\overrightarrow{g}=mg\left[\begin{array}{c}
-sin(\theta)\\
cos(\theta)sin(\phi)\\
cos(\phi)cos(\theta)
\end{array}\right]$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\bar under
Rotational motion:
\bar default
 
\begin_inset Formula $\overrightarrow{M}=\frac{d}{dt}(I\overrightarrow{\omega})=I\mathring{\overrightarrow{\omega}}+\overrightarrow{\omega}\times I\overrightarrow{\omega}=\overrightarrow{M}_{motors}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula 
\begin{align*}
\overrightarrow{M}_{motors} & =\overrightarrow{M}_{thrust\,induced}+\overrightarrow{M}_{drag\,induced}\\
 & =\left[\begin{array}{c}
l(T_{3}+T_{2}-T_{1}-T_{4})\\
l(T_{1}+T_{3}-T_{2}-T_{4})\\
0
\end{array}\right]+\left[\begin{array}{c}
0\\
0\\
-d_{1}\omega_{1}^{2}-d_{2}\omega_{2}^{2}+d_{3}\omega_{3}^{2}+d_{4}\omega_{4}^{2}
\end{array}\right]=\left[\begin{array}{c}
M_{x}\\
M_{y}\\
M_{z}
\end{array}\right]
\end{align*}

\end_inset


\begin_inset Newline newline
\end_inset

where 
\begin_inset Formula $\left\Vert M_{drag\,induced,i}\right\Vert =d_{i}\omega_{i}^{2}$
\end_inset

 and 
\begin_inset Formula $d_{i}$
\end_inset

 relates the square of the motor angular velocity and the generated torque
 on the motor base due to the aerodynamic resistance to the moving propeller
 which propagates to the flying taxi body from each motor.
\begin_inset Newline newline
\end_inset

motor 1: CCW drag , motor 2: CW drag , motor 3: CCW drag , motor 4: CW drag
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted1.png

\end_inset


\begin_inset Newline newline
\end_inset

also 
\begin_inset Formula $T_{i}=b_{i}\omega_{i}^{2}$
\end_inset


\begin_inset Newline newline
\end_inset

It's better to design the controller using 
\begin_inset Formula $M_{x},M_{y},M_{z}$
\end_inset

instead of 
\begin_inset Formula $\omega_{i}^{2}$
\end_inset

 to make the controller independent of the configuration so we need a control
 allocation (or mixing) law to map the controller output to a required angular
 velocity for each motor.
\end_layout

\begin_layout Itemize
This relation represents the absolute resultant moment around the CG , represent
ed in the body axes directions which is very beneficial also in derivation
 because inertia is usually constant in body axes in contrast to fixed axes
 beside the previous reason stated in the translational motion.
\end_layout

\begin_layout Itemize
\begin_inset Formula $I$
\end_inset

is the inertia tensor in body axes.
 For our flying taxi it's symmetric about xz plane 
\begin_inset Formula $\therefore I=\left[\begin{array}{ccc}
Ixx & 0 & -Ixz\\
0 & Iyy & 0\\
-Ixz & 0 & Izz
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Itemize
angular velocity of the flying taxi 
\begin_inset Formula $\overrightarrow{\omega}=p\overrightarrow{i}+q\overrightarrow{j}+r\overrightarrow{k}$
\end_inset


\end_layout

\begin_layout Itemize
absolute change of 
\begin_inset Formula $I\overrightarrow{\omega}$
\end_inset

is the sum of change in 
\bar under
magnitudes 
\begin_inset Formula $I\mathring{\overrightarrow{\omega}}=I(\mathring{p}\overrightarrow{i}+\mathring{q}\overrightarrow{j}+\mathring{r}\overrightarrow{k})$
\end_inset


\bar default
 and 
\bar under
directions 
\begin_inset Formula $\overrightarrow{\omega}\times I\overrightarrow{\omega}$
\end_inset


\end_layout

\end_deeper
\begin_layout Subsection
Kinematics (the study of motion without regard to forces or moments)
\end_layout

\begin_layout Standard
Using ZYX euler angles (
\begin_inset Formula $\psi,\theta,\phi$
\end_inset

), the transformation matrix which can be used to transform vectors from
 inertial axes to body axes is:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $C_{IB}=\left[\begin{array}{ccc}
cos(\psi)cos(\theta) & cos(\theta)sin(\psi) & -sin(\theta)\\
-cos(\phi)sin(\psi)+cos(\psi)sin(\phi)sin(\theta) & cos(\phi)cos(\psi)+sin(\phi)sin(\psi)sin(\theta) & cos(\theta)sin(\phi)\\
sin(\phi)sin(\psi)+cos(\phi)cos(\psi)sin(\theta) & -cos(\psi)sin(\phi)+cos(\phi)sin(\psi)sin(\theta) & cos(\phi)cos(\theta)
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\therefore\left[\begin{array}{c}
\mathring{X}\\
\mathring{Y}\\
\mathring{Z}
\end{array}\right]=C_{BI}\left[\begin{array}{c}
u\\
v\\
w
\end{array}\right]$
\end_inset

 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

where 
\begin_inset Formula $C_{BI}=C_{IB}^{T}$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

is the transform from body to inertial axes.
\end_layout

\begin_layout Standard
As ZYX euler angles represents rotation from :
\end_layout

\begin_layout Enumerate
body axes around Z to intermediate axes(1) with angle 
\begin_inset Formula $\psi$
\end_inset


\end_layout

\begin_layout Enumerate
intermediate axes(1) around y1 to intermediate axes(2) with angle 
\begin_inset Formula $\theta$
\end_inset


\end_layout

\begin_layout Enumerate
intermediate axes(2) around x2 to body axes with angle 
\begin_inset Formula $\phi$
\end_inset


\end_layout

\begin_layout Standard
so 
\begin_inset Formula $\mathring{\psi}$
\end_inset

is in Z direction , 
\begin_inset Formula $\mathring{\theta}$
\end_inset

 is in y1 direction , and 
\begin_inset Formula $\mathring{\phi}$
\end_inset

 is in x2 direction
\end_layout

\begin_layout Standard
\begin_inset Formula $\therefore\overrightarrow{\omega}=p\overrightarrow{i}+q\overrightarrow{j}+r\overrightarrow{k}=\mathring{\psi}\overrightarrow{K}_{inertial}+\mathring{\theta}\overrightarrow{j_{1}}+\mathring{\phi}\overrightarrow{i_{2}}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\because\overrightarrow{K}_{inertial}=[3rd\,row\,of\,C_{BI}].\left[\begin{array}{c}
1\\
1\\
1
\end{array}\right]=[3rd\,row\,of\,C_{BI}]^{T}=\left[\begin{array}{c}
-sin(\theta)\\
cos(\theta)sin(\phi)\\
cos(\phi)cos(\theta)
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Standard
, 
\begin_inset Formula $\overrightarrow{j_{1}}=\overrightarrow{j_{2}}=[2nd\,row\,R_{x}(\phi)]^{T}=\left[\begin{array}{c}
0\\
cos(\phi)\\
-sin(\phi)
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Standard
, 
\begin_inset Formula $\overrightarrow{i_{2}}=\overrightarrow{i}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\therefore\overrightarrow{\omega}=\left[\begin{array}{c}
p\\
q\\
r
\end{array}\right] & =\mathring{\psi}\left[\begin{array}{c}
-sin(\theta)\\
cos(\theta)sin(\phi)\\
cos(\phi)cos(\theta)
\end{array}\right]+\mathring{\theta}\left[\begin{array}{c}
0\\
cos(\phi)\\
-sin(\phi)
\end{array}\right]+\mathring{\phi}\left[\begin{array}{c}
1\\
0\\
0
\end{array}\right]\\
\therefore\left[\begin{array}{c}
p\\
q\\
r
\end{array}\right] & =\left[\begin{array}{ccc}
1 & 0 & -sin(\theta)\\
0 & cos(\phi) & cos(\theta)sin(\phi)\\
0 & -sin(\phi) & cos(\phi)cos(\theta)
\end{array}\right]\left[\begin{array}{c}
\mathring{\phi}\\
\mathring{\theta}\\
\mathring{\psi}
\end{array}\right]\\
\therefore\left[\begin{array}{c}
\mathring{\phi}\\
\mathring{\theta}\\
\mathring{\psi}
\end{array}\right] & =\left[\begin{array}{ccc}
1 & sin(\phi)tan(\theta) & cos(\phi)tan(\theta)\\
0 & cos(\phi) & -sin(\phi)\\
0 & sin(\phi)sec(\theta) & cos(\phi)sec(\theta)
\end{array}\right]\left[\begin{array}{c}
p\\
q\\
r
\end{array}\right]
\end{align*}

\end_inset


\end_layout

\begin_layout Subsection
Resultant Nonlinear model
\end_layout

\begin_layout Standard
from the previous dynamics (kinetics and kinematics) study, we get the nonlinear
 system which is 12 equations in 12 unknowns (states) .
\end_layout

\begin_layout Standard

\bar under
states:
\bar default
 u , v , w , p ,q , r , X , Y , Z , 
\begin_inset Formula $\phi$
\end_inset

, 
\begin_inset Formula $\theta$
\end_inset

 , 
\begin_inset Formula $\psi$
\end_inset


\end_layout

\begin_layout Standard

\bar under
system:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align}
\mathring{u} & =-gsinθ-qw+rv\\
\mathring{v} & =gcosθsinϕ-ru+pw\\
\mathring{w} & =gcosθcosϕ-pv+qu-\frac{T_{allmotors}}{m}\\
\mathring{p} & =\frac{Iy-Iz}{Ix}qr+\frac{M_{x}}{I_{x}}\\
\mathring{q} & =\frac{Iz-Ix}{Iy}pr+\frac{My}{Iy}\\
\mathring{r} & =\frac{Iy-Ix}{Iz}pq+\frac{M_{z}}{Iz}\\
\mathring{\phi} & =p+qsinϕtanθ+rcosϕtanθ\\
\mathring{\theta} & =qcosϕ-rsinϕ\\
\mathring{\psi} & =qsinϕsecθ+rcosϕsecθ\\
\mathring{X} & =[cos(θ)cos(ψ)]u+[sin(ϕ)cos(ψ)-cos(ϕ)sin(ψ)]v+[cos(ϕ)cos(ψ)+sin(ϕ)sin(ψ)]w\\
\mathring{Y} & =[cos(θ)sin(ψ)]u+[sin(ϕ)sin(θ)sin(ψ)+cos(ϕ)cos(ψ)]v+[cos(ϕ)sin(θ)sin(ψ)-sin(ϕ)cos(ψ)]w\\
\mathring{Z} & =[-sin(θ)]u+[sin(ϕ)cos(θ)]v+[cos(ϕ)cos(θ)]w
\end{align}

\end_inset


\end_layout

\begin_layout Standard

\bar under
Notes:
\end_layout

\begin_layout Itemize
from equ.s (4,5,6,7,8,9) , we have full control over all attitude angles
 (
\begin_inset Formula $\phi$
\end_inset

, 
\begin_inset Formula $\theta$
\end_inset

 , 
\begin_inset Formula $\psi$
\end_inset

) using 
\begin_inset Formula $M_{x},M_{y},M_{z}$
\end_inset


\end_layout

\begin_layout Itemize
from equ.
 (3,12) , we have direct control over Z (so altitude) using 
\begin_inset Formula $T_{allmotors}$
\end_inset


\end_layout

\begin_layout Itemize
from equ.s (1,2,10,11) , we don't have direct control over positions (X ,Y)
 but we can using attitude, so if we want to control the position we can't
 independently set specific attitude as it will be determined based on the
 required position.
\end_layout

\begin_layout Section
Linearization 
\end_layout

\begin_layout Standard
We linearize the dynamics of the flying taxi around equilibrium point at
 hovering where : 
\end_layout

\begin_layout Standard
all rates = 0 , 
\begin_inset Formula $\phi=\theta=0$
\end_inset

, 
\begin_inset Formula $p=q=r=0$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align}
\therefore\mathring{u} & =-g\theta\label{u_rate}\\
\mathring{v} & =-g\phi\label{v_rate}\\
\mathring{w} & =-\frac{\Delta T_{allmotors}}{m}\label{w_rate}\\
\mathring{p} & =\frac{M_{x}}{Ix}\label{p_rate_equ}\\
\mathring{q} & =\frac{M_{y}}{Iy}\label{q_rate}\\
\mathring{r} & =\frac{Mz}{Iz}\label{r_rate}\\
\mathring{\phi} & =p\label{roll_rate_equ}\\
\mathring{\theta} & =q\label{pitch rate}\\
\mathring{\psi} & =r\label{yaw_rate}\\
\mathring{X} & =u\label{X_rate}\\
\mathring{Y} & =v\label{Y_rate}\\
\mathring{Z} & =w\label{Z_rate}
\end{align}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\mathring{u},\mathring{v},\mathring{X},\mathring{Y}$
\end_inset

 considered not so good approximations as will be proved later by comparing
 linear and nonlinear models but we will use them only to estimate initial
 gains for guidance system.
\end_layout

\begin_layout Section
Parameters
\end_layout

\begin_layout Standard
from Solidworks model we can get initial estimates for the flying taxi parameter
s needed to design the controller in the next step:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kg
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ix
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.050595
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Iy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.0817086
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Iz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.117281
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Autopilot
\end_layout

\begin_layout Section
Autopilot design
\end_layout

\begin_layout Standard
From previous notes we stated after deriving the nonlinear model, we designed
 our control block diagram to be as follows:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename control loops of autopilot.png
	lyxscale 80
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Autopilot design
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Attitude controller
\end_layout

\begin_layout Standard

\series bold
\bar under
Roll Controller:
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "p_rate_equ"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "roll_rate_equ"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{\phi}=\frac{Mx}{Ix}\Rightarrow G_{phi}=\frac{\phi}{Mx}=\frac{1}{Ix\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename roll controller.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Roll Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.025298$
\end_inset

 , 
\begin_inset Formula $D=0.043$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
The roll step response and control action for linear and nonlinear models
 using the designed roll controller:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename roll.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Roll Step response and control action
\end_layout

\end_inset


\end_layout

\end_inset

The response for 5 deg desired roll input and control action (to show the
 effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename roll_5deg.bmp
	lyxscale 50
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
5 deg desired Roll input
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

 
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\series bold
\bar under
Pitch Controller:
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "q_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "pitch rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{\theta}=\frac{My}{Iy}\Rightarrow G_{\theta}=\frac{\theta}{My}=\frac{1}{Iy\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pitch controller.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pitch Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.040854$
\end_inset

 , 
\begin_inset Formula $D=0.06945$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
Note: Higher gains for pitch than roll due to higher Iy than Ix so the controlle
r needs to exert more effort to move the vehicle in pitch direction 
\end_layout

\begin_layout Standard
The pitch step response and control action for linear and nonlinear models
 using the designed pitch controller:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pitch.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pitch Step response and control action
\end_layout

\end_inset


\end_layout

\end_inset

The response for 5 deg desired pitch input and control action (to show the
 effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pitch_5deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
5 deg desired pitch input
\end_layout

\end_inset


\end_layout

\end_inset

 
\begin_inset Newline newline
\end_inset


\series bold
\bar under
Yaw Controller:
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "r_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "yaw_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{\psi}=\frac{Mz}{Iz}\Rightarrow G_{\psi}=\frac{\psi}{Mz}=\frac{1}{Iz\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename yaw controller.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Yaw Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.058641$
\end_inset

 , 
\begin_inset Formula $D=0.1$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
Note: Higher gains for yaw than roll and pitch due to higher Iz than Iy
 and Ix so the controller needs to exert more effort to move the vehicle
 in yaw direction 
\end_layout

\begin_layout Standard
The yaw step response and control action for linear and nonlinear models
 using the designed yaw controller:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename yaw.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Yaw Step response and control action
\end_layout

\end_inset


\end_layout

\end_inset

The response for 5 deg desired Yaw input and control action (to show the
 effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename yaw_5deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
5 deg desired yaw input
\end_layout

\end_inset


\end_layout

\end_inset

 
\begin_inset Newline newline
\end_inset


\series bold
\bar under
Roll,Pitch and Yaw Controllers together in action:
\series default
\bar default

\begin_inset Newline newline
\end_inset

As we see from the nonlinear model all attitude states affects each others
 (Coupled) so we need to verify that there disturbance on each other won't
 lead to bad performance or even instability.
 As shown the linear model is decoupled which isn't the case in reality.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Coupling_R5_P0_Y5.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
desired roll = 5 deg , desired pitch = 0 , desired yaw = 5
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Altitude Controller
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "w_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "Z_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{Z}=-\frac{\Delta T_{allmotors}}{m}\Rightarrow G_{Z}=\frac{Z}{\Delta T_{allmotors}}=\frac{1}{m\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename altitude controller.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Altitude Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.7$
\end_inset

 , 
\begin_inset Formula $D=1.19$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
Note: Higher gains for altitude than attitude due to higher mass than inertia
 as values.
\end_layout

\begin_layout Standard
The altitude step response (Z = -1 m) and control action for linear and
 nonlinear models using the designed yaw controller:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename altitude_1m.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Altitude Step response and control action
\end_layout

\end_inset


\end_layout

\end_inset

The response for -4 m (Z = 4 m) desired altitude input and control action
 (to show the effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename altitude_-4m.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
5 deg desired yaw input
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Note : Negative 
\begin_inset Formula $\Delta T_{allmotors}$
\end_inset

doesn't mean reversed motors thrust but means that the thrust will decrease
 below nominal thrust.
\end_layout

\begin_layout Subsection
Attitude & Altitude controllers together in action
\end_layout

\begin_layout Standard
We will study the effect of changing both attitude and altitude because
 as appearing in the nonlinear model the attitude is affecting the altitude
 so we should verify that the altitude controller can handle this effect
 which considered relative to the altitude controller as external disturbance
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename coupling_R-5_P-5_Z-4.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
desired roll = -5 deg , desired pitch = -5 deg , desired altitude = -4 m
 ( Z = 4 m) 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Line-of-sight (LOS) Guidance
\end_layout

\begin_layout Standard
LOS guidance is a method used to guide a vehicle between 2 waypoints using
 2 types of errors : along-track error and cross-track error by calculating
 both of them we can then choose pitching to eliminate along-track error
 and rolling to eliminate cross-track error.
 From the previous waypoint and current one we can get the desired yaw angle.
 LOS can be more complicated espically for fixed wing as we can't control
 rolling without changing yaw angle which isn't the case for us during multicopt
er flight phase of the flying taxi.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LOS.png
	lyxscale 70
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LOS
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\alpha_{k} & =tan^{-1}\left(\frac{Y_{des}^{k}-Y_{des}^{k-1}}{X_{des}^{k}-X_{des}^{k-1}}\right)\\
\psi_{des} & =\alpha_{k}\\
e_{cross-track} & =-(X-X_{des}^{k-1})sin(\alpha_{k})+(Y-Y_{des}^{k-1})cos(\alpha_{k})\\
s & =(X-X_{des}^{k-1})cos(\alpha_{k})+(Y-Y_{des}^{k-1})sin(\alpha_{k})\\
R & =\sqrt{(Y_{des}^{k}-Y_{des}^{k-1})^{2}+(X_{des}^{k}-X_{des}^{k-1})^{2}}\\
e_{along-track} & =R-s
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LOS block diagram.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LOS block diagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Our strategy to get PID values is using the linearized model to design a
 controller as initial estimate then using LabVIEW simulation of the nonlinear
 model we can tune the controller for better performance.
\end_layout

\begin_layout Standard
From equ.s (
\begin_inset CommandInset ref
LatexCommand ref
reference "u_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "X_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

) : 
\begin_inset Formula $\ddot{X}=-g\theta\Rightarrow G_{X}=\frac{X}{\theta}=\frac{-g}{s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
It's clear that the linearized model only accounts for g component effect
 but the 
\begin_inset Formula $\Delta T_{allmotors}$
\end_inset

component doesn't appear
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename X guidance.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
X guidance
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using SISO tool : 
\begin_inset Formula $P=-0.00063466$
\end_inset

 , 
\begin_inset Formula $D=-0.0159$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename along track control_alt_contr_effect.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 1)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
changing the gains in LabVIEW Simulation (Shown in the next section) by
 giving input way point (X=1 , Y=0 , Z=-1):
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LabVIEW frontpanel.png
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW front panel
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename along track control_newGains.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 2 increasing P) : high steady-state error
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename along track control_newGains2_decreaseKd.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 2 decreasing D) : high steady-state error and
 the settling time is increased (as expected but we only wanted see the
 effect)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename along track control_newGains2_with Iterm.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 3 adding small I term to eliminate steady-state
 error) : settling time is highly increased
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename along track control.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track error control (final trial) : increasing P and D
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
gains from linearized model : 
\begin_inset Formula $P=-0.00063466$
\end_inset

 , 
\begin_inset Formula $D=-0.0159$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
new gains after tunning using nonlinear simulation : 
\series bold

\begin_inset Formula $P=-0.002$
\end_inset

 , 
\begin_inset Formula $D=-0.2$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\begin_inset Newline newline
\end_inset


\series default
in all previous results the altitude control is working as could be seen
 fron Z-force response.
 
\series bold

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
Similarly, For cross-track error we used the same procedure: 
\begin_inset Formula $\ddot{Y}=-g\phi\Rightarrow G_{Y}=\frac{Y}{\phi}=\frac{-g}{s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
As before it's clear that the linearized model only accounts for g component
 effect but the 
\begin_inset Formula $\Delta T_{allmotors}$
\end_inset

component doesn't appear
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Y guidance.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Y guidance
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using SISO tool : 
\begin_inset Formula $P=-0.00063473$
\end_inset

 , 
\begin_inset Formula $D=-0.0159$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset

 
\begin_inset space ~
\end_inset

approximately the same as linear X-guidance because the only difference
 is in the 
\begin_inset Formula $\frac{\phi}{\phi_{req}}$
\end_inset

 instead of 
\begin_inset Formula $\frac{\theta}{\theta_{req}}$
\end_inset

 which, from our designed attitude controller results, is fast compared
 to X , Y responses
\end_layout

\begin_layout Standard
So we used the previously tuned gains from nonlinear simulation: 
\series bold

\begin_inset Formula $P=-0.002$
\end_inset

 , 
\begin_inset Formula $D=-0.2$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
Now we run the nonlinear simulation by giving input waypoint(X=0 , Y=1 ,
 Z=-1):
\end_layout

\begin_layout Standard
as seen from the figure below , the yaw angle is changed to -90 deg quickly
 so the cross-track became along-track error
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename guidance_y_only.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
X,Y guidance waypoint(X=0 , Y=1 , Z=-1)
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
Intermediate case input waypoint (X=1 , Y=1 , Z=-1):
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename XYG1.png
	width 45col%

\end_inset


\begin_inset Graphics
	filename XYG2.png
	width 45col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename XYG3.png
	width 45col%

\end_inset


\begin_inset Graphics
	filename XYG4.png
	width 45col%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename XYG5.png
	width 50col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
X,Y Guidance waypoint(X=1 , Y=1 , Z=-1)
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Simulation using LabVIEW
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LabVIEW frontpanel.png
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW front panel
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LabVIEW blockdiagram.png
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW blockdiagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LabVIEW guidance bloackdiagram.png
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW Guidance blockdiagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LabVIEW altitude  blockdiagram.png
	width 90col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW altitude BD
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename LabVIEW attitude  blockdiagram.png
	width 90col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW attitude controller BD
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Commercial Autopilot
\end_layout

\begin_layout Standard
We used PIXHAWK as a commercial autopilot.
 PIXHAWK is an autopilot hardware for academic, hobby and developer communitites
 and supports flight stacks software like PX4 and ArduPilot.
 We used PX4 software.
 PX4 software consists of 2 main parts: Middleware and Flightstack as follows:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="40col%">
<column alignment="center" valignment="top" width="40col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none" width="90col%">
\begin_inset Text

\begin_layout Plain Layout
PX4 Software
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Middleware
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Flightstack
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
general robotics layer for any autonomous robot not only drones like rovers.
 It handles the internal communications between the different running programs
 using asynchronous message passing(uORB) and external communication using
 MAVLink or FastRTPS.
 It provides the hardware integration (GPS-IMU-....)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It contains the estimation and flight control system.
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename PX4_Architecture.svg
	lyxscale 60
	width 60col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
PX4 architecture from PX4 website
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We are concerned more with the Flightstack so we will take a small dive
 to show the basics of each subsystem in the flightstack.
 The flightstack consists of 7 main subsystems: Commander - Navigator -
 Position Controller - Attitude & Rate Controller - Sensors Hub - Estimator
 - Output Driver
\end_layout

\begin_layout Subsection
Commander
\end_layout

\begin_layout Standard
The commander is a state-machine architecture which can switch the flight
 modes based on specific conditions from the remote control or even from
 the mavlink (using companion computer).
 A simple example shows how the commander works: The commander has a main
 loop inside which check if there is an 
\begin_inset Quotes eld
\end_inset

Arming
\begin_inset Quotes erd
\end_inset

 signal coming from the remote control and if there is , it will call a
 function called 
\begin_inset Quotes eld
\end_inset

arming_state_transition()
\begin_inset Quotes erd
\end_inset

 and after checking if it's valid to 
\begin_inset Quotes eld
\end_inset

Arm
\begin_inset Quotes erd
\end_inset

 the muticopter.
 the arm variable will be changed to the arming value and then published
 for other programs using the uORB message system which is built inside
 the PX4 middleware.When the output drivers programs read the arm variable,
 they will initiate the spinning of the motors.
 We will explain the 
\begin_inset Quotes eld
\end_inset

flight modes
\begin_inset Quotes erd
\end_inset

 later in this section.
\end_layout

\begin_layout Subsection
Navigator
\end_layout

\begin_layout Standard
The navigator takes its 
\series bold
inputs
\series default
 from 
\bar under
database(store waypoints or mission),RC(Remote control) or the Commandar
\bar default
, and 
\series bold
outputs
\series default
 
\bar under
position setpoints
\bar default
 to be used by the position controller.
\end_layout

\begin_layout Subsection
Position controller
\end_layout

\begin_layout Standard
inputs: Position setpoints & heading
\end_layout

\begin_layout Standard
outputs: 
\series bold
Thrust vector
\series default
 which can be decomposed into 
\bar under
attitude(angles) setpoints
\bar default
 and 
\bar under
thrust magnitude.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pasted2.png
	width 80page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
cascaded control architecture from 
\begin_inset Quotes eld
\end_inset

Nonlinear Quadrocopter Attitude Control Technical Report,Brescianini, Dario;
 Hehn, Markus; D'Andrea, Raffaello,2013
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
The feedforward signal isn't used for multirotors.
\end_layout

\begin_layout Standard
The position controller is implemented such that it consists of 2 loops
 :
\end_layout

\begin_layout Enumerate

\bar under
1st loop
\bar default
 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: position setpoints , outputs: velocity setpoints , controller: P-control
ler
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted4.png
	width 90col%

\end_inset


\end_layout

\begin_layout Enumerate

\bar under
2nd loop
\bar default

\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: velocity setpoint , outputs: required thrust vector , controller:
 PID-controller
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted5.png
	width 90col%

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted6.png
	width 90col%

\end_inset


\end_layout

\begin_layout Standard
But the D-term in the controller don't use the error rate as usual PIDs
 , it uses the negative rate of the estimated plant velocity to avoid 
\begin_inset Quotes eld
\end_inset

the derivative kick
\begin_inset Quotes erd
\end_inset

 which causes high control action due to the discrete implementation of
 the PID.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename position controller.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Position Controller
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Attitude & Rate Controller
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pasted3.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
cascaded control architecture from 
\begin_inset Quotes eld
\end_inset

Nonlinear Quadrocopter Attitude Control Technical Report,Brescianini, Dario;
 Hehn, Markus; D'Andrea, Raffaello,2013
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
inputs: attitude setpoints(Roll-Pitch-Yaw)
\end_layout

\begin_layout Standard
outputs: 
\series bold
Required Forces and Moments
\end_layout

\begin_layout Standard
The Attitude controller consists also of 2 loops :
\end_layout

\begin_layout Enumerate

\bar under
1st loop
\bar default
 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: attitude setpoints , outputs: angular rates setpoints , controller:
 P-controller (
\begin_inset Formula $\frac{1}{\tau}$
\end_inset

)
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted7.png
	width 60col%

\end_inset


\end_layout

\begin_layout Enumerate

\bar under
2nd loop
\bar default

\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: angular rates setpoint , outputs: required forces and moments ,
 controller: PID-controller
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted8.png
	width 90col%

\end_inset


\end_layout

\begin_layout Standard
The PX4 provides some measures to account for the nonlinear behavior of
 the motor in practice.
 For example if we noticed oscillations when we go towards full-throttle,
 we can solve this problem using 2 approaches:
\end_layout

\begin_layout Enumerate
Thrust Curve method : 
\begin_inset Formula $thrust=(1-factor)PWM+(factor)\,PWM^{2}$
\end_inset


\begin_inset Newline newline
\end_inset

the 
\begin_inset Formula $factor$
\end_inset

 is stored in 
\begin_inset Quotes eld
\end_inset

THR_MDL_FAC
\begin_inset Quotes erd
\end_inset

 parameter so we can change it to model our motors characteristics.
\end_layout

\begin_layout Enumerate
PID attenuation method : after some value of the throttle (for example:
 70%) called 
\begin_inset Quotes eld
\end_inset

break-point
\begin_inset Quotes erd
\end_inset

, we can attenuate the gains to decrease the control effort according to
 a parameter called 
\begin_inset Quotes eld
\end_inset

rate
\begin_inset Quotes erd
\end_inset

.
 The break-point value is configured using 
\begin_inset Quotes eld
\end_inset

MC_TPA_BREAK_*
\begin_inset Quotes erd
\end_inset

 parameters , and the rate is configured using 
\begin_inset Quotes eld
\end_inset

MC_TPA_RATE_* 
\begin_inset Quotes erd
\end_inset

 parameters.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pasted9.png
	width 50col%

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename attitude controller.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Attitude&rate controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Estimator
\end_layout

\begin_layout Standard
In PX4 flightstack, there is 4 types of estimators are defined so we can
 choose the one that suits our application.
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="22col%">
<column alignment="center" valignment="top" width="22col%">
<column alignment="center" valignment="top" width="22col%">
<column alignment="center" valignment="top" width="22col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Estimator
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q attitude estimator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
INAV position estimator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LPE position estimator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKF2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's a quaternion based 
\series bold
complementary filter
\series default
 for 
\series bold
attitude.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's a 
\series bold
complementary filter
\series default
 for estimating 
\series bold
3D position and velocities.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's an 
\series bold
EKF(Extended Kalman filter)
\series default
 for estimating 
\series bold
3D position and velocities.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's as an 
\series bold
EKF(Extended Kalman filter)
\series default
 for estimating 
\series bold
3D postion , velocities , wind states and attitude.
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
We can choose the required estimator using SYS_MC_EST_GROUP parameter which
 has 3 possible values to choose the estimator as follows:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SYS_MC_EST_GROUP
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q estimator (Complementary filter for attitude)
\begin_inset Newline newline
\end_inset

INAV (Complementary filter for position)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q estimator (Complementary filter for attitude)
\begin_inset Newline newline
\end_inset

LPE (EKF for position)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKF2 (all multicopter states and wind)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
We used the 
\series bold
EKF2
\series default
 .
\end_layout

\begin_layout Subsection
Output drivers
\end_layout

\begin_layout Standard
They are responsible for the interfacing including the driver responsible
 for communicating with the motors ESCs to set the required PWM.
 They are incude also a program called 
\begin_inset Quotes eld
\end_inset

Mixer
\begin_inset Quotes erd
\end_inset

 the required forces and moments goes to the mixer which separates the airframe
 configuraion from the controller.
 This generalizes the controller to various configurations
\begin_inset Quotes erd
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

There is also a very important software called 
\begin_inset Quotes eld
\end_inset


\series bold
Logger
\series default

\begin_inset Quotes erd
\end_inset

, it's implemented in the Middleware.
 It's very important to log data for tuning and performance analysis.
 The logger is automatically started when arming the vehicle and stopped
 when disarming it and a new log file is generated.
 There is 2 ways to have the logged data :
\end_layout

\begin_layout Enumerate
The most efficient way for large data size is using SD card on the PIXHAWK
 where the data is logged.
\end_layout

\begin_layout Enumerate
The Log Streaming way, which sends the same logging data via MAVLink.
 The requirement is that the link(for example WiFi) provides at least 50
 KB/s and only one client can request log streaming at the same time.
 The connection doesn't necessarily need to be reliable because the protocol
 can handle drops.
\end_layout

\begin_layout Standard
Both methods can be used independently or can be used at the same time.
 After getting the log file using any way we need to convert the generated
 
\begin_inset Quotes eld
\end_inset

.ulg
\begin_inset Quotes erd
\end_inset

 file to another more useful data structure like 
\begin_inset Quotes eld
\end_inset

.csv
\begin_inset Quotes erd
\end_inset

 to open using excel or matlab, there is a lot of tools can handle the log
 file , analyze the data and generate graphs automatically offline like
 
\begin_inset Quotes eld
\end_inset

PyFlightAnalysis
\begin_inset Quotes erd
\end_inset

 or online like 
\begin_inset Quotes eld
\end_inset

Flight Review
\begin_inset Quotes erd
\end_inset

.
 We used a python tool to only convert the log file to excel files called
 
\begin_inset Quotes eld
\end_inset

pylog
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Section
Gains Comparison
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Vision navigation and Obstacle Avoidance
\end_layout

\begin_layout Standard
Unlike rovers or cars air vehicles don't have the option to use wheel encoders
 to determine its pose (state estimation) since they rely on GPS, IMU and
 vision to estimate their state, they subject to significant uncertainties.
 GPS accuracy is about 4 m but It's useful for long-term global position
 determination also GPS is with limited use indoor or closed places generally
 where there is a bad connection with satellites.
 The embedded estimator in the PIXHAWK which uses gyro and accelerometer
 to determine local position but the problem of using these inertial sensors
 is the dead-reckoning which drifts over time due to error accumulation.
 Although the reference gravity vector of the accelerometer is fused with
 the attitude from the gyros, long-term correction is still needed especially
 for high acceleration cases which causes deviation of the gravity vector.
 Usually GPS is used but it's insufficient due to its low accuracy and operating
 conditions.
 Here comes the need for visual odometry which is state estimation from
 visual data.
 Visual odometry is more accurate than GPS in state estimation and even
 in some cases from the inertial data when there is a suitable operating
 conditions and relatively low speed.
 For times of high speed or bad textured surrounding, the Iinertial data
 can aid the visual odometry.
 So GPS, IMU and Visual odometry can be used together for better state estimatio
n.
 In our case, the ZED Stereo camera is used to get Point Cloud data
\begin_inset Foot
status open

\begin_layout Plain Layout
Point cloud is a set of data points in space
\end_layout

\end_inset

 from which we can get visual odometry as well as information about obstacles.
 Obstacles information is used by the obstacle avoidance algorithm which
 evaluates the path planning and generates the reference trajectory.
 The visual odometry is fused with the PX4 position and/or attitude estimations
 to get a better state estimates.
\end_layout

\begin_layout Section
Stereo Vision
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="30page%">
<column alignment="center" valignment="top" width="27page%">
<column alignment="center" valignment="top" width="20page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Stereo Camera
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Depth Cameras
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Laser Scanner
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
\noindent
\align left
2 cameras are rigidily mounted to a common mechanical structure.
\end_layout

\begin_layout Itemize
\noindent
\align left
Its performance depends on : mechanical design , resolution , lens type
 & quality ,....
\end_layout

\begin_layout Itemize
\noindent
\align left
It can only estimate the distances to features like: sharp , high contrast
 corners (because they have high gradient in x,y directions).
 so It can't get distance to featureless wall but practically outdoor scenes
 have sufficient textures for stereo vision to work well.
\end_layout

\begin_layout Itemize
\noindent
\align left
ROS message: sensor_msgs/Image and sensor_msgs/CameraInfo
\end_layout

\begin_layout Itemize
\noindent
\align left
Image processing packages can be used to handle the outputs of the cameras
 to achieve the stereo vision
\end_layout

\begin_layout Plain Layout
\noindent
\align left
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100line%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../pasted16.png
	lyxscale 15
	width 6.5cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../pasted17.png
	width 6.5cm

\end_inset


\end_layout

\begin_layout Plain Layout
ZED stereo Camera : from 0.5 to 20m at 100FPS, indoors and outdoors.
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
\noindent
\align left
Unlike the passive stereo camera, they are active cameras that shine a texture
 pattern on the surfaces and from the deformation of the pattern thay can
 get the informations of the scene.
\end_layout

\begin_layout Itemize
\noindent
\align left
They greatly improves the system performance.
\end_layout

\begin_layout Itemize
\noindent
\align left
typically operate near-infrared wavelength to reduce system sensitivity
 to the colors of the objects.
\end_layout

\begin_layout Itemize
\noindent
\align left
There are 3 types of depth cameras: Kinect(structured light) - unstructured
 light depth cameras which employ a random texture - time-of-flight depth
 cameras which use an IR or laser pulses and special pixel structures in
 image sensors to estimate the depth from the time of laser bounding back
 and the speed of light.
\end_layout

\begin_layout Itemize
\noindent
\align left
the output of those cameras is point clouds which are estimated 3D points
 of the scene
\end_layout

\begin_layout Itemize
\noindent
\align left
ROS message: sensor_msgs/PointCloud2
\end_layout

\begin_layout Plain Layout
\noindent
\align left
\begin_inset Graphics
	filename ../pasted18.png
	width 4.5cm

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
\noindent
\align left
superior accuracy (about 14 mm error)
\end_layout

\begin_layout Itemize
\noindent
\align left
longer sensing range than cameras (0.2 - 6 m)
\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../pasted19.png
	lyxscale 20
	width 4.5cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../pasted20.png
	lyxscale 20
	width 5cm

\end_inset


\end_layout

\begin_layout Itemize
ROS message: 
\begin_inset Newline newline
\end_inset

sensor_msgs/LaserScan
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
different sensors for vision
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
discussion
\end_layout

\begin_layout Standard
Pose(position and orientation) estimation problem can be solved using :
\end_layout

\begin_layout Itemize
integration of IMU readings which degrads over time due to error integration
\end_layout

\begin_deeper
\begin_layout Itemize
Visual Odometry (more accurate for pose estimation).
\begin_inset Newline newline
\end_inset

In visual Odometry arises the scaling factor problem because we don't sense
 distance in real world and some possible solutions are:
\end_layout

\begin_deeper
\begin_layout Enumerate
Known environment operation: for example, we can put a land mark with known
 size so when capture images we can extract scale factor and get distances
 from pixels.(off-board example
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_off-board"
literal "false"

\end_inset

, on-board example
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_on-board"
literal "false"

\end_inset

)
\end_layout

\begin_layout Enumerate
We can use 1 camera + Ultrasound(which measures distances) 
\begin_inset CommandInset citation
LatexCommand cite
key "monocular visin_ultrasound_SLAM"
literal "false"

\end_inset


\end_layout

\begin_layout Enumerate
We can use 1 camera + accelerometer + pressure sensor 
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_accel&pressure_SLAM_onboard"
literal "false"

\end_inset


\end_layout

\begin_layout Enumerate
We can use 1 camera + IMU 
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_IMU"
literal "false"

\end_inset


\end_layout

\begin_layout Enumerate
We can use 2 cameras (Stereo vision) which eliminate the scaling factor
 problem but increases the computational cost
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Cameras are less energy consumer and lighter than 3D-localization sensors
 such as LIDARs
\end_layout

\begin_layout Itemize
There are 2 types of stereo processing algorithms:
\end_layout

\begin_deeper
\begin_layout Itemize
Dense stereo algorithm : high computational cost.
 In Ref
\begin_inset CommandInset citation
LatexCommand cite
key "dense stereo algoritm"
literal "false"

\end_inset

, they used 2 downward cameras and did the dense stereo processing on-board
 at frame rate of just 3Hz then they fused the visual odometry with laser
 scanner data.
\end_layout

\begin_layout Itemize
Sparse stereo matching algorithm : faster - can maintain a high pose estimation
 rate of 30 Hz
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
ZED stereo camera vs Kinect:
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="10page%">
<column alignment="center" valignment="top" width="15page%">
<column alignment="center" valignment="top" width="15page%">
<column alignment="center" valignment="top" width="15page%">
<column alignment="center" valignment="top" width="15page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED mini
\end_layout

\begin_layout Plain Layout
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
https://www.stereolabs.com/zed-mini/
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED stereo
\begin_inset Foot
status open

\begin_layout Plain Layout
https://www.stereolabs.com/zed/
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kinect
\begin_inset Foot
status open

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/Kinect
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
62.9 gm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
159 gm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
425.2 gm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight is very important in aerospace applications
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
operating condition
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
indoor & outdoor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
indoor & outdoor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
indoor (due to the usage of IR)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Flaying Taxi is mainly outdoor application
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Range
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
15 cm - 12 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
30 cm - 20m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.2 m - 3.5 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Features
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Motion Sensors : Gyroscope, Accelerometer with Sampling Rate: 800 Hz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RGB camera (640×480 pixels @ 30 Hz)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The ZED stereo does its calculations on a host 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6-axis Pose Accuracy : 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Position: +/- 1mm 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

 Orientation: 0.1°
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
same as mini
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IR depth sensor (640×480 pixels @ 30 Hz)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hardware running SDK system which has the following 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Technology : Visual-inertial stereo SLAM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Technology : Real-time depth-based visual odometry and SLAM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
multi-array microphone running proprietary software
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
requirements :
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pose Update Rate : Up to 100Hz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Frequency : Up to 100Hz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
full-body 3D motion capture, facial recognition and voice recognition capabiliti
es
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dual-core 2,3GHz or faster processor / 4 GB RAM or more
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nvidia GPU with compute capability > 3.0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Note that ZED requires significant computation cost to apply
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
the dense stereo matching at reasonable rate by using the GPU fucntions
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
in OpenCV to accomplish this.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Connectivity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 3.0 Type-C port
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 3.0 port with 1.5m integrated cable
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 2.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Power
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Power via USB 5V / 380mA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Power via USB 5V / 380mA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 12V, 1.08A (needs high power for the motors)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kinect has a higher power consumption
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ZED stereo camera vs Kinect
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Using 4 cameras + IMU for self-localization
\begin_inset CommandInset citation
LatexCommand cite
key "Stereo Vision"
literal "false"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename ../pasted21.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ref
\begin_inset CommandInset citation
LatexCommand cite
key "Stereo Vision"
literal "false"

\end_inset

 MAV uses 4 cameras to get pose estimate real-time on-board
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Paper in Ref
\begin_inset CommandInset citation
LatexCommand cite
key "Stereo Vision"
literal "false"

\end_inset

 introduces novel design for an autonomous quadrotor by employing four cameras
 in two stereo configurations with on-board real-time processing:
\end_layout

\begin_layout Itemize
2 forward cameras used with reduced(modified) SLAM based on PTAM
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Parallel Tracking And Mapping (PTAM), which is a popular open source SLAM
 implementation known for its robustness and efficiency.
\end_layout

\end_inset

 and it estimates the pose of the MAV
\end_layout

\begin_layout Itemize
2 downward cameras used with ground-plane detection algorithm(to estimate
 the height , pitch and roll) and frame-to-frame tracking algorithm(to estimate
 the yaw and horizontal displacement)
\end_layout

\begin_layout Itemize
finally, they fused the data from the 2 stereo configurations and outputted
 an estimate for the MAV pose used to control the position and attitude
 of the MAV instead of IMU only unlike PIXHAWK
\end_layout

\begin_layout Itemize
They used stereo matching algoritm twice for both the forward stereo and
 downward stereo on-board
\end_layout

\begin_layout Itemize
They showed that adding 2 downward cameras significantly improves the self-local
ization
\end_layout

\begin_layout Itemize
Hardware:
\series bold
 
\end_layout

\begin_deeper
\begin_layout Itemize
PIXHAWK
\end_layout

\begin_layout Itemize
4 USB cameras / gray scale image / 640*480 :
\end_layout

\begin_deeper
\begin_layout Itemize
2 forward cameras : 11 cm baseline - frame rate of 30Hz
\end_layout

\begin_layout Itemize
2 downward cameras : 5 cm baseline - frame rate of 15Hz to reduce computations
\end_layout

\begin_layout Itemize
both configurations are synchronoused to capture data ar the same time.
\end_layout

\end_deeper
\begin_layout Itemize
On-board computer with Intel Core 2 Due CPU with 1.86GHz to execute image
 processing and motion estimation
\end_layout

\begin_layout Itemize
Microcontroller with IMU to send IMU data to the on-board computer and receive
 from it the high-level control instructions using I2c bus.
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
The 2 forward facing cameras
\end_layout

\begin_deeper
\begin_layout Itemize
apply feature detection (800 feature upper bond) then do the sparse stereo
 matching
\end_layout

\begin_layout Itemize
SLAM employed to get pose from the successfully matched features
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename ../pasted22.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
2 forward-facing stereo configuration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Rotation is predicted using ESM(Efficient 2nd order Minimization based image
 alignment method).
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
The 2 downward facing cameras
\end_layout

\begin_deeper
\begin_layout Itemize
apply sparse stereo matching but with 300 feature at 15Hz because the algorithms
 used here are less sensitive to the features count and image rate than
 the above LocalSLAM
\end_layout

\begin_layout Itemize
RANSAC algorithm: to detect ground-plane & extract
\bar under
 Height(h)
\bar default
 , 
\bar under
Pitch angle
\bar default
 and 
\bar under
Roll angle
\bar default
 , unlike the height , pitch and roll extracted from the Local SLAM they
 here don't depend on the old values (In the LocalSLAM we use the old values
 in the motion model).
 So they resist drifting and give high accuracy
\end_layout

\begin_layout Itemize
frame-to-frame Tracking: They used the ESM algorithm to get the Affine transform
ation between 2 frames to get the 
\bar under
Yaw
\bar default
 and 
\bar under
Horizontal displacement
\end_layout

\begin_layout Itemize
To have a large field of view (FOV) , they used small focal length which
 causes strong lens distortion which disrupt the frame-to-frame tracking,
 so they did image rectification first.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\bar under
Final Configurarion
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename ../pasted23.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
final configuration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\bar under
Final Results
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../pasted24.png
	scale 60

\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset Graphics
	filename ../pasted25.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset VSpace defskip
\end_inset


\begin_inset Graphics
	filename ../pasted26.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename ../pasted27.png
	scale 50

\end_inset


\begin_inset space \hfill{}
\end_inset


\begin_inset Graphics
	filename ../pasted28.png
	scale 50

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Autonomous robots architecture
\end_layout

\begin_layout Standard
Important terminologies in autonomous robots:
\end_layout

\begin_layout Itemize

\bar under
Mapping
\bar default
 : modelling the environment.
\end_layout

\begin_layout Itemize

\bar under
Localization
\bar default
 : estimating the pose of the robot with respect to a given model of the
 environment.
\end_layout

\begin_layout Itemize

\bar under
SLAM (Simultaneous Localization and Mapping)
\bar default
 : doing both tasks at the same time
\end_layout

\begin_layout Itemize

\bar under
Motion Planning (Path planning) 
\bar default
: determining the desired motion that satisfies constraints and optimize
 some aspect of movement.
\end_layout

\begin_layout Itemize

\bar under
Navigation
\bar default
 : determination of the robot position(
\series bold
Localization
\series default
) and then planning a path towards some goal and avoiding obstacles(
\series bold
Motion planning
\series default
).
 
\series bold
Mapping
\series default
 also can be done if needed and used for both Localization and Motion planning.
\end_layout

\begin_layout Standard
Autonomous robot architecture can be abstracted into 3 main layers:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Strategic Level
\begin_inset Newline newline
\end_inset

(High-level planning)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Operational Level
\begin_inset Newline newline
\end_inset

(Low-level plannig)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tactical Level
\begin_inset Newline newline
\end_inset

(Execution level)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
generating the waypoint or reference trajectory that the vehicle should
 follow.
\begin_inset Newline newline
\end_inset

(Motion Planning)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
how to follow the required path by generating the required forces and moments.
\begin_inset Newline newline
\end_inset

(Guidance and Position&Attitude control)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
how to achieve the required forces and moments using a specific motors configura
tion.
\end_layout

\begin_layout Plain Layout
(Mixer and Output drivers)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Section
Obstacle Avoidance
\end_layout

\begin_layout Standard
obstacle avoidance methods can be concluded as follows:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="50col%">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="50col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none" width="50col%">
\begin_inset Text

\begin_layout Plain Layout
Global Obstacle avoidance
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none" width="50col%">
\begin_inset Text

\begin_layout Plain Layout
Local Obstacle avoidance
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grassfire algorithm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dijkstra's algorithm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A* search
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bug Algorithms
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Vector Field Histogram approaches
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bug0 - Bug1 - Bug2 - DistBug - TangentBug - I_Bug
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VFH - VFH+ - VFH*
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection
Local methods
\end_layout

\begin_layout Standard
It's called also 
\begin_inset Quotes eld
\end_inset

reactive
\begin_inset Quotes erd
\end_inset

 methods as they react to the sensor data at the current time step, unlike
 global methods they don't build a map of the environment so the generated
 path isn't optimal but they are memory efficient and fast enough to operate
 on-board.
\end_layout

\begin_layout Itemize

\series bold
\bar under
Bug Algorithms
\series default
\bar default

\begin_inset Newline newline
\end_inset

inspired by insects which follow the obstacle wall to bypass it.
 There is many variants of Bug algorithms.
 They differ in sensors and amount of the memory used.
\end_layout

\begin_deeper
\begin_layout Itemize

\bar under
Bug 0
\bar default
 
\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "65col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Itemize
follow obstacle boundary until goal is clear
\end_layout

\begin_layout Itemize
No memory used
\end_layout

\begin_layout Itemize
It's either right or left wall following
\end_layout

\begin_layout Itemize
Don't guarantee 
\series bold
Completeness
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename Bug0_completeness.png
	width 40col%

\end_inset


\end_layout

\end_inset


\begin_inset space \thinspace{}
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "b"
use_parbox 0
use_makebox 0
width "30col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename bug0.png
	width 100col%

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Implementation
\end_layout

\begin_layout Section
ROS
\end_layout

\begin_layout Subsection
What is ROS
\end_layout

\begin_layout Itemize
ROS is “Robot Operating System”
\end_layout

\begin_layout Itemize
An open source frame work for building robots
\end_layout

\begin_layout Itemize
provides tools and libraries for helping software developers to create robot
 applications.
 It provides hardware abstraction, device drivers, libraries, visualizers,
 message-passing, package management, ...
 .
 
\end_layout

\begin_layout Itemize
ROS is licensed under an open source, BSD license.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted1.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS architecture
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
History of ROS
\end_layout

\begin_layout Itemize
originally developed in 2007 at the Stanford Artificial Intelligence Laboratory.
\end_layout

\begin_layout Itemize
Since 2013 managed by OSRF
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Open Source Robotics Foundation
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Today used by many commercial robots, universities and companies.
\end_layout

\begin_layout Itemize
It became a standard for robot programming
\end_layout

\begin_layout Subsubsection
ROS Philosophy
\end_layout

\begin_layout Description
Peer-to-Peer-communication: individual programs communicate over defined
 API
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Application programming interface : it is a set of methods of communication
 among various components
\end_layout

\end_inset

,(ROS messages–Services- Action)
\begin_inset Newline newline
\end_inset


\series bold
Merit:
\series default
 everyone can work in separate part from the big project easily also there
 will be clear structure of the interactions between different subsystems
 in our UAV.
\end_layout

\begin_layout Description
Distributed can be run on multiple computers and communicate over the network.
 
\begin_inset Newline newline
\end_inset


\series bold
Merit:
\series default
 It is very useful in SLAM projects
\end_layout

\begin_layout Description
Multi-lingual we can use Python , C++ , and even LabVIEW and Arduino C ...
 .
\end_layout

\begin_layout Description
Light-weight standalone libraries are wrapped around with a thin ROS layer.
 
\begin_inset Newline newline
\end_inset


\series bold
Merit:
\series default
 It is very important in SLAM because we will distribute the jobs between
 multi-computers so every HW will have only the SW it needs.
\end_layout

\begin_layout Description
Free
\begin_inset space ~
\end_inset

&
\begin_inset space ~
\end_inset

Open
\begin_inset space ~
\end_inset

source most ROS software is open source & free to use.
\end_layout

\begin_layout Description
Eco-system Large supporting community , tutorials and powerful documentation
 (WikiROS).
 It is used by most if not all the robotics community so It will be good
 if we can contribute with our project in this community.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted2.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Why ROS?
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
\bar under
NOTE
\end_layout

\begin_layout Standard
Despite the proved power of using LabVIEW&MyRIO in building Autopilots ,
 in all LabVIEW community there are only 2 topics (in the time this project
 is started) which talking about using LabVIEW + LabVIEW Robotics Environment
 Simulator in implementing simple SLAM (EKF based) and Obstacle avoidance
 on an 2D differential-drive robot.
 So it is very useful to integrate ROS with LabVIEW&MyRIO or replacing them
 with ready-made (C++ or Python) packages if possible
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
If that will achieve the real-time requirements which is a must in Aeronutical
 applications
\end_layout

\end_inset

to reduce the cost (MyRIO is expenssive).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted3.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS graph of Stanford’s STAIR robot nodes.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Pros and Cons of ROS
\end_layout

\begin_layout Subsubsection

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
It's a common software platform for those who are building and using robots
 
\end_layout

\begin_layout Enumerate
Makes people share code and ideas more readily so we do not have to spend
 much time writing software infrastructure before robot starts moving! 
\end_layout

\begin_layout Enumerate
ROS has been remarkably successful in 2015 there were: over 2,000 software
 packages, 80 commercial robots are supported and at least 1850 academic
 papers that mention ROS.
 
\end_layout

\begin_layout Enumerate
We no longer have to write everything from scratch so we can concentrate
 on the part we are working on control,state-estimation,planning,...
 .
\end_layout

\begin_layout Enumerate
We no longer need to write device drivers as a set of drivers that let you
 read data from sensors and send commands to motors and other actuators
 written already for many hardwares
\end_layout

\begin_layout Enumerate
A large collection of fundamental robotics algorithms that allow you to
 build maps , navigate, represent and interpret sensor data, plan motions,manipu
late objects, ...
 .
 
\end_layout

\begin_layout Enumerate
All of the computational infrastructure that allows you to move data around,
 to connect the various components of a complex robot system, and to incorporate
 your own algorithms.
 ROS allows you to split the workload across multiple computers.
\end_layout

\begin_layout Enumerate
ROS is an ecosystem includes an extensive set of resources, such as a wiki
 , a question-and-answer site.
\end_layout

\begin_layout Subsubsection

\series bold
Disadvantages:
\end_layout

\begin_layout Standard
There’s a fair amount of complexity in ROS such as : distributed computation,
 multi-threading , event-driven programming, and other concepts lie at the
 heart of the system.
 If you’re not already familiar with at least some of these, ROS can have
 a hard learning curve
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
but can be flattened out a bit by introducing the basics of ROS and having
 some practical examples of how to use it for real applications on real
 (and simulated) robots which is already exist in many books and online
 courses.
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Example
\end_layout

\begin_layout Standard
This is an example of a ROS-based project of a 4-wheel autonomous robot
 with obstacle avoidance and SLAM algorithms.
 
\end_layout

\begin_layout Itemize
a PC operating ROS is used as a ground control station to communicate with
 the robot
\end_layout

\begin_layout Itemize
an android device operating ROS control application is used as a joystick.
\end_layout

\begin_layout Itemize
a mini-onboard PC operating ROS is used to receive all controls (Waypoints,...)
 and to process SLAM algorithm and obstacle avoidance.
\end_layout

\begin_layout Itemize
STM32 board running free-RTOS is used as a low-level controller (deals with
 the motors) also it's used as an interface for gathering data from sensors(Hall
 effect sensor, IMU sensor and RPLIDAR) to send these data to the mini-onboard
 PC to be processed.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted4.png
	scale 35

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename ../pasted5.png
	scale 35

\end_inset


\begin_inset VSpace bigskip*
\end_inset


\begin_inset Graphics
	filename ../pasted6.png
	scale 35

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename ../pasted7.png
	scale 35

\end_inset


\begin_inset VSpace bigskip*
\end_inset


\begin_inset Graphics
	filename ../pasted8.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS example
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Summary of some important features in ROS
\end_layout

\begin_layout Itemize

\series bold
\bar under
Catkin
\end_layout

\begin_layout Enumerate
Catkin is a collection of CMake macros and associated code 
\series bold
used to build packages
\series default
 used in ROS.
\end_layout

\begin_layout Enumerate
It was initially introduced as part of the ROS Fuerte release where it was
 used for a small set of base packages.
 
\begin_inset Newline newline
\end_inset

For Groovy and Hydro it was significantly modified, and used by many more
 packages.
 All released Hydro packages were built using catkin, although existing
 rosbuild packages can still be built from source on top of the catkin packages.
\begin_inset Newline newline
\end_inset

Indigo is very similar, except for some deprecated features that were removed.
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
Catkin Workspace
\end_layout

\begin_layout Enumerate
catkin packages can be built as a standalone project, in the same way that
 normal cmake projects can be built, but catkin also provides the concept
 of workspaces, 
\series bold
where you can build multiple, interdependent packages together all at once
\series default
.
\end_layout

\begin_layout Enumerate
A catkin workspace
\series bold
 is a folder where you modify, build, and install catkin packages.

\series default
 The following is the recommended and typical catkin workspace layout:
\end_layout

\begin_layout Standard
\begin_inset Box Boxed
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted50.png
	scale 85

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\bar under
Source Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
The source space contains the source code of catkin packages.
 This is where you can extract , checkout , or clone source code for the
 packages you want to build.
 Each folder within the source space contains one or more catkin packages.
 This space should remain unchanged by configuring, building, or installing.
\end_layout

\begin_layout Itemize

\bar under
Build Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
The build space is where CMake is invoked to build the catkin packages in
 the source space.
 CMake and catkin keep their cache information and other intermediate files
 here.
 The build space does not have to be contained within the workspace nor
 does it have to be outside of the source space, but this is recommended.
\end_layout

\begin_layout Itemize

\bar under
Development (Devel) Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
The development space (or devel space) is where built targets are placed
 prior to being installed.
 The way targets are organized in the devel space is the same as their layout
 when they are installed.
 This provides a useful testing and development environment which does not
 require invoking the installation step.
 
\end_layout

\begin_layout Itemize

\bar under
Install Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
Once targets are built, they can be installed into the install space by
 invoking the install target, usually with make install.
 The install space does not have to be contained within the workspace.
 Since the install space is set by the CMAKE_INSTALL_PREFIX, it defaults
 to /usr/local, which you should not use (because uninstall is near-impossible,
 and using multiple ROS distributions does not work either).
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize
default workspace is loaded with:
\end_layout

\begin_layout Standard
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>source /opy/ros/indigo
\begin_inset Foot
status open

\begin_layout Plain Layout
replace with your ROS distribution
\end_layout

\end_inset

/setup.bash
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
usually this instruction is written in the ~/.bashrc to launch automatically
 when you open a terminal
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

overlay your catkin workspace with :
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>cd ~/catkin_ws
\end_layout

\begin_layout Plain Layout
>source devel/setup.bash
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Or another approach if you are using only one workspace in your /opt/ros/indigo/
setup.bash write :
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>source ~/catkin_ws/devel/setup.bash
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

check your catkin workspace with by:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>echo $ROS_PACKAGE_PATH
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Or by writing
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>roscd
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

you should get to directory: ~/catkin_ws/ not /opt/ros/indigo/
\end_layout

\begin_layout Itemize
A catkin workspace can contain up to four different spaces which each serve
 a different role in the software development process.
\end_layout

\begin_layout Itemize
To clean the build and devel folders without touching src folder so you
 can build the src again use:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>catkin clean
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS master
\end_layout

\begin_layout Itemize
manages the communication between nodes
\end_layout

\begin_layout Itemize
Every node registers at startup with the master
\end_layout

\begin_layout Itemize
start a master with:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>roscore
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

starts multiple elements including rosmaster
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS nodes
\end_layout

\begin_layout Itemize
single-purpuse executable program
\end_layout

\begin_layout Itemize
individually compiled, executed and manged
\end_layout

\begin_layout Itemize
organized in packages
\end_layout

\begin_layout Itemize
Run a node:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosrun package_name node_name
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

See active nodes:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosnode list
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Retrieve info about a node:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosnode info node_name
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
ROS can launch identical nodes into separate namespaces for example if we
 have a node that generate PWM to one motor called 
\begin_inset Quotes eld
\end_inset

motor_node
\begin_inset Quotes erd
\end_inset

 , we can run it as /left_motor/motor_node and /right_motor/motor_node and
 when running the motor_node we can pass to it the pin number of the motor
 depending on the namespace it will be run in.
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS topics
\end_layout

\begin_layout Itemize
Typically, there is a node which is a publisher (talks or send msgs) and
 another one which is a subscriber (listens or recieves msgs).
 They can communicate with each others using Topics which act as a channel
 to pass data from publishers to subscribers.
\end_layout

\begin_layout Itemize
It is very normal to have multiple subscribers on the same topic but we
 should avoid multiple publishers to avid race conditions
\end_layout

\begin_layout Itemize
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rostopic list
\end_layout

\begin_layout Plain Layout
>rostopic echo /topic
\end_layout

\begin_layout Plain Layout
>rostopic info /topic
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

to publish in a topic manually(not from a real node):
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
rostopic pub /cmd_vel geometry_msgs/Twist 
\begin_inset Quotes eld
\end_inset

Linear: x:0.0 y:0.0 z:0.0 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

angular: x:0.0 y:0.0 z:0.0
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

/cmd_vel is a topic used usually to control angular an linear velocities
 in 3D .
 It holds a msg called 
\begin_inset Quotes eld
\end_inset

Twist
\begin_inset Quotes erd
\end_inset

 which defined in a package called 
\begin_inset Quotes eld
\end_inset

geometry_msgs
\begin_inset Quotes erd
\end_inset

 and this msg contains Linear and Angular velocities in x,y,and z deirections
\end_layout

\begin_layout Itemize
remapping is a very useful feature ROS can do on topics.
 For example if I have a node called 
\begin_inset Quotes eld
\end_inset

image_view
\begin_inset Quotes erd
\end_inset

 reads from a topic called 
\begin_inset Quotes eld
\end_inset

image
\begin_inset Quotes erd
\end_inset

 which published in by the 
\begin_inset Quotes eld
\end_inset

camera
\begin_inset Quotes erd
\end_inset

 node but we have two cameras (left and right) so we can remap the topic
 to be exist in a two separate name spaces each hold different data for
 each camera but definitely the same msg so now we can have 
\begin_inset Quotes eld
\end_inset

/right/image
\begin_inset Quotes erd
\end_inset

 topic and 
\begin_inset Quotes eld
\end_inset

/left/image
\begin_inset Quotes erd
\end_inset

 topic and makes 
\begin_inset Quotes eld
\end_inset

image_view
\begin_inset Quotes erd
\end_inset

 node to read from both.
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS messages
\end_layout

\begin_layout Itemize
Data structure defining the type of a topic.
\end_layout

\begin_layout Itemize
comromised of a nested structure of integers, floats, booleans, strings,
 arrays of objects, ...
\end_layout

\begin_layout Itemize
We can define one in *.msg files but It is preferred to use ready-made ROS
 messages to keep compatible with the commuinity besides there is a varity
 of messages that we may never need to define new one.
\end_layout

\begin_layout Itemize
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rostopic type /topic_name
\end_layout

\begin_layout Plain Layout
>rostopic pub /topic_name msg_type data
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted9.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS msgs
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS Launch
\end_layout

\begin_layout Itemize
launch is a tool for launching multiple nodes (as well as setting parameters)
 because it isn't practicle to use rosrun on every node.
\end_layout

\begin_layout Itemize
We can define launch file as *.launch in launch folder in our package.
\end_layout

\begin_layout Itemize
If the roscore isn't running, launch automatically starts a roscore
\end_layout

\begin_layout Itemize
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
> roslaunch package_name launchfile.launch
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS Packages
\end_layout

\begin_layout Itemize
can be thought of as a collection of resources that are built and distributed
 together.
\end_layout

\begin_layout Itemize
Package folder tree:
\begin_inset Newline newline
\end_inset


\begin_inset Box Doublebox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
package_name
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

config
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> parameter files(YAML)
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

include/package_name 
\begin_inset space ~
\end_inset

==>c++ header files
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

launch
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> *.launch files
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

src
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> source files
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

test
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> ROS tests
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

CMakeLists.txt
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> CMake build file
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

package.xml
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> package information
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Usually package depends on other packages for example other package holds
 our custom msgs, services and actions :
\begin_inset Newline newline
\end_inset


\begin_inset Box Doublebox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
package_name_msgs
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

action
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> action definitions
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

msg
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> message definitions
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

srv
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> service definitions
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

CMakeLists.txt
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

package.xml
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

this separation of our custom msgs in a separate package from other packages
 is a good practice.
\end_layout

\begin_layout Itemize
for creating a package go to ~/catkin_ws/src and use this instruction in
 the terminal:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>catkin_create_pkg package_name <dependencies>{for example: package_name_msgs}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
package.xml
\bar default
 defines:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
package name
\end_layout

\begin_layout Itemize
version number
\end_layout

\begin_layout Itemize
authors
\end_layout

\begin_layout Itemize
dependencies on other packages
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
CMakeLists.txt
\bar default
 It is the input to the CMake build system and defines:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
required CMake version
\end_layout

\begin_layout Itemize
Package naem
\end_layout

\begin_layout Itemize
find other CMake or catkin packages needed for build: find_package()
\end_layout

\begin_layout Itemize
for adding msgs / actions / sevices: add_message_files() - add_action_files()
 - add_service_files()
\end_layout

\begin_layout Itemize
invoke msg / service / action generation: generate_messages()
\end_layout

\begin_layout Itemize
Libraries and Executables to build: add_library() - add_executable() - target_li
nk_libraries()
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS services
\end_layout

\begin_layout Itemize
Unlike topics which multiple nodes can read and write from and into the
 topic, service consists of server (to conduct the service) and a node (that
 receive the service).
\end_layout

\begin_layout Itemize
Unlike action (as we will see in 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:ROS-actions"

\end_inset

) the node will wait for the server to finish and then it will continue
 working.
\end_layout

\begin_layout Itemize
From this we can say that we can use services in tasks that executed instantaneo
usly and actions in tasks that takes much time to be executed like for a
 robot to go to a specific point.
 
\end_layout

\begin_layout Itemize
To call a service from a terminal:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosservice call /service_demo 
\begin_inset Quotes eld
\end_inset

{}
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Quotes eld
\end_inset

{}
\begin_inset Quotes erd
\end_inset

 is an Empty msg we can use if we want to only exicte the server without
 data needed to be send.
 This msg is defined in package called 
\begin_inset Quotes eld
\end_inset

std_msgs
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS actions
\end_layout

\begin_layout Itemize
Similar to service but the node doesn't need to stop until the action is
 finished
\end_layout

\begin_layout Itemize
Internally actions uses topics to communicate with the node that called
 the action server
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted10.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS actions
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
status : 0(pending) - 1(active) - 2(done) - 3(warning) - 4(error)
\begin_inset Newline newline
\end_inset

we can get the status in node1.py :
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
status = client.get_status()
\end_layout

\begin_layout Plain Layout
DONE = 2
\end_layout

\begin_layout Plain Layout
while state_result < DONE
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

DO SOMETHING unlike server where we waited for server to finish
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../comparision.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
comparison between ROS parameters, Dynamic Reconfigure , Topics , Services
 , and Actions
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Proof of Concept
\end_layout

\begin_layout Subsection
State Estimation (Rover)
\end_layout

\begin_layout Standard
We wanted to increase our experience in ROS so we decided to build a differentia
l drive robot using ROS.
 In addition the very useful feature of ROS is that we can use the Odometry
 message resulting from encoders (very simple sensors) to simulate the results
 of algorithms that handles the vision navigation.
 Hence, this project deepens our understanding of ROS independently of the
 complexity of the sensors (Cameras and Lidars) and the controlled system(Multi-
rotor which is more critical in control than DD robots).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../ddrobot.PNG
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Differential Drive Robot (DD robot)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Objective
\end_layout

\begin_layout Enumerate
Control the DD robot linear velocity and angular velocity , which will be
 the required inputs to the DD robot from the high-level algorithms as shown
 in 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:differential-drive-model"
plural "false"
caps "false"
noprefix "false"

\end_inset

 , this control needs encoders and IMU as feedback in case of using Incremental
 encoders , encoders only in case of using quadrature encoders , or fusion
 of encoders and IMU.
 In our case , It is very fine that our DD robot won't have backward movement
 for motors so we don't need to neither fuse data for the linear and angular
 velocities control loop nor using quadrature encoders.
\end_layout

\begin_layout Enumerate
Localize the DD robot by fusing the data from IMU and odometry from encoders
\end_layout

\begin_layout Itemize

\series bold
Modeling
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted12.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
differential drive model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Block Diagram
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted11.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
differential_drive package
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Hardware
\end_layout

\begin_layout Standard
MPU 6050 & Encoder
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../pasted14.png
	scale 40

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename ../pasted15.png
	scale 40

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Software
\end_layout

\begin_layout Standard
Control the DD robot linear velocity and angular velocity
\end_layout

\begin_layout Itemize
nodes
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="32" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top">
<column alignment="left" valignment="top" width="10page%">
<column alignment="center" valignment="top" width="25page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
package
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
node name
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
description
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
parameters
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
differential_drive
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
twist_to_motors
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
transforms the required linearvelocity and angular velocity(Twist) of the
 DD robot torequired velocity of motors.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rate (float, default:10)
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ticks_meter (int, default:50)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_width (float, default:0.245)
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_frame_id (string, default:"base_link")
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~odom_frame_id (string, default:"odom")
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_min (int, default:-32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_max (int, default: 32768)
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_low_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_high_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pid_velocity
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The controller using feedbackfrom encoder and set pointfrom twist_to_motors
 andoutputs the PWM to the motor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~Kp (float, default:10
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~Ki (float, default:10)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~Kd (float, default:0.001)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~out_min (float, default: -255)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~out_max (float, default: 255)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rate (float, default: 20)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rolling_pts (float, default: 2)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~timeout_ticks (int, default: 2)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ticks_meter (float, default: 20)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_min (int, default:-32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_max (int, default: 32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_low_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_high_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
diff_tf
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
produces the axestransformations of the DDrobot due to the movementwhich
 detected by encoders,and publishes the odometry(the current pose and twist)
 of the robot.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rate (float, default:10)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ticks_meter (int, default:50)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_width (float, default:0.245)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_frame_id (string, default:"base_link")
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~odom_frame_id (string, default:"odom")
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_min (int, default:-32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_max 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_low_wrap 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_high_wrap
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
topics
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="4">
<features tabularvalignment="middle">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
msg
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Published by
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Subscribers
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
odom 
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nav_msgs/Odometry
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
diff_tf
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
any one
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tf
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tf/tfMessage
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
diff_tf
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/tf
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lwheel
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
std_msgs/Int16
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
left encoder
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pid_velocity and diff_tf
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rwheel
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
std_msgs/Int16
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
right encoder
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pid_velocity and diff_tf
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Localization
\end_layout

\begin_layout Itemize
nodes
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="22page%">
<column alignment="center" valignment="top" width="20page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
package
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
node name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
description
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
parameters
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
teleop_twist_keyboard
\begin_inset CommandInset citation
LatexCommand cite
key "teleop_twist_keyboard pkg"
literal "false"

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
teleop_twist_keyboard
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
publishes the required linear velocity and angular velocity 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
_speed
\series default
 is the required linear velocity
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
in the /cmd_vel topic
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
_turn
\series default
 is the required angular velocity
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
topics
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="3.5cm">
<column alignment="center" valignment="top" width="3.5cm">
<column alignment="center" valignment="top" width="3.5cm">
<column alignment="center" valignment="top" width="5cm">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
msg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Published by
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Subscribers
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/cmd_vel remapped to /Twist
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nav_msgs/Odometry
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
teleop_twist_keyboard
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
differential_drive pkg/twist_to_motors node
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
to be identified by twist_to_motors node
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Control (half quad)
\end_layout

\begin_layout Itemize

\series bold
Block diagram & Software
\end_layout

\begin_layout Standard
Purpose of this experiment is to validate ROS performance in aerospace applicati
ons and compare its performance with Ardupilot.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../oneD.PNG
	scale 40

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Configuration 1 (ROS pid)
\end_layout

\begin_layout Standard
using ready-made PID in ROS community with Low-pass filter on derivative
 term.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../one_D block diagram.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
1D Bi-rotor conf1 Block Diagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset External
	template PDFPages
	filename ../Book1.pdf
	width 100page%
	height 80pheight%

\end_inset


\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Configuration 2 (myPIDA)
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../one_D block diagram2.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
1D Bi-rotor conf2 Block Diagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Package
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Node
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Parameters
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
myPID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PID_node
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ts sampling time = 0.008 (default)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kp
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ki
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kd
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ka
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Results & Conclusions
\end_layout

\begin_layout Itemize
Sampling Time
\end_layout

\begin_layout Standard
configuration 2 has better control on sampling time than configuration 1
 because config1 depends on the frequency of the setpoint and the feedback
 , we build a similar code to ROSpid and the Ts was collected and plotted
 alongside with Ts achieved by myPID as shown
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../sampling time.png
	scale 40

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
To show the effect of not constant sampling time , we choose the gains as
 Kp = some value , Ki = Kd = Ka = 0 , so the control should be = Kp * error
 = - Kp * state
\begin_inset Newline newline
\end_inset

which is simply a scaled reflection of the state if the sampling time is
 constant and synchronous with the feedback.(MISSING FIGURES!!)
\end_layout

\begin_layout Itemize
IMU Bias
\end_layout

\begin_layout Standard
We noticed that when motors are on , there is biasing in the IMU readings
\end_layout

\begin_layout Itemize
Gains tuning
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
px4 and Mavros
\end_layout

\begin_layout Subsection
Introduction
\end_layout

\begin_layout Standard
The definition of Auto pilot in general that it is a system used to control
 the trajectory of an aircraft without constant ’hands-on’ control by a
 human operator being required.
 
\end_layout

\begin_layout Standard
Autopilots do not replace human operators but assist them in controlling
 the aircraft, allowing them to focus on broader aspects of operations such
 as monitoring the trajectory, weather and systems.
 
\end_layout

\begin_layout Itemize

\series bold
What's Pixhawk
\end_layout

\begin_layout Standard
Pixhawk is an independent open-hardware project that aims to provide the
 standard for readily-available, hiqh-quality and low-cost autopilot hardware
 designs for the academic, hobby and developer communities.
 
\end_layout

\begin_layout Itemize

\series bold
Other devices like Pixhawk
\end_layout

\begin_layout Standard
Arducopter : This is the full-featured, open-source multicopter UAV controller
 that won the Sparkfun 2013 and 2014 Autonomous Vehicle Competition (dominating
 with the top five spots).
 
\end_layout

\begin_layout Standard
A team of developers from around the globe are constantly improving and
 refining the performance and capabilities of ArduCopter.
\end_layout

\begin_layout Standard
Copter is capable of the full range of flight requirements from fast paced
 FPV racing to smooth aerial photography, and fully autonomous complex missions
 which can be programmed through a number of compatible software ground
 stations.
 The entire package is designed to be safe, feature rich, open-ended for
 custom applications, and is increasingly easy to use even for the novice.
\end_layout

\begin_layout Itemize

\series bold
Comparison between various autopilot devices
\end_layout

\begin_layout Standard
The APM flight controller uses an Atmega2560, uses an I2c bus and runs at
 16mhz, Pixhawk uses an Arm Cortex 32bit STM32 F4 running at 168mhz on a
 much faster SPI bus, has CAN bus, also faster and has a backup processor
 STM32 F1 chip that runs at 72 Mhz.
 All the original CC3D flight controllers use the STM32 F1 chip, the better
 ones use the STM32 F3 chip that adds a floating point coprocessor and more
 memory, newer ones use the STM32 F4 and the newest ones use STM32 F7 at
 216mhz.
 A faster processor computes better PID loop times and creates a more stable
 and responsive platform with increased capabilities.
 All these run their motion sensors on the faster SPI bus, they use the
 slower I2c bus for less critical things.
\end_layout

\begin_layout Itemize

\series bold
Why Pixhawk
\end_layout

\begin_layout Standard
We choose the Pixhawk over Arducopter for the following reasons
\end_layout

\begin_layout Itemize
It has much more capabilities and processing power .
\end_layout

\begin_layout Itemize
It can connect using two telemetry ports one for ground station and the
 other for manual control using a flight controller.
 
\end_layout

\begin_layout Itemize
It has faster response for actions which is good.
\end_layout

\begin_layout Itemize
It supports quad plane mode which is similar to our design.
 
\end_layout

\begin_layout Itemize
Available in Egypt.
 
\end_layout

\begin_layout Standard
So Pixhawk was a better choice for our project as we will be processing
 images and we will use SLAM so we need a lot of processing power for our
 mission .
 
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
User guides to Pixhawk
\end_layout

\begin_layout Itemize

\series bold
Step 1: Wiring and Connections
\end_layout

\begin_layout Standard
In order to get the Pixhawk running we will need the following components
 
\end_layout

\begin_layout Itemize
Power module
\end_layout

\begin_layout Itemize
Telemetry
\end_layout

\begin_layout Itemize
PPM
\end_layout

\begin_layout Itemize
Flight controller and receiver
\end_layout

\begin_layout Itemize
Power Distribution Board (PDB)
\end_layout

\begin_layout Itemize
Jumper wires
\end_layout

\begin_layout Itemize
Android USB cable
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Itemize

\series bold
power module:
\series default
The power module is used in order to power the Pixhawk from the battery
 or from any power supply and to power the ESCs through the PDB , and it
 is connected to the Pixhawk as shown 
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/powermodule-analog-pixhawk.png
	scale 70

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Telemetry
\bar under
: 
\series default
\bar default
The telemetry is divided into two parts , the first part is connected to
 the ground station to receive and send signals to the other part which
 is onboard to receive and send signals from and to the ground station .
\end_layout

\begin_layout Standard
It is connected to the Pixhawk as shown
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/maxresdefault.jpg
	scale 20

\end_inset


\end_layout

\begin_layout Itemize
Vcc-GND-Rx-Tx must be connected.
\end_layout

\begin_layout Itemize
RTS - CTS can be ignored.
\end_layout

\begin_layout Itemize
RX in Pixhawk is connected to Tx in receiver.
\end_layout

\begin_layout Itemize
TX in Pixhawk is connected to Rx in receiver.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\series bold
PPM: 
\series default
It is a module used to connect the channels of flight controller receiver
 to the Pixhawk ,as the Pixhawk has only one input for all channels so we
 used it to do this mission to connect he flight controller receiver to
 the Pixhawk.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/jDrones_PPM_Encoder_V21_Above_with_numbers_500px.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Flight controller and receiver: 
\end_layout

\begin_layout Standard
The flight controller is used to control the vehicle manually by sending
 PWM signals to the receiver which sends the signals to the PPM then the
 PPM fuses them to one channel and sends them to the Pixhawk to perform
 the control action sent.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Power Distribution Board (PDB): 
\end_layout

\begin_layout Standard
Is a board used to distribute the power that comes from the battery or power
 supply to the ESCs used.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/download.jpg

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Android USB cable: 
\end_layout

\begin_layout Standard
The cable will only be used during the Calibration of the gyros and ESCs.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Step 2: Connect to PC
\end_layout

\begin_layout Standard
First connect the Pixhawk only to the PC using the usb cable.
\end_layout

\begin_layout Itemize

\series bold
Step 3: Ground Station
\end_layout

\begin_layout Standard
Open Qgroundconrol app to connect the Pixhawk to the ground station.
\end_layout

\begin_layout Itemize

\series bold
Step 4: Firmware selection
\end_layout

\begin_layout Standard
After connecting the Pixhawk to the Qgroundcontrol we will need to install
 the PX4 firmware on the Pixhawk by selecting it from the setting menu,
 it will be downloaded and installed on the Pixhawk.
\end_layout

\begin_layout Itemize
note that before connecting the Pixhawk you need to remove any other power
 source to avoid spoiling the device.
 
\end_layout

\begin_layout Itemize

\series bold
Step 5: Frame Selection
\end_layout

\begin_layout Standard
Next we will select the frame type of the vehicle you are using.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/AQ-All-Frames.jpg
	height 8cm

\end_inset


\end_layout

\begin_layout Itemize
Take care of the direction of the propellers (clockwise & anti clockwise).
\end_layout

\begin_layout Itemize

\series bold
Step 6: Calibration
\end_layout

\begin_layout Standard
The next step is calibrating the gyros and compass of the Pixhawk just go
 from setting to calibration and follow the steps one by one and you will
 be done.
\end_layout

\begin_layout Standard
calibration can be done in two ways 
\end_layout

\begin_layout Itemize
The first way is doing it on the Pixhawk alone.(recommended and easier)
\end_layout

\begin_layout Itemize
the second way is doing it after manufacturing the vehicle.
\end_layout

\begin_layout Itemize

\series bold
Step 7: Radio calibration
\end_layout

\begin_layout Standard
In this phase we will need to connect the flight controller to the Pixhawk
 using the receiver and PPM encoder as shown before.
\end_layout

\begin_layout Itemize
Select radio calibration from setting menu.
\end_layout

\begin_layout Itemize
Set all trimming to zero before start the calibration.
\end_layout

\begin_layout Itemize
start the calibration and follow the steps given by the Qgroundcontrol.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Step 8: Modes
\end_layout

\begin_layout Itemize
Select Flight modes from setting menu.
\end_layout

\begin_layout Itemize
Choose manual mode and set it to an AUX channel.
 
\end_layout

\begin_layout Itemize
Choose stabilize mode and set it to an AUX channel.
\end_layout

\begin_layout Standard
We will be using stabilize mode during testing and flight.
 
\end_layout

\begin_layout Itemize

\series bold
Step 9: ESCs and motors
\end_layout

\begin_layout Standard
In this phase we will recommend that you follow the following steps exactly
 to avoid any damage to the Pixhawk.
\end_layout

\begin_layout Itemize
Remove any power source from the Pixhawk (USB till now).
\end_layout

\begin_layout Itemize
Connect the motors to the ESCs.
\end_layout

\begin_layout Itemize
Connect the ESCs to the PDB.
\end_layout

\begin_layout Itemize
Connect the PDB to the Power module (DO NOT CONNECT THE BATTERY OR POWER
 SUPPLY).
\end_layout

\begin_layout Itemize
Connect the signal pins of the ESCs to the Pixhawk output channels according
 to the order of the selected frame before.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/cae0384839ae0630258b3882725779b08ab5a024.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Itemize
From setting select Power.
\end_layout

\begin_layout Itemize
Start the calibration of the ESCs.
\end_layout

\begin_layout Itemize
You will be asked to connect the battery(power supply), note that this is
 the only case to connect two power sources together (USB,battery).
\end_layout

\begin_layout Itemize
The ESCs will make some sound and noise wait until its done(about 10-15
 sec).
\end_layout

\begin_layout Itemize
Disconnect the battery then remove the USB cable .
\end_layout

\begin_layout Itemize
Connect the USB cable again and we are done with ESCs calibration.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Step 9: Tuning
\end_layout

\begin_layout Itemize

\bar under
Throttle Tuning:
\bar default
The first thing to do before tuning is to set your vehicle to stablize mode
 .
\end_layout

\begin_layout Standard
Now we should set the hovering thrust of the vehicle in order to make it
 mapped on the thrust lever of the flight controller.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/px4_copter_basic.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Standard
In our case the Hover Throttle is set to 80% because the power supply is
 not strong enough to provide the ESCs with the power needed.
\end_layout

\begin_layout Standard
The Manual minimum throttle is set to 8%.
\end_layout

\begin_layout Itemize
The next step is going into the advanced PID tuning of the vehicle by clicking
 on 
\begin_inset Quotes eld
\end_inset

advanced
\begin_inset Quotes erd
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\bar under
PID Tuning: 
\bar default
Stabilize Roll/Pitch P controls the responsiveness of the copter’s roll
 and pitch to pilot input and errors between the desired and actual roll
 and pitch angles.
 The default of 4.5 will command a 4.5deg/sec rotation rate for each 1 degree
 of error in the angle.
 A higher gain such as 7 or 8 will allow you to have a more responsive copter
 and resist wind gusts more quickly.
\end_layout

\begin_deeper
\begin_layout Itemize
A low stabilize P will cause the copter to rotate very slowly and may cause
 the copter to feel unresponsive and could cause a crash if the wind disturbs
 it.
 Try lowering the RC_Feel parameter before lowering Stability P if smoother
 flight is desired.
\end_layout

\end_deeper
\begin_layout Itemize
Rate Roll/Pitch P, I and D terms control the output to the motors based
 on the desired rotation rate from the upper Stabilize (i.e.
 angular) controller.
 These terms are generally related to the power-to-weight ratio of the copter
 with more powerful copters requiring lower rate PID values.
 For example a copter with high thrust might have Rate Roll/Pitch P number
 of 0.08 while a lower thrust copter might use 0.18 or even higher.
\end_layout

\begin_deeper
\begin_layout Itemize
Rate Roll/Pitch P is the single most important value to tune correctly for
 your copter.
 
\end_layout

\begin_layout Itemize
The higher the P the higher the motor response to achieve the desired turn
 rate.
 
\end_layout

\begin_layout Itemize
Default is P = 0.15 for standard Copter.
 
\end_layout

\begin_layout Itemize
Rate Roll/Pitch I is used to compensate for outside forces that would make
 your copter not maintain the desired rate for a longer period of time 
\end_layout

\begin_layout Itemize
A high I term will ramp quickly to hold the desired rate, and will ramp
 down quickly to avoid overshoot.
 
\end_layout

\begin_layout Itemize
Rate Roll/Pitch D is used to dampen the response of the copter to accelerations
 toward the desired set point.
 
\end_layout

\begin_layout Itemize
A high D can cause very unusual vibrations and a “memory” effect where the
 controls feel like they are slow or unresponsive.
 A properly mounted controller should allow a Rate D value of .011.
 
\end_layout

\begin_layout Itemize
Values as low as 0.001 and as high as .02 have all been used depending upon
 the vehicle.
 
\end_layout

\end_deeper
\begin_layout Itemize
In our case after tuning and testing the final values set to the first quad
 copter prototype PID is as following for pitching and rolling and yawing.
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/pitch.PNG
	scale 40

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/rolling.PNG
	scale 40

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename ../documentation3/pixhawk/yaw2.PNG
	scale 40

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter*
References
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
\start_of_appendix
ROS Examples
\begin_inset CommandInset label
LatexCommand label
name "chap:ROS-Examples"

\end_inset


\end_layout

\begin_layout Section
publisher.py
\end_layout

\begin_layout Section
subscriber.py
\end_layout

\begin_layout Section
publisher.cpp
\end_layout

\begin_layout Section
subscriber.cpp
\end_layout

\begin_layout Section
ROS services using python
\end_layout

\begin_layout Subsection
Server
\end_layout

\begin_layout Subsection
node uses server
\end_layout

\begin_layout Section
ROS actions using python
\end_layout

\begin_layout Subsection
Action server
\end_layout

\begin_layout Subsection
node uses action
\end_layout

\end_body
\end_document
