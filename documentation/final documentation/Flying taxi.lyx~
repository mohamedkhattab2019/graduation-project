#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass book
\begin_preamble
  
\pagenumbering{roman}
\let\myTOC\tableofcontents
\renewcommand\tableofcontents{%
\myTOC
\clearpage
\pagenumbering{arabic}
}
\renewcommand{\ps@plain}{\pagestyle{fancy}}
\usepackage{matlab-prettifier}
\end_preamble
\use_default_options true
\begin_modules
algorithm2e
braille
changebars
customHeadersFooters
shapepar
eqs-within-sections
figs-within-sections
tabs-within-sections
\end_modules
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref page
\pdf_pdfusetitle true
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.54cm
\topmargin 2.54cm
\rightmargin 2.54cm
\bottommargin 2.54cm
\headheight 1cm
\headsep 1cm
\footskip 1cm
\secnumdepth 3
\tocdepth 5
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\listings_params "style={Matlab-editor}"
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\series bold
Autonomous Airtransportation using Vision Navigation 
\end_layout

\begin_layout Author
\begin_inset VSpace 1.5cm
\end_inset


\begin_inset Newline newline
\end_inset

Submitted to:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
Prof.
 Basman Elhadidi
\size default

\begin_inset Newline newline
\end_inset


\size larger
Asst.
 Prof.
 Osama Saaid
\begin_inset Newline newline
\end_inset

Asst.
 Prof.
 Mohanad
\size default

\begin_inset Newline newline
\end_inset


\begin_inset VSpace 1.5cm
\end_inset


\begin_inset Newline newline
\end_inset

By:
\begin_inset Newline newline
\end_inset


\begin_inset VSpace 1.5cm
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter*
\begin_inset CommandInset nomencl_print
LatexCommand printnomenclature
set_width "auto"

\end_inset

Acknowledgments
\end_layout

\begin_layout Standard
Before we start our Thesis we should thank and appreciate everyone helped
 us to reach to this moment and we admit that without their help and knowledge
 we couldn't reach here.
\end_layout

\begin_layout Standard
first of all we have to thank and appreciate our directly 
\shape italic
Asst.
 Prof.
 Osama Saaid
\shape default
 who helped us alot and gave us from his wide knowledge we would like to
 thank him for his great help through this year,
\end_layout

\begin_layout Standard
and we also should thank 
\shape italic
Prof.
 Basman Elhadidi & Eng.
 Mohanad 
\shape default
for their time and their contribution in the design phase, and we also want
 to thank the all members in ASTL & UDC who helped us alot with their technical
 information.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter*
\begin_inset CommandInset nomencl_print
LatexCommand printnomenclature
set_width "auto"

\end_inset

List of Symbols and Abbreviations
\end_layout

\begin_layout Standard
\paragraph_spacing onehalf
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="31" columns="2">
<features tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ROS
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Robot Operating System
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SLAM
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Simultaneous Localization And Mapping
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SITL
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Software In The Loop
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HITL
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Hardware In The Loop
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LIDAR
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Light Detection And Ranging
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
KF
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Kalman Filter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKF
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Extended Kalman Filter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IMU
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Inertial Measurement Unit 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EOM
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Equation Of Motion
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LTI
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Linear Time Invarient
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PID
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Proportional-Integral-Derivative Control
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GPU
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Graphical Processing Unit
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ODD
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Operational Design Domain
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MC
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Multicopter
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AAV
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Autonomous Aerial Vehicle
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VTOL
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Vertical Take-Off and Landing
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ATC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Air Traffic Control
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Autopilot
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Remote contol
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CAGR
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\shape italic
Compound annual growth rate
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Acro
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Acrobatic
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PDB
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
power distribution board
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PPM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pulse Position Modulation
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PRS
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pitch/Roll Stick
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Center of Gravity
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ESC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Electronic Speed Controller
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
FPV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
First Person View
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
BEC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Battery Elimination Circuit 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PWM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pulse Width Modulation
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UAV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Unmanned Air Vehicle 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GCS
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ground Conrol Station
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList figure

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FloatList table

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Introduction
\end_layout

\begin_layout Section
FLYING TAXI 
\end_layout

\begin_layout Standard
A flying taxi is a flying vehicle with a range of 50 (80 km) to 120 (195
 km) miles, carrying one to four passengers, and cruising at an altitude
 of 3,000 (915 m) to 5,000 (1500 m) feet.
 Based on the current battery technology, the most common commute might
 be a 50-mile round trip with two short vertical takeoff and landing.
 
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
according to Prof.Vikas Prakash to AIR&SPACE at April2018
\end_layout

\end_inset


\end_layout

\begin_layout Standard
While the idea of personal flying vehicles is old, advancements in technology
 have reached a point to make this vision a reality.Flying cars, roadable
 aircrafts, VTOLs and personal air vehicles, are a few of the synonyms for
 air taxis.
 
\end_layout

\begin_layout Standard
While the race to develop flying cars has started to gain momentum in recent
 years, the concept has been around for decades.
 One of the earliest attempts at a flying car was by Glenn Curtiss who built
 the Curtiss Autoplane, a roadable aircraft in 1917 , that never achieved
 full flight.
 Several subsequent attempts were made during the last century to bring
 flying cars and autonomous aircraft to the market, but recent developments
 have paved the way for personal air transport to become a technological
 reality.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Curtiss-Autoplane-patent-US1294413A.jpg
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
the Curtiss Autoplane
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
why air taxis are an attractive idea
\end_layout

\begin_layout Itemize
Convenience and ease of congestion
\end_layout

\begin_deeper
\begin_layout Standard
Currently, traffic congestion is a major problem in most urban areas and
 air travel requires planning and time wasted at airports.
 For commuters in busy cities, air taxis would ease traffic and reduce daily
 commute times.
 For air travel, imagine the convenience of being able to travel with your
 luggage from your home to your local airport to check in for a flight,
 instead of dealing with airport parking and shuttles.
 The idea is that air taxis would operate much like the Uber or Lyft app,
 an individual would be able to request an air taxi to pick them up from
 a location at their chosen time, and drop them off directly at, or close
 to, their chosen destination.
\end_layout

\end_deeper
\begin_layout Itemize
Infrastructure costs 
\end_layout

\begin_deeper
\begin_layout Standard
While there is skepticism, the costs associated with building the infrastructure
 for an air taxi network may be more cost-efficient than building infrastructure
 for ground transportation.
 Without having to build and maintain roads and the peripheral structures
 to support them, the infrastructure required for air taxis costs are far
 less than that for ground transportation.
\begin_inset Newline newline
\end_inset

Air taxis, in particular, those that have vertical take-off and landing
 capabilities, don’t require runways.
 existing infrastructures can be exploited for air taxi use.
 Uber Elevate proposes “Vertiports” that have charging facilities, hubs,
 and pads for take-off and landing that could be developed from existing
 unused land, tops of parking garages or existing helipads
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/UBER-landing-pad.jpg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Uber’s vertiport design
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
To reduce emissions and improve safety 
\end_layout

\begin_deeper
\begin_layout Standard
advances in batteries and electric motors have changed the economics of
 flying car or air taxi transport.
 For example, today's helicopters are widely regarded as too fuel inefficient
 and require expensive and time-consuming maintenance, making them impractical
 for a mass-scale business.
\begin_inset Newline newline
\end_inset

But battery-powered electric motors eliminate more complex transmission
 systems that need a lot of time and knowledge to repair.
 They also will be much quieter than helicopters, making them more acceptable
 to city dwellers.
\end_layout

\begin_layout Standard
Meanwhile, improvements in artificial intelligence mean paying a pilot to
 ferry passengers around won't be necessary.
 And that frees up another seat for a paying passenger.
\end_layout

\begin_layout Standard
Additionally, government initiatives are helping to make these technologies
 a potential commercial reality.
 For example, Britain has declared a ban on all diesel and petrol cars and
 vans from 2040.
 Dubai has outlined a self-driving strategy that aims to carry out “ 25%
 of its passenger transportation with the help of autonomous means of transport.”
\end_layout

\end_deeper
\begin_layout Subsection
obstacles we need to pass
\end_layout

\begin_layout Itemize
Energy limitations
\end_layout

\begin_deeper
\begin_layout Standard
Design engineers face a big hurdle with today’s all-electric aircraft in
 that the available batteries pack much less energy per unit of weight than
 jet fuel.
 The performance gap we need to bridge is huge about 40 times less [energy
 than is needed], even if we consider the best batteries available.
 These energy limitations become especially acute in smaller craft.
 Electric motors partly compensate for this disadvantage by being more efficient
 [than jet-fueled propulsion] in converting energy into power, but a considerabl
e gap in performance still remains.
 The result is that an aircraft would need either a four- or five-time improveme
nt in specific energy density or it would need to carry a very heavy battery
 pack to approach the performance of current airliners.
\begin_inset Newline newline
\end_inset

in order to solve this problem, the design engineers explore non-traditional
 approaches to address the problem.
 By replacing some of the conventional materials of the aircraft structure
 with active battery materials, we can add energy while also saving on mass
 and volume.
 We can either use the structure of the airplane to store energy or build
 batteries that can also serve a structural [aerodynamic] function.
\end_layout

\end_deeper
\begin_layout Itemize
the public is ready to fly aboard an air taxi with no pilot?
\end_layout

\begin_deeper
\begin_layout Standard
Human pilots are more prone to mishaps than an artificial intelligence operator.
 However, in a recent poll, more than half the people polled responded that
 they wouldn’t buy a pilotless flight ticket even if it was cheaper than
 the alternative.
 It is important to first familiarize the public with commercial self-piloting
 crafts starting with autonomous cargo planes, which could demonstrate how
 the systems can safely fly from point A to B.
 The next step is to remove pilots gradually, shifting from a two-person
 cockpit to one person monitoring the system before phasing out humans entirely.
\end_layout

\end_deeper
\begin_layout Itemize
our current air traffic control system doesn't accommodate air taxis 
\end_layout

\begin_deeper
\begin_layout Standard
Urban airspace is open for business today, and with air traffic control
 systems exactly as they are, a vertical-takeoff-and-landing service could
 be launched and even scaled to possibly hundreds of vehicles.
 A successful, optimized on-demand urban VTOL operation, however, will necessita
te a significantly higher frequency and density of vehicles operating over
 metropolitan areas simultaneously.
 Air traffic control is going have to evolve, and new ATC systems will be
 needed to handle these extra vehicles, especially if a city were to add
 multiple hubs and potentially hundreds of air taxis.
\begin_inset Newline newline
\end_inset

We do not envision air taxis flying in the same space as commercial airliners.
 A separate air space corridor for air taxis will probably be created.
 Air taxis could be managed through a server-request-like system that can
 de-conflict the global traffic, while allowing UAVs and VTOLs to self-separate
 any potential local conflicts with visual flight rules, even in inclement
 weather.
\end_layout

\end_deeper
\begin_layout Subsection
Flying taxi categories
\end_layout

\begin_layout Standard
Lineberger's team at Deloitte
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Deloitte is one of the "Big Four" accounting organizations and the largest
 professional services network in the world by revenue and number of professiona
ls.
\end_layout

\end_inset

 see three flying vehicle categories in the near future, according to a
 report released in January 2018.
\end_layout

\begin_layout Itemize
Passenger drones: A passenger drone is expected to be an electric or hybrid-elec
tric quadcopter (although some may have more than four rotors) that can
 be used to move people or cargo between both established and on-demand
 origination and destination points.
 These vehicles can be either manually piloted, remotely piloted, or fully
 autonomous.
\begin_inset Newline newline
\end_inset

example for the passenger drone is EHANG184 which is considered as The first
 passenger drone and started to work in Dubai since2017, Passenger drones
 would cover short to medium-range distances (up to 65 miles).
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/ehang184.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
EHANG184 in Dubai
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Traditional flying cars: A traditional flying car would be a vehicle where
 the driver/pilot can drive the vehicle in its car configuration to an airport,
 reconfigure the vehicle to an airplane mode, and then fly to a destination
 airport.
 It is designed to carry people and fly medium to long distances (50 to
 200 miles).
 Currently, it would need to be operated by a licensed pilot, but it could
 be made fully autonomous and pilotless/driverless over time.
 In the near future, flying cars are likely to become VTOL capable.
\end_layout

\begin_layout Itemize
Revolutionary vehicles: Revolutionary vehicles, which are expected to be
 a combination of passenger drone and traditional flying car, would be fully
 autonomous vehicles that can start or stop anywhere, with speed and range
 (distances greater than 200 miles) beyond passenger drones and the traditional
 flying cars.
 These vehicles have advanced VTOL capability and therefore can land and
 take off from almost anywhere because they may not require an established
 airport/vertiport.
 These would likely be piloted by a licensed pilot initially, but they could
 be made fully autonomous over time.
\end_layout

\begin_layout Subsection
Technology areas dominating air taxi technology
\end_layout

\begin_layout Standard
Analysis of the patents allows us to identify the technology areas that
 are dominating this space .
 Technology related to propulsion methods or systems have the most patents
 filed with more than double the number of patents than those relating to
 control systems and the design of the aircraft.
 Fewer patents exist on landing platforms or landing systems for aircrafts
 and wing design.
 These areas could present potential new opportunities for engineers to
 enter this space 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Pie-chart.jpg
	scale 20

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Technology Breakdown – patent filing activity
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
from the previous discussion we can conclude that the design of air taxis
 varies between manufacturers but there are common features.
 Most have been initially designed for pilot controlled use but some envisage
 that these aircrafts will be autonomous, thus reducing the costs associated
 with training and employing pilots.
\end_layout

\begin_layout Standard
Vehicles have also been designed to allow for vertical take-off and landing
 using tiltable electric engines that allow the engines to be rotated depending
 on the flight mode.
 Several different designs for propulsion technologies have been used, but
 now all engineers believe that the successful air taxi design will not
 use the rotary-wing design of today’s helicopters.
 Instead, it will be a fixed-wing craft with vertical-takeoff-and-landing
 capabilities (quad plane)
\end_layout

\begin_layout Section
the key players in the flying cars space
\end_layout

\begin_layout Standard
A flying car, air taxi or other air mobility ideas in the works could literally
 rise above those dilemmas.
 Industry watchers and proponents see them becoming part of the transportation
 network and generating as much as $5 billion a year in service revenue.
\end_layout

\begin_layout Standard
the market is projected to grow from $5 billion in 2018 to $15.2 billion
 by 2030 at a CAGR 11.33% from 2018 to 2030.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/urban-air-mobility-market1.png

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Flying taxi market
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
To capture this new market, teams across multiple transportation sectors
 have emerged.
 Not surprisingly, some of the same industries that are developing electric
 propulsion and autonomy on the ground are converging on air mobility.Uber
 has teamed up with Textron's Bell, Boeing's Aurora Flight Sciences and
 others for Uber Air.Airbus is working with Volkswagen's Audi to design a
 flying car that can drive on the road and take flight.
 Airbus is separately developing Vahana, an autonomous single-seat aircraft,
 and CityAirbus, a four-seat aircraft.Volocopter is building an air taxi
 with the help of Mercedes-Benz parent Daimler with plans to launch a service
 in three to five years.And Joby Aviation has received investments from Toyota
 and JetBlue Airways (JBLU).
\end_layout

\begin_layout Standard
Boeing just took an important step toward making them a practical reality.
 The aircraft maker has completed the first test flight of its autonomous
 electric VTOL aircraft, verifying that the machine can take off, hover
 and land.
 It's a modest start, to put it mildly the taxi has yet to fly forward,
 let alone transition from vertical to forward flight modes.
 That still puts it ahead of competitors, though, and it's no mean feat
 when the aircraft existed as little more than a concept roughly one year
 ago.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/boeing taxi.jpg
	scale 15

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Boeing's self-flying taxi
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Uber has said it's aiming to begin service in several cities, by 2023 with
 early demonstrations set for 2020.
 .
 An Uber Air conceptual video depicts a customer booking a flight on her
 smartphone, heading to an "Uber Skyport" at the top of a high-rise, and
 boarding an aircraft with multiple rotors.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/uber.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Uber Air conceptual video
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
And if we look for the players with the strongest patent portfolios are
 Sikorsky Aircraft (now owned by Lockheed Martin), Boeing, Airbus and LTA
 Unsurprisingly, large aircraft manufacturers such as Boeing and Airbus
 appear in the top ten companies.
 However, it is notable that smaller players such as Larry Page’s start-up
 Zee Aero and Rafi Yoeli’s Urban Aeronautics are also building strong patent
 portfolios.
\begin_inset Newline newline
\end_inset

More interesting may be the appearance of Honeywell International and General
 Electric in the top ten.
 They are leading players in electric or hybrid-electric aircrafts, however,
 neither seem to be particularly active in manufacturing flying cars, or
 forming partnerships to provide systems or components for other manufacturers.
 Honeywell International has patented several control and propulsion systems
 for VTOLs or unmanned aerial vehicles, and General Electric have several
 patents on engines for short take-off or vertical take-off and landing
 vehicles.
 It may be interesting to see whether these experienced patent licensing
 companies exploit their portfolios as the industry expands and matures.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/important players.jpg
	lyxscale 30
	scale 10

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Top ten companies filing patents in the flying cars space
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
another important point in this topic is that the startups in this field
 can find many funding resources, The figure below show that the Funding
 raised by flying taxi startups till fourth quartet in 2018, about $415
 million dollar was raised by seven startups, which is hopeful thing to
 those who try to build their own prototypes.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Funding-raised-by-flying-car-and-flying-taxi-startups-till-Q4-2018.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Funding raised by flying taxi startups
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Prototype
\end_layout

\begin_layout Standard
This project can be assumed as a scaled quadplane prototype to a real flying
 taxi, many reasons can drive to build a prototype.
 first of all the cost of real model is very huge in addition, to make a
 test with real model is very difficult and risky, but this prototype has
 a complete software architecture like the real model.
 It can do obstacle avoidance and vision navigation, use EKF to fuse GPS
 and visual odometry to get accurate position estimations also to fuse it
 with INS for better attitude estimations given that the vision navigation
 is used in the compatible operational design domain (ODD).
 
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/WhatsApp Image 2019-06-29 at 6.48.15 PM.jpeg
	scale 25

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
scaled flying taxi prototype
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
building a prototype isn't easy process especially that you have to use
 the same sensors like the real model (stereo camera & lidar),so the next
 chapters will discuss the process of building this prototype hardware and
 software:
\end_layout

\begin_layout Itemize
Chapter 2: discuss the mission ,sizing and aerodynamic design.
\end_layout

\begin_layout Itemize
Chapter 3: discuss the mathematical model of quadplane and include comparison
 between self-built autopilot and commercial one.
\end_layout

\begin_layout Itemize
Chapter 4: discuss main concepts of vision navigation and obstacle avoidance
 algorithms.
\end_layout

\begin_layout Itemize
Chapter 5: discuss the used software (ROS,PX4,QGC)
\end_layout

\begin_layout Itemize
Chapter 6:discuss the flight test results.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Aircraft Design
\end_layout

\begin_layout Section
Introduction
\end_layout

\begin_layout Subsection
Why Quad-plane
\end_layout

\begin_layout Standard
A quad-plane vehicle is a mixture between fixed wing-plane and a multi-copter,
 it has both of their advantages
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Point Of Comparisons
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Multi-copter
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Fixed-wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Quad-Plane
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
vertical takeoff and landing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yes 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
no
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yes
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
comfortable
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
uncomfortable
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
comfortable
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
comfortable
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
power consumption
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
High
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Low 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Moderate
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
cruise speed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
low
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
high
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
high
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Range
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
short
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
long
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
long
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Endurance
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
short
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
long
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
long
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
as a conclusion from the previous table, it's obvious that a quad-plane
 is the best choice to achieve this mission 
\end_layout

\begin_layout Subsection
Scaling
\end_layout

\begin_layout Standard
scaling is based in payload, assuming a full scaled model carry a payload
 of 120 kg including a 80 kg passenger, 20 kg luggage and 20 kg navigation
 control equipment .Since vision equipment masses doesn't change from a full
 scaled model to a scaled model, control equipment masses are assumed to
 be a part of the scaled model payload
\end_layout

\begin_layout Standard
A 1/100 scaled model is to be designed so that its payload is 1.2 kg.
\end_layout

\begin_layout Subsection
Payload
\end_layout

\begin_layout Standard
Payload consists of the components that are loaded on the vehicle to carry
 out its mission so, the payload will be divided into two sections: control
 payload and passenger payload
\end_layout

\begin_layout Itemize
Before optimization
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
components
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
masses (gm)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Passenger payload 
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Human model
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
200
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chair
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
123
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Navigation payload
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XPAL power supply
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
517
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Jetson KIT
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
431
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RP Lidar A1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
190
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED camera
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
159
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rasspery pi 2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
42
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PIX4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
38
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Other electronic devices
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
300
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Total mass
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2000 gm
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
After optimization
\end_layout

\begin_deeper
\begin_layout Standard
It was found that the payload exceeded the scaling assumption, so some optimizat
ion is done in the payload.
\end_layout

\begin_layout Standard
also due to limited resources of propulsion systems and batteries, further
 optimization is done and the final payload is: 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="10" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
components
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
masses (gm)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Passenger payload 
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Human model
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
200
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chair
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
123
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Navigation payload
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nano Jetson KIT
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
150
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED camera
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
159
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PIX4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
38
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Other electronic devices
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
300
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Total mass
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
970 gm
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Optimized payload
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Subsection
Endurance
\end_layout

\begin_layout Subsection
Range
\end_layout

\begin_layout Subsection
Sizing
\end_layout

\begin_layout Standard
sizing is an iterative process where the VTOL propulsion system is chosen
 based on the main payload and then both the main payload and the propulsion
 system (secondary payload) become the payload of the fixed wing.
 After sizing the fixed wing, the MTOM is calculated and then VTOL propulsion
 system is re-chosen and so-on til convergence
\end_layout

\begin_layout Standard
Due to limited resources of propulsion systems, only one VTOL propulsion
 system is available so, sizing process will not be iterative
\end_layout

\begin_layout Subsubsection
As a Multi-copter
\end_layout

\begin_layout Standard
As a multi-copter, only the propulsion system will be taken in account while
 the structure will be neglected as the structure will be taken in consideration
 in fixed wing sizing
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
component
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mass of one piece
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
no of pieces
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
total mass
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VTOL motors
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
284
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VTOL propellers
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
19
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
76
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VTOL ESC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
100
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Total mass
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
460 gm
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Secondary payload
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
As a fixed-wing
\end_layout

\begin_layout Standard
Payload in this section will be the summation of both secondary and main
 payloads, so the payload is 
\end_layout

\begin_layout Standard
\align center
\begin_inset Formula $Payload=Mainpayload+Secondarypayload=970+460=1430gm$
\end_inset


\end_layout

\begin_layout Section
Propulsion system selection
\end_layout

\begin_layout Subsection
Vertical takeoff propulsion system
\end_layout

\begin_layout Subsubsection
Motors : 
\end_layout

\begin_layout Standard
\align center
\begin_inset Formula $T_{motor}\leq\frac{W_{estimated}}{4}$
\end_inset


\end_layout

\begin_layout Standard

\series bold
Note:
\series default
 Due to limited resources of available motors, we had to estimate the maximum
 takeoff weight from the available set of motors 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/KDE2315XF_III_865e1186-de77-4a5d-88dc-2ecf16fd3482_large.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
KDE2315XF-965
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constant current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
26+ A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constants watts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
385+ W
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
No load current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.5 A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Input Voltage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.1 V (3S LiPo) - 17.4 V (4S LiHV)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RPM/V (Kv rating)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
965
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
75 grams
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../../../../Desktop/final doc/graduation-project/documentation/final documentation/pics/KDE_Direct_XF_CF_Brushless_Performance_Testing_-_KDE2315XF-965.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Hover motor's performance data
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
ESCs
\end_layout

\begin_layout Standard
ESC are are chosen based on the maximum voltage and amperage they can withstand
\end_layout

\begin_layout Standard
\align center
\begin_inset Formula $A_{ESC}\geq FOS*A_{motor_{peak}}=1.3*27.4=35.62A$
\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Formula $V_{ESC}\geq V_{motor_{max}}=17.4$
\end_inset

V
\end_layout

\begin_layout Standard
So, the following ESCs are chosen based on the motor's manufacturer recommendati
on
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../../../../Desktop/final doc/graduation-project/documentation/final documentation/pics/KDEXF-UAS35_I_large.jfif
	width 5cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
KDEXF-UAS35
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/esc specification.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ESC specification
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Cruise propulsion system
\end_layout

\begin_layout Subsubsection
Motors : According to many references, the rule of thump in choosing a pusher
 motor is according to the following table
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
power/weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
vehicle's category
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
50-70 watts/pound: 11-15 watts/100g
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Minimum level of power for decent performance
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
70-90 watts/pound; 15-20 watts/100g
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Trainer and slow flying scale models
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
90-110 watts/pound: 20-24 watts/100g 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Sport, aerobatic and fast flying scale models
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
110-130 watts/pound: 24-29 watts/100g 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Advanced aerobatic and high-speed models
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
130-150 watts/pound: 29-33 watts/100g 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lightly loaded 3D models and ducted fans
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/gpmg4595.jpg
	width 30page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Rimfire .10 35-30-1250 Outrunner Brushless
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constant current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
30A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum surge current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
35A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum constants watts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
333W
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum brust watts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
390W
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
No load current
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.2A
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Input Voltage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7.4 - 11.1 V (2-3S LiPo)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RPM/V (Kv rating)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1250
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
71 grams
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection
ESCs
\end_layout

\begin_layout Standard
previous ESC are used for this motor too
\end_layout

\begin_layout Subsubsection
Propellers set
\end_layout

\begin_layout Subsection
Power source (battery)
\end_layout

\begin_layout Standard
A MATlab code is created that roughly calculates the capacity if the battery
 needed given the endurance time of the mission and the consumption rate
 of the motors or calculates the mission endurance given the battery’s capacity.
 This code is based on some assumptions.
 (code is in the appendix of codes)
\end_layout

\begin_layout Standard
Assumptions:
\end_layout

\begin_layout Enumerate
The working time of the hovering motors is 20% of the mission endurance
\end_layout

\begin_layout Enumerate
The working time of pusher motor is the total mission endurance 
\end_layout

\begin_layout Itemize
Battery used in vehicle
\end_layout

\begin_deeper
\begin_layout Standard
A high quality Lithium battery, low weight /size and high power make it
 suitable for our application
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/lpb5200.jpg
	width 25page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Lithium Polymer Battery (11.1 V, 5200 mAH- 35C)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Battery specification
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Capacity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5500 mAh
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Configuration
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3S1P / 11.1v / 3Cell
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Peak discharge
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
35C
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
380 gm
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
size
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
140x30x30 mm
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
connector type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
T connector
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Battery specification
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Section
Vehicle Configuration
\end_layout

\begin_layout Standard
Our vehicle is an electric vehicle so the battery is a very important design
 element since it supplies the required current or power to carry or speed
 up the vehicle against weight or drag.
 Battery should be modeled to simulate a simple mission.
 The purpose is to find the best configuration for the flying taxi (Quad-copter
 , Quad-plane and Fixed wing ) .
 Besides from this simulation we can determine approximate range and endurance
 for each configuration.
\end_layout

\begin_layout Standard
Battery has important 2 parameters :
\end_layout

\begin_layout Itemize
C : battery capacity in Ahr
\end_layout

\begin_layout Itemize
n : A discharge parameter depends on battery type and temperature for ideal
 battery it equals 1, for LiPo batteries which we uses, it's very near to
 1.
\begin_inset Newline newline
\end_inset

The physical meaning of (n) can be seen in Peukert's equation : 
\begin_inset Formula $t=\frac{C}{i^{n}}$
\end_inset

 , from this equation we can see that the apparent capacity of the battery
 decreases as current increases in another way if we have a 5 Ah battery
 and it's rated at 1 A, if the drawn current is 1A, the battery will last
 for 5hr but if we the drawn current is 2A, it will last 
\series bold
less than
\series default
 2.5 hr 
\end_layout

\begin_layout Subsection
Battery parameters effect
\end_layout

\begin_layout Standard
The effect of these parameters can be shown for example for fixed wing configura
tion.
 If the power required is simulated against the drag to fly at specific
 speed, we get the following:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename scaling/Endurance_final.bmp
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Endurance"

\end_inset

Endurance
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename scaling/Range_final.bmp
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Range"

\end_inset

Range
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

from fig(
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Endurance"
plural "false"
caps "false"
noprefix "false"

\end_inset

) and fig(
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Range"
plural "false"
caps "false"
noprefix "false"

\end_inset

):
\end_layout

\begin_layout Enumerate
At first, the current draw decreases with speed because the required Cl
 decreases which decreases the induces drag.
 After specific speed of max.
 range and max.
 endurance, the effect of the parasite drag starts dominating the induced
 drag so the power required and current are increased.
\end_layout

\begin_layout Enumerate
The batteries with large capacity with respect to the current draw, it's
 desirable to have higher n for better range and endurance.
 But with less capacity batteries with respect to the current, less n has
 better range and endurance.
 
\end_layout

\begin_layout Enumerate
Consumed current is the same for any Capacity.
\end_layout

\begin_layout Enumerate
Points at which dotted lines(n=1.3) intersects with solid lines(n=1) at the
 same capacity is called 
\begin_inset Quotes eld
\end_inset

crossover
\begin_inset Quotes erd
\end_inset

, this points is at I=1 which is reasonable because the Peukert's equation
 becomes independent on (n).
\end_layout

\begin_layout Subsection
Effects of Cdo and K on choosing the battery capacity
\end_layout

\begin_layout Standard
The Cd-Cl curve can be fitted using the following relation: 
\begin_inset Formula $C_{d}=C_{do}+kCl^{2}$
\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $C_{do}$
\end_inset

effect
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename scaling/increasing_Cd0by0.01by.bmp
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
increasing Cdo by 0.01
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

increasing Cdo by 0.01 significantly affects the optimum speed and the battery
 behavior such that at optimum speed for C = 6 & n = 1: decreasing the endurance
 by 50% - increasing current by 100%- decreasing optimum speed by 36%
\end_layout

\begin_layout Enumerate
\begin_inset Formula $k$
\end_inset

 effect
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename scaling/Endurance_doubleCd.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
double K
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

doubling k effect at optimum speed for C = 6 & n = 1 : decreasing the endurance
 by 50% - increasing current by 100% - don't affect optimum speed.
 
\end_layout

\begin_layout Subsection
Different configuration simulation
\end_layout

\begin_layout Standard
as shown in the figure below, the quad-plane is the best choice for the
 flying taxi, since it has the VTOL advantage of the quad-copter and the
 high range and endurance advantage of the fixed-wing.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename scaling/Modelling.bmp
	lyxscale 50
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename scaling/Modelling_zoomed.bmp
	lyxscale 50
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Different configuration simulation for 30 min
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Fixed-wing vehicle Design
\end_layout

\begin_layout Subsection
Introduction
\end_layout

\begin_layout Standard
Before designing the vehicle, goals, mission and constraints must be defined
 well to achieve the highest performance and efficiency.
\end_layout

\begin_layout Itemize

\series bold
Mission
\series default
: Flying taxi should take-off as a quad-copter.
 When it gains the required and safe altitude, the flying taxi starts the
 quad-plane phase by turning the pusher on to achieve the required cruise
 speed which is specified from range, endurance and available power consideratio
ns.
 The flying taxi continues its quad-plane phase until it’s near from the
 landing point, it switches to the quad-copter mode and gradually lowering
 its altitude with visual odometry generated to aid the GPS for accurate
 position estimation and the obstacle avoidance algorithm is on to guide
 the flying taxi through a safe path to the landing point.
 
\end_layout

\begin_layout Itemize

\series bold
Constraints
\series default
: 
\end_layout

\begin_deeper
\begin_layout Itemize
Max.
 takeoff weight about 3 Kg, Where preliminary weight estimation of vehicle
 contains components about 2.8 Kg.
 
\end_layout

\begin_layout Itemize
Max.
 width of vehicle 0.8 meter, This constraint has been selected to satisfy
 mission, be easy to manufacture and to suit the wind tunnel width for future
 work in testing.
 
\end_layout

\begin_layout Itemize
Minimum length for easy landing at any place.
 XFLR5 program is chosen to design and analyse the aerodynamic parts of
 the flying taxi starting from airfoil design to the stability analysis
 of the complete plane.
 
\end_layout

\end_deeper
\begin_layout Subsection
Wing configuration 
\end_layout

\begin_layout Standard
There are a lot of wing configuration but the suitable configuration for
 our vehicle constraints and mission should be chosen.
 Since one of the important constraint of the flying taxi is to have small
 size, small span constraint should be achieved with generating the required
 lift so tandem wing plane is preferred to be used to get greater lift than
 conventional wing, as it has two independent source of lift (two wings)
 to be able to manage the takeoff weight.
\end_layout

\begin_layout Standard
Design parameters of Tandem wing plane:
\end_layout

\begin_layout Itemize
Stagger (St): The distance between main wing and second wing at a position
 of 1/4 chord.
\end_layout

\begin_layout Itemize
Gap (G): The vertical distance between main and second wings.
\end_layout

\begin_layout Itemize
Decalage (δ=α
\begin_inset Formula $^{ω}$
\end_inset

-α
\begin_inset Formula $^{p}$
\end_inset

): The relative angle of attack between two angles of attack for each wing.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../../../../Desktop/final doc/graduation-project/documentation/final documentation/pics/stagger.JPG
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Tandem wing plane
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Design Criterion
\end_layout

\begin_layout Subsubsection
Airfoil selection
\end_layout

\begin_layout Standard
In this section there is two constraints:
\end_layout

\begin_layout Itemize
The thickness of the standard foam sheets (in some cases it was little than
 the camber of the airfoil)
\end_layout

\begin_layout Itemize
Highly cambered airfoils are difficult to be manufactured using foam cutter
 machine (less accuracy).
\end_layout

\begin_layout Standard
The selection of the Airfoil should consider these constraints along with
 the requirements.
 xflr5 program has a built-in library of NACA series, but another airfoils
 can be imported.
\end_layout

\begin_layout Standard
First, airfoils that have high lift and low Reynold number; such as (Eppler421,
 Eppler423, MH14, NACA0018, NACA0015, Clark(Y) and NACA632615) are analysed,
 then suitable airfoil is chosen according to the previously stated constraints
 and requirements.
 So the airfoils that satisfy requirements are: 
\end_layout

\begin_layout Itemize
Eppler423 (higher lift)
\end_layout

\begin_layout Itemize
NACA0015 (easy to manufacture)
\end_layout

\begin_layout Standard
The two airfoils are analysed using panel method with 150 panel for smooth
 results.
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/2 airfoils.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
The 2 airfoils
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Shown below the boundary layer thickness and pressure distribution along
 the two selected airfoils with change at angle of attack from: (0 to 6
 & 0 to -4 ) degree :
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/NACA0015-lift distribution.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Pressure distribution along NACA0015 with difference angle of attack
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Eppler(Cp dist).png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Pressure distribution along Eppler423 with difference angle of attack
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We make analysis at different Re (from 20,000 to 1,000,000) and see plots
 on polar figure:
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/NACA0015-Batch analysis.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Polar graph of NACA0015
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Eppler-Batch analysis.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Polar graph of Eppler423
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Aerodynamic analysis:
\end_layout

\begin_layout Standard
Now after choosing air foils, the wing will be designed.
 After trying different trials considering constraints and requirements,
 the best configuration has been chosen then stability and lift produced
 is checked.
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/3D-final1.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Configuration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Investigating goals and requirements:
\end_layout

\begin_layout Itemize
For stability: 
\begin_inset Formula $\frac{dC_{m}}{d\alpha}<0$
\end_inset

:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../../../../Desktop/final doc/graduation-project/documentation/final documentation/pics/Cm-alpha(NACA0015).png
	scale 25

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Investigating stability
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
For lift: At trim angle the lift must carry the vehicle
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../../../../Desktop/final doc/graduation-project/documentation/final documentation/pics/lift(NACA0015).png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Investigating lift
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Subsubsection
Design parameters
\end_layout

\begin_layout Standard
In this part stability of quad-plane is checked and the airfoil design parameter
s (incidence angle, CG position, cruise speed and dimensions of wings) is
 chosen
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Parameter
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Effect on the vehicle
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
proportional with lift
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
proportional with lift
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cruise speed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
proportional with lift
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Arm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Static stability
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence angle
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Static stability
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of CG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Static stability
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Static stability
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Design parameters and their effect
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Results:
\end_layout

\begin_layout Itemize
NACA0015
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/lift analysis NACA0015.PNG
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
NACA0015 Lift and Cm-alpha
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Eppler423
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/lift analysis Eppler423.PNG
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Eppler423 Lift and Cm
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Comparison between 2 air foils:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Comparisons
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Model 1 (NACA0015)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Model 2 (Eppler423)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0 z= -0.05 m 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0 z= -0.05 m 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0.45 m z= 0.1 m 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0.45 m z= 0.15 m 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.8 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.6 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.25 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.2 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Aspect ratio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3.2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cruise speed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17 m/s
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17 m/s
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5 degree
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 degree
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-8 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Trim angle
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5.1 degree
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3.6 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{cg}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.19 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.2 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{Np}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.233 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.25 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Degree of Static Stability (S.M.)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
17.2%
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
25%
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
airfoils comparison 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
Conclusion of results: 
\end_layout

\begin_layout Enumerate
For configuration:
\end_layout

\begin_deeper
\begin_layout Itemize
First of all, there is illustration of the main reason to select tandem
 wing plane to get greater lift than conventional wing, because we have
 two independent source of lift (two wings).
\end_layout

\begin_layout Itemize
Then now we can say the reason of vertical distance (Gap) between 2 wings
 that can affect the resulting vortex and vortex interactions that the wing
 spacing has a significant effect on the resultant flow field and aerodynamic
 forces, finally we selected this distance to prevent wings from weak as
 a wing spacing is decrease, vortex structure at last wing became elongated
 and spread due to interactions with the front wing.
\end_layout

\begin_layout Itemize
Difference at dimension between 2 wings to equivalent to moment results
 from wings
\end_layout

\begin_layout Standard
So this configuration help to more stable quad-plane that increase stability
 due to wing spacing.
\end_layout

\end_deeper
\begin_layout Enumerate
For incidence angle: 
\end_layout

\begin_deeper
\begin_layout Standard
All models have been built it before almost of them have a negative incidence
 angle for tail not exceed -3 degree, So highlighting at the incidence of
 second wing in two models; in model (1) has a positive incidence angle,
 And model (2) has a large negative incidence angle.
\end_layout

\end_deeper
\begin_layout Enumerate
For Static margin:
\end_layout

\begin_deeper
\begin_layout Standard
That known the S.M.
 must be (from 5 to 20 %), and the S.M.
 in model (1) is 17.2 that is acceptable range, but at model (2) has 25%.
\end_layout

\end_deeper
\begin_layout Enumerate
For Lift:
\end_layout

\begin_deeper
\begin_layout Standard
We find trim angle of attack at 5.1 degree, and we go to Fz VS Alpha graph
 get lift that carry aircraft we get Fz=28.8(N) at 5.1 degree, which carry
 2.93 Kg maximum tack-off weight, all of calculations reference to 2.7 Kg
 maximum tack-off weight.
\end_layout

\end_deeper
\begin_layout Standard

\series bold
So, model (1) has been selected because model (1) is more effective than
 model (2)
\end_layout

\begin_layout Subsection
Optimization for aerodynamic stability:
\end_layout

\begin_layout Standard
In this phase C.G.
 position is forced to be in the middle of the vehicle to equalize the value
 of moments resulting from two wings to optimize the (𝐶
\begin_inset Formula $_{𝑚}$
\end_inset

−𝛼) graph, PX4 requirements and control requirements, easy to manufacturing
 and high accuracy results during assembly.First, making several trails with
 constraints of stability: 
\end_layout

\begin_layout Itemize
Select a set of parameters which can be optimized .
 
\end_layout

\begin_layout Itemize
Then set the parameters to constant values and iterate with one variable,
 to modify slope of stability from positive to negative slope.
 
\end_layout

\begin_layout Itemize
Concluded variables that affect the slope:
\end_layout

\begin_deeper
\begin_layout Itemize
Arm
\end_layout

\begin_layout Itemize
The height of second wing 
\end_layout

\begin_layout Itemize
Incidence of angles of 2 wings 
\end_layout

\begin_layout Itemize
Geometry of 2 wings specially wing chord 
\end_layout

\end_deeper
\begin_layout Itemize
Put position of C.G.
 and the arm, then change variables.
 
\end_layout

\begin_layout Standard
In this part the design parameters will be reduces to 6 parameters replacement
 7 parameters, because of constant position of CG, 
\series bold
By trial and error after fail some trails we get the best performance by
 change parameters:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="17" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Comparisons 
\backslash
 Models
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Model (NACA0015)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0 , z= 0 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Position of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x= 0.6 m , z= 0.3 m 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span of main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.6 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Span of second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.75 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord of main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.2 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chord of second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.22 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Aspect ratio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3.2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cruise speed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
18 m/s
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Main wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Incidence of Second wing
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Trim angle
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6.7 degree
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{CG}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.36 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{CG}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.15 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{NP}$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.383 m
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Degree of Static Stability (S.M.)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11.5%
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reylonds number
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
About (100,000 to 200,000)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection
Final results:
\end_layout

\begin_layout Itemize
Foil characteristics:
\end_layout

\begin_deeper
\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/Cp-distirbution2.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pressure distribution along NACA0015 at certain angle of attack and Reylonds
 number
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/foil analysis(NACA0015).png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Polar graph of NACA0015 at a certain Reylonds number=100,000 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/lift(NACA0015).png
	scale 25

\end_inset


\begin_inset space \space{}
\end_inset


\begin_inset Graphics
	filename pics/Cm-alpha(NACA0015).png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Lift Vs alpha and Cm Vs alpha
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Cl-alpha(NACA0015).png
	scale 25

\end_inset


\begin_inset space \space{}
\end_inset


\begin_inset Graphics
	filename pics/Cl-Cd_alpha(NACA0015).png
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Cl Vs alpha and Cl/Cd Vs alpha
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/(Cl-Cd)3.2-alpha(NACA0015).png
	scale 30

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Cl
\begin_inset Formula $^{\frac{3}{2}}$
\end_inset

/Cd Vs alpha
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
Finally we must check for our results by focus on 2 important figures, (longitud
inal static stability and lift generated from airfoil) , slope of Cm Vs
 alpha must has negative slope, and the value of lift at trim angle of attack
 must be carry the weight of vehicle: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/ahm 2fig(NACA0015).png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Fz vs alpha and Cm vs alpha
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Stability Analysis:
\end_layout

\begin_layout Standard
In this section longitudinal and lateral stability had been checked as the
 software use the stability derivatives of the model and get the TF to check
 the long period and short period for longitudinal motion and the different
 modes for lateral motion and here are the results 
\end_layout

\begin_layout Subsubsection
For longitudinal:
\end_layout

\begin_layout Itemize
Type1: short period mode.
 
\end_layout

\begin_layout Itemize
Type2: Pitching.
 
\end_layout

\begin_layout Itemize
Type3,4: motion around steady state flight
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="4">
<features tabularvalignment="middle" tabularwidth="10page%">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{u}$
\end_inset

= -0.17768
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{xu}$
\end_inset

= -0.12599
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
X
\begin_inset Formula $_{w}$
\end_inset

= 0.39794
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{xa}$
\end_inset

= 0.28216
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{u}$
\end_inset

= -3.0683
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{zu}$
\end_inset

= -0.00056674
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{w}$
\end_inset

= -9.8047
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{la}$
\end_inset

= 6.9519
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Z
\begin_inset Formula $_{q}$
\end_inset

= -1.9192
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lq}$
\end_inset

= 13.608
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\begin_inset Formula $_{u}$
\end_inset

= 5.3903e-07
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Mu}$
\end_inset

= 1.911e-06
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\begin_inset Formula $_{w}$
\end_inset

= -0.22008
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Ma}$
\end_inset

= -0.78024
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
M
\begin_inset Formula $_{q}$
\end_inset

= -1.20971
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Mq}$
\end_inset

= -42.886
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Neutral Point position= 0.38245 m
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\series bold
Longitudinal derivatives from Xflr5
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/root locus(long).png
	scale 50

\end_inset


\begin_inset VSpace defskip
\end_inset


\begin_inset Graphics
	filename pics/long.modes(xflr5).JPG
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
zero pole map for Longitudinal mode
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Time response characteristics:
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/short period.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Short period mode
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
where u: horizontal speed.
 w: vertical speed.
 q: pitch rate.
 theta: pitch angle,We noticed that is heavy damped mode (quick mode), all
 parameters reached to zero at very small time.
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/short period2.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
zero at very small time.
 Motion around steady flight mode 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
At total time=100 second, and step=0.1 second we see the signal is converge
 with time.
\end_layout

\begin_layout Subsubsection
For lateral
\end_layout

\begin_layout Itemize
Type1: roll damping.
 
\end_layout

\begin_layout Itemize
Type2,3: dutch roll mode.
 
\end_layout

\begin_layout Itemize
Type4: spiral mode.
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="4">
<features tabularvalignment="middle" tabularwidth="10page%">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\begin_inset Formula $_{V}$
\end_inset

= 1.0832e-27
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Yb}$
\end_inset

= 7.6802e-28
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\begin_inset Formula $_{P}$
\end_inset

= 2.3296e-19
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Yp}$
\end_inset

= 5.506e-19
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Y
\begin_inset Formula $_{r}$
\end_inset

= -1.0915e-20
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{Yr}$
\end_inset

= -2.5798e-20
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
L
\begin_inset Formula $_{V}$
\end_inset

= 9.9393e-15
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lb}$
\end_inset

= 1.1746e-14
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
L
\begin_inset Formula $_{P}$
\end_inset

= -0.22653
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lp}$
\end_inset

= -0.89234
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
L
\begin_inset Formula $_{r}$
\end_inset

= 0.082947
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{lr}$
\end_inset

= 0.32674
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N
\begin_inset Formula $_{V}$
\end_inset

= 1.1912e-14
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{nb}$
\end_inset

= 1.4077e-14
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N
\begin_inset Formula $_{P}$
\end_inset

= -0.048585
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{np}$
\end_inset

= -0.19138
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="left" valignment="top" topline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N
\begin_inset Formula $_{r}$
\end_inset

= -3.9184e-13
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
C
\begin_inset Formula $_{nr}$
\end_inset

= -1.5435e-12
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\series bold
Lateral derivatives from Xflr5
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/root locus(lateral).png
	scale 50

\end_inset


\begin_inset VSpace defskip
\end_inset


\begin_inset Graphics
	filename pics/late.modes(xflr5).JPG
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
zero pole map for Lateral mode
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Time response characteristics
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Lateral response.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Lateral response modes
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
where v: velocity speed.
 p: roll rate.
 r: yaw rate.
 phi: bank angle.
 
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="2">
<features tabularvalignment="middle">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CXu = -0.12599
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CYb = -0.24520
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CLu = 0.00057
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clb = -0.05277
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cmu = 0.00000
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cnb = 0.12824
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CXa = 0.28216
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CYp = -0.06327
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CLa = 6.95194
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clp = -0.90835
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cma = -0.78024
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cnp = -0.15792
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CXq = -0.24026
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CYr = 0.29289
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CLq = 13.60765
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Clr = 0.38927
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cmq = -42.88605
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cnr = -0.15451
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\series bold
Non-dimensional Stability Derivatives calculated by XFLR5
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Mechanical Design
\end_layout

\begin_layout Standard
In this chapter, we will discuss how to build an efficient and sufficient
 mechanical design for an autonomous flying taxi.
\end_layout

\begin_layout Standard
Our design is both sufficient and efficient so that it can withstand all
 the mechanical loads and vibrations and also carry the payload with a minimum
 weight of its components, it's also characterized by the good and attractive
 appearance to attract passenger's attention.
\end_layout

\begin_layout Subsection
Building a 3D mechanical model
\end_layout

\begin_layout Standard
Solid Works is used to create a 3D model and AutoCAD is used to edit 2D
 sketches for machining purposes.
 SolidWorks and AutoCAD are solid modeling computer-aided design (CAD) and
 computer-aided engineering (CAE) computer programs that runs on Microsoft
 Windows.
\end_layout

\begin_layout Subsubsection
SolidWorks outputs:
\end_layout

\begin_layout Enumerate
Files used in machining (laser cutting and 3D printing)
\end_layout

\begin_deeper
\begin_layout Enumerate
Accurate weight estimation
\end_layout

\begin_layout Enumerate
Gravity center location control
\end_layout

\begin_layout Enumerate
Some analysis (flow and structural)
\end_layout

\end_deeper
\begin_layout Subsubsection
Steps to draw a 3D model in SolidWorks
\end_layout

\begin_layout Enumerate
Define components of the payload, their dimensions, weight and fixation
 points
\end_layout

\begin_layout Enumerate
Define important dimensions created through aerodynamic analysis process
 such as: arm, span, chord ...
\end_layout

\begin_layout Enumerate
Define CG position needed for aerodynamic stability
\end_layout

\begin_layout Enumerate
define the components that needs mounts
\end_layout

\begin_layout Enumerate
Clearance needed for wiring and connections
\end_layout

\begin_layout Subsubsection
AutoCAD outputs
\end_layout

\begin_layout Enumerate
edit 2D machining files obtained from SolidWorks
\end_layout

\begin_deeper
\begin_layout Enumerate
Connected to a CNC Laser cutting machine and modify files into G-code for
 the machine
\end_layout

\end_deeper
\begin_layout Subsection
Payload 3D models
\end_layout

\begin_layout Itemize
Human 
\end_layout

\begin_deeper
\begin_layout Standard
Assuming a regular Human body weighs 200 kg, a scaled model is used to be
 the passenger of our vehicle on a scale of 1/1000
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/passenger.PNG
	width 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
1/1000 Scaled Passemger
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Chair
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/chair.PNG
	width 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chair
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Pixhawk and its mount
\end_layout

\begin_deeper
\begin_layout Standard
Pixhawk position and orientation are the constraints that must be taken
 in consideration during vehicle design.
 Pixhawk must be located at the CG of the vehicle and its axes must be the
 same axes of the vehicle so, a mount must be designed and manufactured
 to makes sure that these constraints are satisfied
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pixhawk.png
	width 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pixhawk and its mount 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
ZED camera
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/ZED.png
	width 8cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ZED stereo camera 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Jetson Nano KIT
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/jetson.png
	width 8cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Nano Jetson KIT
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Quad Motor
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/hover motor.png
	width 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Hovering quad motor 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Pusher motor
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pusher motor.png
	width 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pusher motor 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Battery
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/battery.png
	width 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Battery 3D model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Subsection
Available machining techniques
\end_layout

\begin_layout Standard
available machining techniques has put some other constrains on the design
 process so, available machines and their capabilities must be taken in
 consideration during design process.
\end_layout

\begin_layout Itemize
Laser cutter
\end_layout

\begin_deeper
\begin_layout Standard
Only cuts foam and wood sheets with maximum size of (90*50*1 cm) 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/maxresdefault.jpg
	width 8cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Laser Cutter
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
CNC foam cutter
\end_layout

\begin_deeper
\begin_layout Standard
Forms wings form foam using hot wire with moderate accuracy 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/rcfoamcutter_hot_wire_cnc_foam_cutter_XL1_s3.jpg
	height 8cm

\end_inset


\begin_inset Graphics
	filename pics/1ad2cfdbeb1e8dd0f7b5731dc31493d5.jpg
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
CNC foam cutter
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
A 3D printer (20*10*20 cm)
\end_layout

\begin_deeper
\begin_layout Standard
the available 3D printer is with small dimensions and low both quality and
 accuracy
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/M2Rev.E_2000x.jpg
	height 8cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
3D printer
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Subsection
Wing fixation method
\end_layout

\begin_layout Subsubsection
Variable incidence angle fixation method
\end_layout

\begin_layout Standard
In order to achieve the ability of tuning incidence angle during wind tunnel
 testing, a fixed point and a movable point must be made where the movable
 point is used to adjust incidence and the fixed point is used as a pinned
 support which prevents displacements and allow rotation.
\end_layout

\begin_layout Standard
Variable incidence fixation method is explained in the following figures:
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Capture.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation assembly
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/explanition incidince.jpg
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation Front view
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/zero incidince.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation at zero incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/-4.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation at -4 degrees incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/4deg.JPG
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
variable incidence fixation at 4 degrees incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Constant incidence angle fixation method
\end_layout

\begin_layout Standard
Due to complicity of manufacturing and implementing the previous method,
 a constant incidence angle fixation method is used as explained in the
\end_layout

\begin_layout Standard
following figures:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/constant incidence 1.png
	width 75page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Constant incidence fixation at 2 degrees incidence
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Fuselage
\end_layout

\begin_layout Standard
Fuselage is the main structure of the aircraft which holds all other components
 and substructures together and also carries the payload.
\end_layout

\begin_layout Standard
After Aerodynamic analysis and bringing our CG in the middle between the
 four motors, a mechanical design must be done depending on Fuselage.
 Many iterations are designed, manufactured and tested for reliability ,
 sufficiency and efficiency and in this part we will discuss some of these
 iterations and our final mechanical design 
\end_layout

\begin_layout Standard

\series bold
NOTES: 
\end_layout

\begin_layout Itemize
lateral stability is achieved from fuselage height instead of using vertical
 tail to keep weight optimized and make use of the large fuselage
\end_layout

\begin_layout Itemize
after the eighth iteration, new set of motors with higher propulsive power
 was available increasing the maximum takeoff weight so, the ability of
 creating more stiff designs increased
\end_layout

\begin_layout Subsubsection
First iteration: 
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/1st iteration/1st iteration (1).JPG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/1st iteration/1st iteration (3).JPG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/1st iteration/1st iteration (2).JPG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
1st mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
stiff
\end_layout

\begin_layout Enumerate
provides lateral stability
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
heavy in weight as it's full of material
\end_layout

\begin_layout Enumerate
not compatible with the vision angel of ZED camera as shown in the following
 figures 
\end_layout

\begin_layout Subsubsection
Second iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/3rd iteration/Capture.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/3rd iteration/4.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/3rd iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
2nd mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
very light
\end_layout

\begin_layout Enumerate
attractive appearance 
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
very weak in the links between wings
\end_layout

\begin_layout Enumerate
has no lateral stability, where lateral stability is achieved from fuselage
 height instead of using a vertical tail
\end_layout

\begin_layout Subsubsection
Third iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/4th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/4th iteration/1.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/4th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
3rd mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
stiffer than previous iteration
\end_layout

\begin_layout Enumerate
provides better lateral stability
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
very weak in the links between wings
\end_layout

\begin_layout Subsubsection
Forth iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/5th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/5th iteration/1.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/5th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
4th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
stiffer than the previous iteration
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
heavy in weight
\end_layout

\begin_layout Subsubsection
Fifth iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/7th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/7th iteration/1.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/7th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
5th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
weight optimized from fuselage
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
spars to fuselage fixation is made of 3 mm thickness foam, due to motors'
 vibrations the hole diameter changes and the fixation becomes weak
\end_layout

\begin_layout Subsubsection
Sixth iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/6th iteration/Capture.PNG
	width 25page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
6th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
this is the first iteration to solve wing fixation and vibrations problem
 and the following picture show the internal structure which is integrated
 with the previous iteration
\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
very stiff
\end_layout

\begin_layout Enumerate
easy in assembly
\end_layout

\begin_layout Enumerate
provide more accuracy during assembly as it works as a jig
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
it's very heavy in weight
\end_layout

\begin_layout Subsubsection
Seventh iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/8th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/8th iteration/Capture.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/8th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
7th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
legs are added to mounts for orientation and fixation
\end_layout

\begin_layout Enumerate
wing to fuselage fixation is replaced by a wooden part
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
weak in torsion created due to yaw by quad motors, where every two opposite
 motors generate a different value of thrust than the two others
\end_layout

\begin_layout Subsubsection
Eighth iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/9th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/9th iteration/Capture.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/9th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
8th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
links between spars are added to minimize torsion
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
Not stiff enough due to the high torsion produced in rough disturbance
\end_layout

\begin_layout Subsubsection
Ninth iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/10th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/10th iteration/Capture.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/10th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
9th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
legs is added to fuselage to improve assembly quality
\end_layout

\begin_layout Enumerate
an internal wooden structure is added to improve torsion resistance
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
Not stiff enough due to the high torsion produced in rough disturbance
\end_layout

\begin_layout Enumerate
pusher motor efficiency is reduced because the fuselage blocks some area
 where the pusher
\end_layout

\begin_layout Subsubsection
Tenth iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/11th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/11th iteration/1.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/11th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
10th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
motors mounts have the same incidence as the wings to provide motors alignment
 with the fuselage and the structure
\end_layout

\begin_layout Enumerate
more fixation points between skin and structure are added to improve alignment
\end_layout

\begin_layout Enumerate
bulkheads are used to improve torsion resistance 
\end_layout

\begin_layout Enumerate
allows more area for pusher to push air through
\end_layout

\begin_layout Enumerate
provides a movable door to achieve access to the internal components 
\end_layout

\begin_layout Standard

\series bold
Disadvantages:
\end_layout

\begin_layout Enumerate
due to imperfection in the rods used as spars there is a miss alignment
 between motors and their directions
\end_layout

\begin_layout Subsubsection
Eleventh iteration
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/12th iteration/2.PNG
	height 4cm

\end_inset


\begin_inset Graphics
	filename pics/12th iteration/Capture.PNG
	height 4cm

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/12th iteration/3.PNG
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
11th mechanical design iteration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
motors mounts have the same incidence as the wings to provide motors alignment
 with the fuselage and the structure
\end_layout

\begin_layout Enumerate
more fixation points between skin and structure are added to improve alignment
\end_layout

\begin_layout Enumerate
bulkheads are used to improve torsion resistance 
\end_layout

\begin_layout Enumerate
allows more area for pusher to push air through
\end_layout

\begin_layout Enumerate
provides a movable door to achieve access to the internal components 
\end_layout

\begin_layout Enumerate
links between main wing spar and rear wing spar improve alignment and avoid
 the effect of deflection in rods 
\end_layout

\begin_layout Chapter
Autopilot Design
\end_layout

\begin_layout Section
Mathematical Model
\end_layout

\begin_layout Standard
The mathematical model for the flying taxi will be derived then the linearized
 model will be used to design the autopilot.
 The main purpose is to estimate initial gains for the PIXHAWK to make it
 easier to tune since our vehicle isn't conventional.
 The flying taxi is a quad-plane with 2 main phases, the 1st phase is the
 
\begin_inset Quotes eld
\end_inset

quad-copter
\begin_inset Quotes erd
\end_inset

 phase in which the flying taxi pusher is turned off and the flying taxi
 acts as ordinary quad-copter during landing or takeoff which has the advantage
 of less distance for landing or takeoff and higher maneuverability especially
 for narrow places .
 In the 2nd phase after finishing takeoff and reaching the required altitude,
 the pusher is turned on and controlled via external controller code on
 the companion computer which sends the control action for the pusher to
 the PIXHAWK such that it achieves required cruise speed.
 It's assumed that during the 2nd phase (quad-plane phase) the flying taxi
 has constant heading and this is reasonable as it operates mainly between
 2 waypoints at high altitude so we don't need to consider the quad-plane
 lateral dynamics.
 On the other hand, during the quad-copter phase, the flying taxi has low
 speed and low altitude so the position accuracy is important to be more
 accurate than the GPS readings.
 Luckily these operating conditions is suitable for generating visual odometry
 which can aid the GPS also the obstacle avoidance is important during this
 phase so it's turned on.
\end_layout

\begin_layout Subsection
Equations of Motion(
\series bold
Rigid-Body dynamics
\series default
)
\end_layout

\begin_layout Subsubsection
Kinetics 
\begin_inset Foot
status open

\begin_layout Plain Layout
the study of forces and moments on system in motion
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
Translational motion:
\bar default
 
\begin_inset Formula $\overrightarrow{F}=\frac{d}{dt}(m\overrightarrow{v})=m(\mathring{\overrightarrow{v}}+\overrightarrow{\omega}\times\overrightarrow{v})=\overrightarrow{F}_{Aero}+\overrightarrow{F}_{pusher}+\overrightarrow{F}_{motors}+\overrightarrow{g}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
This relation represents the absolute resultant force acting on the CG ,which
 is the mass multiplied by the absolute change in the velocity vector of
 the CG of the flying taxi 
\begin_inset Formula $\overrightarrow{v}=u\overrightarrow{i}+v\overrightarrow{j}+w\overrightarrow{k}$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

but 
\begin_inset Formula $\overrightarrow{i},\overrightarrow{j},\overrightarrow{k}$
\end_inset

are unit vector in body axes directions which change direction with time
 so the absolute change is the sum of change in 
\bar under
magnitudes 
\begin_inset Formula $\mathring{\overrightarrow{v}}=\mathring{u}\overrightarrow{i}+\mathring{v}\overrightarrow{j}+\mathring{w}\overrightarrow{k}$
\end_inset


\begin_inset space ~
\end_inset


\bar default

\begin_inset space ~
\end_inset

and 
\bar under
directions 
\begin_inset Formula $\overrightarrow{\omega}\times\overrightarrow{v}$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\bar default

\begin_inset space ~
\end_inset

.
 Using body axes directions in translational motion is very beneficial as
 the inertial sensors gives its measurements in body axes so it's more suitable.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{F}_{Aero}$
\end_inset

can be ignored because during multicopter phase, the flying taxi encounters
 negligible aerodynamic force due to low speed but can't be ignored during
 the quad-plane phase as the higher velocity of this phase increases the
 effect of the aerodynamic forces which generates drag forces and lift force
 which is the main advantage for quad-plane over quad-copter since the generated
 lift increases range and endurance significantly with respect to the quad-copte
r configuration.
 This shows the effectiveness of the quad-plane configuration in the flying
 taxi application.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{F}_{pusher}=\left[\begin{array}{c}
F_{pusher}\\
0\\
0
\end{array}\right]$
\end_inset

 required to overcome the drag force to achieve required cruise speed.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{F}_{motors}=\sum_{i=1}^{4}[-\frac{1}{2}\rho AC(\omega_{i}R_{propeller})^{2}]\overrightarrow{k}=\sum_{i=1}^{4}[-b_{i}\omega_{prop,i}^{2}]\overrightarrow{k}$
\end_inset


\begin_inset Newline newline
\end_inset

where 
\begin_inset Formula $b_{i}$
\end_inset

is constant can be obtained for every motor relates the square of the angular
 velocity of the motor 
\begin_inset Formula $\omega_{prop,i}^{2}$
\end_inset

to the generated thrust and the summation of the thrust of each motor holds
 the total thrust 
\begin_inset Formula $\overrightarrow{F}_{motors}$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\overrightarrow{g}=C_{IB}\left[\begin{array}{c}
0\\
0\\
mg
\end{array}\right]$
\end_inset


\begin_inset Newline newline
\end_inset

where 
\begin_inset Formula $C_{BI}$
\end_inset

 is the rotation matrix from inertia axes to body axes according to ZYX
 euler angles(
\begin_inset Formula $\psi,\theta,\phi$
\end_inset

) will be derived later in the kinematics study
\begin_inset Newline newline
\end_inset


\begin_inset Formula $\therefore\overrightarrow{g}=mg\left[\begin{array}{c}
-sin(\theta)\\
cos(\theta)sin(\phi)\\
cos(\phi)cos(\theta)
\end{array}\right]$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\bar under
Rotational motion:
\bar default
 
\begin_inset Formula $\overrightarrow{M}=\frac{d}{dt}(I\overrightarrow{\omega})=I\mathring{\overrightarrow{\omega}}+\overrightarrow{\omega}\times I\overrightarrow{\omega}=\overrightarrow{M}_{motors}$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula 
\begin{align*}
\overrightarrow{M}_{motors} & =\overrightarrow{M}_{thrust\,induced}+\overrightarrow{M}_{drag\,induced}\\
 & =\left[\begin{array}{c}
l(T_{3}+T_{2}-T_{1}-T_{4})\\
l(T_{1}+T_{3}-T_{2}-T_{4})\\
0
\end{array}\right]+\left[\begin{array}{c}
0\\
0\\
-d_{1}\omega_{1}^{2}-d_{2}\omega_{2}^{2}+d_{3}\omega_{3}^{2}+d_{4}\omega_{4}^{2}
\end{array}\right]=\left[\begin{array}{c}
M_{x}\\
M_{y}\\
M_{z}
\end{array}\right]
\end{align*}

\end_inset


\begin_inset Newline newline
\end_inset

where 
\begin_inset Formula $\left\Vert M_{drag\,induced,i}\right\Vert =d_{i}\omega_{i}^{2}$
\end_inset

 and 
\begin_inset Formula $d_{i}$
\end_inset

 relates the square of the motor angular velocity and the generated torque
 on the motor base due to the aerodynamic resistance to the moving propeller
 which propagates to the flying taxi body from each motor.
\begin_inset Newline newline
\end_inset

motor 1: CCW drag , motor 2: CW drag , motor 3: CCW drag , motor 4: CW drag
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted1.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
motor configuration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
also 
\begin_inset Formula $T_{i}=b_{i}\omega_{i}^{2}$
\end_inset


\begin_inset Newline newline
\end_inset

It's better to design the controller using 
\begin_inset Formula $M_{x},M_{y},M_{z}$
\end_inset

instead of 
\begin_inset Formula $\omega_{i}^{2}$
\end_inset

 to make the controller independent of the configuration so we need a control
 allocation (or mixing) law to map the controller output to a required angular
 velocity for each motor.
\end_layout

\begin_layout Itemize
This relation represents the absolute resultant moment around the CG , represent
ed in the body axes directions which is very beneficial also in derivation
 because inertia is usually constant in body axes in contrast to fixed axes
 beside the previous reason stated in the translational motion.
\end_layout

\begin_layout Itemize
\begin_inset Formula $I$
\end_inset

is the inertia tensor in body axes.
 For our flying taxi it's symmetric only about xz plane
\begin_inset Newline newline
\end_inset

 
\begin_inset Formula $\therefore I=\left[\begin{array}{ccc}
Ixx & 0 & \boldsymbol{-Ixz}\\
0 & Iyy & 0\\
\boldsymbol{-Ixz} & 0 & Izz
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Itemize
angular velocity of the flying taxi 
\begin_inset Formula $\overrightarrow{\omega}=p\overrightarrow{i}+q\overrightarrow{j}+r\overrightarrow{k}$
\end_inset


\end_layout

\begin_layout Itemize
absolute change of 
\begin_inset Formula $I\overrightarrow{\omega}$
\end_inset

is the sum of change in 
\bar under
magnitudes 
\begin_inset Formula $I\mathring{\overrightarrow{\omega}}=I(\mathring{p}\overrightarrow{i}+\mathring{q}\overrightarrow{j}+\mathring{r}\overrightarrow{k})$
\end_inset


\bar default
 and 
\bar under
directions 
\begin_inset Formula $\overrightarrow{\omega}\times I\overrightarrow{\omega}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\end_deeper
\begin_layout Subsubsection
Kinematics 
\begin_inset Foot
status open

\begin_layout Plain Layout
the study of motion without regard to forces or moments
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using ZYX euler angles (
\begin_inset Formula $\psi,\theta,\phi$
\end_inset

), the transformation matrix which can be used to transform vectors from
 inertial axes to body axes is:
\begin_inset Newline newline
\end_inset


\begin_inset Formula $C_{IB}=\left[\begin{array}{ccc}
cos(\psi)cos(\theta) & cos(\theta)sin(\psi) & -sin(\theta)\\
-cos(\phi)sin(\psi)+cos(\psi)sin(\phi)sin(\theta) & cos(\phi)cos(\psi)+sin(\phi)sin(\psi)sin(\theta) & cos(\theta)sin(\phi)\\
sin(\phi)sin(\psi)+cos(\phi)cos(\psi)sin(\theta) & -cos(\psi)sin(\phi)+cos(\phi)sin(\psi)sin(\theta) & cos(\phi)cos(\theta)
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\therefore\left[\begin{array}{c}
\mathring{X}\\
\mathring{Y}\\
\mathring{Z}
\end{array}\right]=C_{BI}\left[\begin{array}{c}
u\\
v\\
w
\end{array}\right]$
\end_inset

 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

where 
\begin_inset Formula $C_{BI}=C_{IB}^{T}$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

is the transform from body to inertial axes.
\end_layout

\begin_layout Standard
As ZYX euler angles represents rotation from :
\end_layout

\begin_layout Enumerate
body axes around Z to intermediate axes(1) with angle 
\begin_inset Formula $\psi$
\end_inset


\end_layout

\begin_layout Enumerate
intermediate axes(1) around y1 to intermediate axes(2) with angle 
\begin_inset Formula $\theta$
\end_inset


\end_layout

\begin_layout Enumerate
intermediate axes(2) around x2 to body axes with angle 
\begin_inset Formula $\phi$
\end_inset


\end_layout

\begin_layout Standard
so 
\begin_inset Formula $\mathring{\psi}$
\end_inset

is in Z direction , 
\begin_inset Formula $\mathring{\theta}$
\end_inset

 is in y1 direction , and 
\begin_inset Formula $\mathring{\phi}$
\end_inset

 is in x2 direction
\end_layout

\begin_layout Standard
\begin_inset Formula $\therefore\overrightarrow{\omega}=p\overrightarrow{i}+q\overrightarrow{j}+r\overrightarrow{k}=\mathring{\psi}\overrightarrow{K}_{inertial}+\mathring{\theta}\overrightarrow{j_{1}}+\mathring{\phi}\overrightarrow{i_{2}}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $\because\overrightarrow{K}_{inertial}=[3rd\,row\,of\,C_{BI}].\left[\begin{array}{c}
1\\
1\\
1
\end{array}\right]=[3rd\,row\,of\,C_{BI}]^{T}=\left[\begin{array}{c}
-sin(\theta)\\
cos(\theta)sin(\phi)\\
cos(\phi)cos(\theta)
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Standard
, 
\begin_inset Formula $\overrightarrow{j_{1}}=\overrightarrow{j_{2}}=[2nd\,row\,R_{x}(\phi)]^{T}=\left[\begin{array}{c}
0\\
cos(\phi)\\
-sin(\phi)
\end{array}\right]$
\end_inset


\end_layout

\begin_layout Standard
, 
\begin_inset Formula $\overrightarrow{i_{2}}=\overrightarrow{i}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\therefore\overrightarrow{\omega}=\left[\begin{array}{c}
p\\
q\\
r
\end{array}\right] & =\mathring{\psi}\left[\begin{array}{c}
-sin(\theta)\\
cos(\theta)sin(\phi)\\
cos(\phi)cos(\theta)
\end{array}\right]+\mathring{\theta}\left[\begin{array}{c}
0\\
cos(\phi)\\
-sin(\phi)
\end{array}\right]+\mathring{\phi}\left[\begin{array}{c}
1\\
0\\
0
\end{array}\right]\\
\therefore\left[\begin{array}{c}
p\\
q\\
r
\end{array}\right] & =\left[\begin{array}{ccc}
1 & 0 & -sin(\theta)\\
0 & cos(\phi) & cos(\theta)sin(\phi)\\
0 & -sin(\phi) & cos(\phi)cos(\theta)
\end{array}\right]\left[\begin{array}{c}
\mathring{\phi}\\
\mathring{\theta}\\
\mathring{\psi}
\end{array}\right]\\
\therefore\left[\begin{array}{c}
\mathring{\phi}\\
\mathring{\theta}\\
\mathring{\psi}
\end{array}\right] & =\left[\begin{array}{ccc}
1 & sin(\phi)tan(\theta) & cos(\phi)tan(\theta)\\
0 & cos(\phi) & -sin(\phi)\\
0 & sin(\phi)sec(\theta) & cos(\phi)sec(\theta)
\end{array}\right]\left[\begin{array}{c}
p\\
q\\
r
\end{array}\right]
\end{align*}

\end_inset


\end_layout

\begin_layout Subsubsection
Resultant Nonlinear model
\end_layout

\begin_layout Standard
from the previous dynamics (kinetics and kinematics) study, we get the nonlinear
 system which is 12 equations in 12 unknowns (states) .
\end_layout

\begin_layout Standard

\bar under
states:
\bar default
 u , v , w , p ,q , r , X , Y , Z , 
\begin_inset Formula $\phi$
\end_inset

, 
\begin_inset Formula $\theta$
\end_inset

 , 
\begin_inset Formula $\psi$
\end_inset


\end_layout

\begin_layout Standard

\bar under
system:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align}
\mathring{u} & =-gsinθ-qw+rv+\frac{F_{pusher}}{m}+\frac{X_{aero}}{m}\\
\mathring{v} & =gcosθsinϕ-ru+pw\\
\mathring{w} & =gcosθcosϕ-pv+qu-\frac{T_{allmotors}}{m}+\frac{Z_{aero}}{m}\\
\mathring{p} & =\frac{I_{x}I_{xz}pq-I_{xz}^{2}qr-I_{xz}I_{y}pq+I_{xz}I_{z}pq+I_{y}I_{z}qr-I_{z}^{2}qr+I_{xz}M_{z}+I_{z}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}\\
\mathring{q} & =\frac{M_{y}-pr(I_{x}-I_{z})-I_{xz}(p^{2}-r^{2})}{I_{y}}+\frac{M_{aero}}{I_{y}}\\
\mathring{r} & =\frac{I_{x}^{2}pq-I_{x}I_{xz}qr-I_{x}I_{y}pq+I_{xz}^{2}pq+I_{xz}I_{y}qr-I_{xz}I_{z}qr+I_{x}M_{z}+I_{xz}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}\\
\mathring{\phi} & =p+qsinϕtanθ+rcosϕtanθ\\
\mathring{\theta} & =qcosϕ-rsinϕ\\
\mathring{\psi} & =qsinϕsecθ+rcosϕsecθ\\
\mathring{X} & =[cos(θ)cos(ψ)]u+[sin(ϕ)cos(ψ)-cos(ϕ)sin(ψ)]v+[cos(ϕ)sin(\theta)cos(ψ)+sin(ϕ)sin(ψ)]w\\
\mathring{Y} & =[cos(θ)sin(ψ)]u+[sin(ϕ)sin(θ)sin(ψ)+cos(ϕ)cos(ψ)]v+[cos(ϕ)sin(θ)sin(ψ)-sin(ϕ)cos(ψ)]w\\
\mathring{Z} & =[-sin(θ)]u+[sin(ϕ)cos(θ)]v+[cos(ϕ)cos(θ)]w
\end{align}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Linearization 
\end_layout

\begin_layout Standard
We linearize the dynamics of the flying taxi around equilibrium point at
 steady flight where : 
\end_layout

\begin_layout Standard
all rates = 0 , 
\begin_inset Formula $\phi_{o}=\theta_{o}=0$
\end_inset

, 
\begin_inset Formula $p=q=r=0$
\end_inset

 , 
\begin_inset Formula $\alpha=0$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align}
\therefore\mathring{\Delta u} & =-g\theta+\frac{\Delta X_{pusher}}{m}+\frac{X_{u}^{aero}}{m}\Delta u+\frac{X_{w}^{aero}}{m}\Delta w\label{u_rate}\\
\mathring{v} & =g\phi-u_{o}r\label{v_rate}\\
\mathring{w} & =u_{o}q-\frac{\Delta T_{allmotors}}{m}+\frac{Z_{u}^{aero}}{m}\Delta u+\frac{Z_{w}^{aero}}{m}\Delta w+\frac{Z_{q}^{aero}}{m}\Delta q\label{w_rate}\\
\mathring{p} & =\frac{I_{z}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}+\frac{I_{xz}M_{z}}{I_{x}I_{z}-I_{xz}^{2}}\label{p_rate_equ}\\
\mathring{q} & =\frac{M_{y}}{Iy}+\frac{M_{u}^{aero}}{I_{y}}\Delta u+\frac{M_{w}^{aero}}{I_{y}}\Delta w+\frac{M_{q}^{aero}}{I_{y}}\Delta q\label{q_rate}\\
\mathring{r} & =\frac{I_{x}M_{z}}{I_{x}I_{z}-I_{xz}^{2}}+\frac{I_{zx}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}\label{r_rate}\\
\mathring{\phi} & =p\label{roll_rate_equ}\\
\mathring{\theta} & =q\label{pitch rate}\\
\mathring{\psi} & =r\label{yaw_rate}\\
\mathring{Z} & =w\label{Z_rate}
\end{align}

\end_inset


\end_layout

\begin_layout Standard
The position linearization isn't good approximation since changes in angles
 especially the heading angle can't be assumed as small variations.
\end_layout

\begin_layout Subsection
Parameters
\end_layout

\begin_layout Standard
from Solidworks model we can get initial estimates for the flying taxi parameter
s needed to design the controller in the next step:
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.9
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ix
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.12
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Iy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.16
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Iz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.23
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ixz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.05
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $kg.m^{2}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Quad-copter phase Autopilot
\end_layout

\begin_layout Standard
The modified linearized model for the quad-copter phase:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align}
\therefore\mathring{\Delta u} & =-g\theta\label{u_rate-1}\\
\mathring{v} & =g\phi\label{v_rate-1}\\
\mathring{w} & =-\frac{\Delta T_{allmotors}}{m}\label{w_rate-1}\\
\mathring{p} & =\frac{I_{z}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}+\frac{I_{xz}M_{z}}{I_{x}I_{z}-I_{xz}^{2}}\label{p_rate_equ-1}\\
\mathring{q} & =\frac{M_{y}}{Iy}\label{q_rate-1}\\
\mathring{r} & =\frac{I_{x}M_{z}}{I_{x}I_{z}-I_{xz}^{2}}+\frac{I_{zx}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}\label{r_rate-1}\\
\mathring{\phi} & =p\label{roll_rate_equ-1}\\
\mathring{\theta} & =q\label{pitch rate-1}\\
\mathring{\psi} & =r\label{yaw_rate-1}\\
\mathring{Z} & =w\label{Z_rate-1}
\end{align}

\end_inset


\end_layout

\begin_layout Subsection
Autopilot design
\end_layout

\begin_layout Standard
Autopilot block diagram is designed as follows:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/attitude controller.png
	lyxscale 80
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Autopilot design
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Attitude controller
\end_layout

\begin_layout Standard

\series bold
\bar under
Roll Controller:
\end_layout

\begin_layout Standard
As shown in parameters table, Ixz is very small compared to Iz so the Mz
 effect is less than Mx on the roll response.
 The accuracy of this assumption is tested by comparing Linear and Nonlinear
 response of the flying taxi and it turned out that it's very good assumption
 for our vehicle.
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "p_rate_equ-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "roll_rate_equ-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{\phi}=\frac{I_{z}M_{x}}{I_{x}I_{z}-I_{xz}^{2}}\Rightarrow G_{phi}=\frac{\phi}{Mx}=\frac{I_{z}}{(I_{x}I_{z}-I_{xz}^{2})\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/roll controller.png.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Roll Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.296$
\end_inset

 , 
\begin_inset Formula $D=0$
\end_inset

 , 
\begin_inset Formula $I=0.147533$
\end_inset

 for inner loop and outer loop controller as 
\begin_inset Formula $P=1.1681$
\end_inset


\end_layout

\begin_layout Standard
The roll step response and control action for linear and nonlinear models
 using the designed roll controller:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/roll_1deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
1 deg desired Roll input
\end_layout

\end_inset


\end_layout

\end_inset

The response for 10 deg desired roll input and control action (to show the
 effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/roll_10_deg.bmp
	lyxscale 50
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
10 deg desired Roll input
\end_layout

\end_inset


\end_layout

\end_inset

 
\end_layout

\begin_layout Standard

\series bold
\bar under
Pitch Controller:
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "q_rate-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "pitch rate-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{\theta}=\frac{My}{Iy}\Rightarrow G_{\theta}=\frac{\theta}{My}=\frac{1}{Iy\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pitch controller.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pitch Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.32$
\end_inset

 , 
\begin_inset Formula $D=0$
\end_inset

 , 
\begin_inset Formula $I=0.156$
\end_inset

 for inner loop ,and outer loop controller as 
\begin_inset Formula $P=0.89671$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pitch_1deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
1 deg desired pitch input
\end_layout

\end_inset


\end_layout

\end_inset

The response for 10 deg desired pitch input and control action (to show
 the effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pitch_10deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
10 deg desired pitch input
\end_layout

\end_inset


\end_layout

\end_inset

 
\end_layout

\begin_layout Standard

\series bold
\bar under
Yaw Controller:
\end_layout

\begin_layout Standard
As shown in parameters table, Ixz is also very small compared to Ix so the
 Mx effect is less than Mz on the roll response..
 The accuracy of this assumption is tested by comparing Linear and Nonlinear
 response of the flying taxi and it turned out that it's very good assumption
 for our vehicle.
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "r_rate-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "yaw_rate-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\therefore\ddot{\psi}=\frac{I_{x}M_{z}}{I_{x}I_{z}-I_{xz}^{2}}\Rightarrow G_{\psi}=\frac{\psi}{Mz}=\frac{I_{x}}{(I_{x}I_{z}-I_{xz}^{2})\,s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/psi.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Yaw Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=0.72$
\end_inset

 , 
\begin_inset Formula $D=0$
\end_inset

 , 
\begin_inset Formula $I=0.5634$
\end_inset

 for inner loop ,and outer loop controller as 
\begin_inset Formula $P=1.8681$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/yaw_1deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Yaw Step response and control action
\end_layout

\end_inset


\end_layout

\end_inset

The response for 10deg desired Yaw input and control action (to show the
 effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/yaw_10deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
10 deg desired yaw input
\end_layout

\end_inset


\end_layout

\end_inset

 
\end_layout

\begin_layout Standard

\series bold
\bar under
Roll,Pitch and Yaw Controllers together in action:
\series default
\bar default

\begin_inset Newline newline
\end_inset

As we see from the nonlinear model all attitude states affects each others
 (Coupled) so we need to verify that there disturbance on each other won't
 lead to bad performance or even instability.
 As shown the linear model is decoupled which isn't the case in reality.
 The disturbance on pitch from changing other states is handled well by
 the pitch controller which enforce the yaw angle back to zero.
 There is small effects on the roll and yaw responses and control actions.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/R5P0Y5.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
desired roll = 5 deg , desired pitch = 0 , desired yaw = 5
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Altitude Controller
\end_layout

\begin_layout Standard
From Linearization section using equations( 
\begin_inset CommandInset ref
LatexCommand ref
reference "w_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

),(
\begin_inset CommandInset ref
LatexCommand ref
reference "Z_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\therefore\ddot{Z}=-\frac{\Delta T_{allmotors}}{m}\Rightarrow G_{Z}=\frac{Z}{\Delta T_{allmotors}}=\frac{1}{m\,s^{2}}
\]

\end_inset


\end_layout

\begin_layout Standard
ignoring motor dynamics as it has fast response w.r.t.
 vehicle dynamics
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/altitude controller.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Altitude Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using Matlab SISO tool to obtain robust controller : 
\begin_inset Formula $P=3.753$
\end_inset

 , 
\begin_inset Formula $D=0$
\end_inset

 , 
\begin_inset Formula $I=1.853$
\end_inset

 for inner loop ,and outer loop controller as 
\begin_inset Formula $P=.86913$
\end_inset


\end_layout

\begin_layout Standard
The altitude step response (Z = -1 m) and control action for linear and
 nonlinear models using the designed yaw controller:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/altitude_1deg.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Altitude Step response and control action
\end_layout

\end_inset


\end_layout

\end_inset

The response for -10 m (Z = 10 m) desired altitude input and control action
 (to show the effect of larger input on the nonlinear model) :
\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/altitude_10m.bmp
	lyxscale 70
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
-4m altitude input
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Note : Negative 
\begin_inset Formula $\Delta T_{allmotors}$
\end_inset

doesn't mean reversed motors thrust but means that the thrust will decrease
 below nominal thrust.
\end_layout

\begin_layout Subsubsection
Attitude & Altitude controllers together in action
\end_layout

\begin_layout Standard
The effect of changing both attitude and altitude is studied because as
 appearing in the nonlinear model the attitude is affecting the altitude
 so we should verify that the altitude controller can handle this effect
 which considered relative to the altitude controller as external disturbance
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/att_alt_coup_A4R-5P-Y0.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
desired roll = 5 deg , desired pitch = -5 deg , desired altitude = -4 m
 ( Z = 4 m) 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Line-of-sight (LOS) Guidance
\end_layout

\begin_layout Standard
LOS guidance is a method used to guide a vehicle between 2 waypoints using
 2 types of errors : along-track error and cross-track error by calculating
 both of them we can then choose pitching to eliminate along-track error
 and rolling to eliminate cross-track error.
 From the previous waypoint and current one we can get the desired yaw angle.
 LOS can be more complicated espically for fixed wing as we can't control
 rolling without changing yaw angle which isn't the case for us during multicopt
er flight phase of the flying taxi.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LOS.png
	lyxscale 70
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LOS
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align}
\alpha_{k} & =tan^{-1}\left(\frac{Y_{des}^{k}-Y_{des}^{k-1}}{X_{des}^{k}-X_{des}^{k-1}}\right)\\
\psi_{des} & =\alpha_{k}\\
e_{cross-track} & =-(X-X_{des}^{k-1})sin(\alpha_{k})+(Y-Y_{des}^{k-1})cos(\alpha_{k})\\
s & =(X-X_{des}^{k-1})cos(\alpha_{k})+(Y-Y_{des}^{k-1})sin(\alpha_{k})\\
R & =\sqrt{(Y_{des}^{k}-Y_{des}^{k-1})^{2}+(X_{des}^{k}-X_{des}^{k-1})^{2}}\\
e_{along-track} & =R-s\label{eq:e_along}
\end{align}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LOS block diagram.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LOS block diagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Our strategy to get PID values is using a linearized model to design a controlle
r as initial estimate then using LabVIEW simulation of the nonlinear model
 we can tune the controller for better performance.
\end_layout

\begin_layout Standard
The attitude dynamics is much faster than position dynamics.
 so we can assume that heading angle is settled so the along-track error
 is in the x-body direction and the cross-track error is in the y-body direction.
\end_layout

\begin_layout Standard
From equ.
 (
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:e_along"
plural "false"
caps "false"
noprefix "false"

\end_inset

) : 
\begin_inset Formula $e_{along-track}=R-s\Rightarrow\mathring{e}_{along-track}=-u\,\Rightarrow\,e_{along-track}=\frac{-u}{s}$
\end_inset


\end_layout

\begin_layout Standard
from equ.(
\begin_inset CommandInset ref
LatexCommand ref
reference "u_rate-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

): 
\begin_inset Formula $\Delta u=\frac{-g\theta}{s}\Rightarrow\boldsymbol{e_{along-track}=\frac{g\theta}{s^{2}}}$
\end_inset

 
\end_layout

\begin_layout Standard
It's clear that the linearized model only accounts for g component effect
 but the 
\begin_inset Formula $\Delta T_{allmotors}$
\end_inset

component doesn't appear so tuning the nonlinear model is important to be
 done and it's expected that the deviation between linear and nonlinear
 is significant.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/X guidance.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
X guidance
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using SISO tool : 
\begin_inset Formula $P=-0.00063466$
\end_inset

 , 
\begin_inset Formula $D=-0.0159$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/along track control_alt_contr_effect.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 1)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
changing the gains in LabVIEW Simulation (Shown in the next section) by
 giving input way point (X=1 , Y=0 , Z=-1):
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LabVIEW frontpanel.png
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW front panel
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/along track control_newGains.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 2 increasing P) : high steady-state error
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/along track control_newGains2_decreaseKd.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 2 decreasing D) : high steady-state error and
 the settling time is increased (as expected but we only wanted see the
 effect)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/along track control_newGains2_with Iterm.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track control (trial : 3 adding small I term to eliminate steady-state
 error) : settling time is highly increased
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/along track control.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
along-track error control (final trial) : increasing P and D
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
gains from linearized model : 
\begin_inset Formula $P=-0.00063466$
\end_inset

 , 
\begin_inset Formula $D=-0.0159$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
new gains after tunning using nonlinear simulation : 
\series bold

\begin_inset Formula $P=-0.002$
\end_inset

 , 
\begin_inset Formula $D=-0.2$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\begin_inset Newline newline
\end_inset


\series default
in all previous results the altitude control is working as could be seen
 from Z-force response.
 
\series bold

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
Similarly, For cross-track error we used the same procedure: 
\begin_inset Formula $\mathring{v}=g\phi\Rightarrow\mathring{e}_{cross-track}=v=\frac{g\phi}{s}\Rightarrow e_{cross-track}=\frac{g\phi}{s^{2}}$
\end_inset


\end_layout

\begin_layout Standard
As before it's clear that the linearized model only accounts for g component
 effect but the 
\begin_inset Formula $\Delta T_{allmotors}$
\end_inset

component doesn't appear
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/Y guidance.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Y guidance
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Using SISO tool : 
\begin_inset Formula $P=-0.00063473$
\end_inset

 , 
\begin_inset Formula $D=-0.0159$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset

 
\begin_inset space ~
\end_inset

approximately the same as linear X-guidance because the only difference
 is in the 
\begin_inset Formula $\frac{\phi}{\phi_{req}}$
\end_inset

 instead of 
\begin_inset Formula $\frac{\theta}{\theta_{req}}$
\end_inset

 which, from our designed attitude controller results, is fast compared
 to X , Y responses
\end_layout

\begin_layout Standard
So we used the previously tuned gains from nonlinear simulation: 
\series bold

\begin_inset Formula $P=-0.002$
\end_inset

 , 
\begin_inset Formula $D=-0.2$
\end_inset

 , 
\begin_inset Formula $I=0$
\end_inset


\end_layout

\begin_layout Standard
Now we run the nonlinear simulation by giving input waypoint(X=0 , Y=1 ,
 Z=-1):
\end_layout

\begin_layout Standard
as seen from the figure below , the yaw angle is changed to -90 deg quickly
 so the cross-track became along-track error
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/guidance_y_only.bmp
	lyxscale 80
	width 100col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
X,Y guidance waypoint(X=0 , Y=1 , Z=-1)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Intermediate case input waypoint (X=1 , Y=1 , Z=-1):
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/XYG1.png
	width 45col%

\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset Graphics
	filename pics/XYG2.png
	width 45col%

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/XYG3.png
	width 45col%

\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset Graphics
	filename pics/XYG4.png
	width 45col%

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/XYG5.png
	width 45col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
X,Y Guidance waypoint(X=1 , Y=1 , Z=-1)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Simulation using LabVIEW
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LabVIEW frontpanel.png
	lyxscale 80
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW front panel
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LabVIEW blockdiagram.png
	lyxscale 80
	width 50col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW blockdiagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LabVIEW guidance bloackdiagram.png
	lyxscale 80
	width 80page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW Guidance blockdiagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LabVIEW altitude  blockdiagram.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW altitude BD
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/LabVIEW attitude  blockdiagram.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
LabVIEW attitude controller BD
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Commercial Autopilot
\end_layout

\begin_layout Standard
We used PIXHAWK as a commercial autopilot.
 PIXHAWK is an autopilot hardware for academic, hobby and developer communitites
 and supports flight stacks software like PX4 and ArduPilot.
 We used PX4 software.
 PX4 software consists of 2 main parts: Middleware and Flightstack as follows:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="40col%">
<column alignment="center" valignment="top" width="40col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none" width="90col%">
\begin_inset Text

\begin_layout Plain Layout
PX4 Software
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Middleware
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Flightstack
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
general robotics layer for any autonomous robot not only drones like rovers.
 It handles the internal communications between the different running programs
 using asynchronous message passing(uORB) and external communication using
 MAVLink or FastRTPS.
 It provides the hardware integration (GPS-IMU-....)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It contains the estimation and flight control system.
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/PX4_Architecture.svg
	lyxscale 60
	width 60col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
PX4 architecture from PX4 website
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
We are concerned more with the Flightstack so we will take a small dive
 to show the basics of each subsystem in the flightstack.
 The flightstack consists of 7 main subsystems: Commander - Navigator -
 Position Controller - Attitude & Rate Controller - Sensors Hub - Estimator
 - Output Driver
\end_layout

\begin_layout Subsubsection
Commander
\end_layout

\begin_layout Standard
The commander is a state-machine architecture which can switch the flight
 modes based on specific conditions from the remote control or even from
 the mavlink (using companion computer).
 A simple example shows how the commander works: The commander has a main
 loop inside which check if there is an 
\begin_inset Quotes eld
\end_inset

Arming
\begin_inset Quotes erd
\end_inset

 signal coming from the remote control and if there is , it will call a
 function called 
\begin_inset Quotes eld
\end_inset

arming_state_transition()
\begin_inset Quotes erd
\end_inset

 and after checking if it's valid to 
\begin_inset Quotes eld
\end_inset

Arm
\begin_inset Quotes erd
\end_inset

 the muticopter.
 the arm variable will be changed to the arming value and then published
 for other programs using the uORB message system which is built inside
 the PX4 middleware.When the output drivers programs read the arm variable,
 they will initiate the spinning of the motors.
 We will explain the 
\begin_inset Quotes eld
\end_inset

flight modes
\begin_inset Quotes erd
\end_inset

 later in this section.
\end_layout

\begin_layout Subsubsection
Navigator
\end_layout

\begin_layout Standard
The navigator takes its 
\series bold
inputs
\series default
 from 
\bar under
database(store waypoints or mission),RC(Remote control) or the Commandar
\bar default
, and 
\series bold
outputs
\series default
 
\bar under
position setpoints
\bar default
 to be used by the position controller.
\end_layout

\begin_layout Subsubsection
Position controller
\end_layout

\begin_layout Standard
inputs: Position setpoints & heading
\end_layout

\begin_layout Standard
outputs: 
\series bold
Thrust vector
\series default
 which can be decomposed into 
\bar under
attitude(angles) setpoints
\bar default
 and 
\bar under
thrust magnitude.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted222.png
	width 80page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
cascaded control architecture from 
\begin_inset Quotes eld
\end_inset

Nonlinear Quadrocopter Attitude Control Technical Report,Brescianini, Dario;
 Hehn, Markus; D'Andrea, Raffaello,2013
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\end_layout

\begin_layout Standard
The feedforward signal isn't used for multirotors.
\end_layout

\begin_layout Standard
The position controller is implemented such that it consists of 2 loops
 :
\end_layout

\begin_layout Enumerate

\bar under
1st loop
\bar default
 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: position setpoints , outputs: velocity setpoints , controller: P-control
ler
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/pasted422.png
	width 90col%

\end_inset


\end_layout

\begin_layout Enumerate

\bar under
2nd loop
\bar default

\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: velocity setpoint , outputs: required thrust vector , controller:
 PID-controller
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/pasted52.png
	width 90col%

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/pasted62.png
	width 90col%

\end_inset


\end_layout

\begin_layout Standard
But the D-term in the controller don't use the error rate as usual PIDs
 , it uses the negative rate of the estimated plant velocity to avoid 
\begin_inset Quotes eld
\end_inset

the derivative kick
\begin_inset Quotes erd
\end_inset

 which causes high control action due to the discrete implementation of
 the PID.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/position controller.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Position Controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Attitude & Rate Controller
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted322.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
cascaded control architecture from 
\begin_inset Quotes eld
\end_inset

Nonlinear Quadrocopter Attitude Control Technical Report,Brescianini, Dario;
 Hehn, Markus; D'Andrea, Raffaello,2013
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
inputs: attitude setpoints(Roll-Pitch-Yaw)
\end_layout

\begin_layout Standard
outputs: 
\series bold
Required Forces and Moments
\end_layout

\begin_layout Standard
The Attitude controller consists also of 2 loops :
\end_layout

\begin_layout Enumerate

\bar under
1st loop
\bar default
 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: attitude setpoints , outputs: angular rates setpoints , controller:
 P-controller (
\begin_inset Formula $\frac{1}{\tau}$
\end_inset

)
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/pasted72.png
	width 60col%

\end_inset


\end_layout

\begin_layout Enumerate

\bar under
2nd loop
\bar default

\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

inputs: angular rates setpoint , outputs: required forces and moments ,
 controller: PID-controller
\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/pasted82.png
	width 90col%

\end_inset


\end_layout

\begin_layout Standard
The PX4 provides some measures to account for the nonlinear behavior of
 the motor in practice.
 For example if we noticed oscillations when we go towards full-throttle,
 we can solve this problem using 2 approaches:
\end_layout

\begin_layout Enumerate
Thrust Curve method : 
\begin_inset Formula $thrust=(1-factor)PWM+(factor)\,PWM^{2}$
\end_inset


\begin_inset Newline newline
\end_inset

the 
\begin_inset Formula $factor$
\end_inset

 is stored in 
\begin_inset Quotes eld
\end_inset

THR_MDL_FAC
\begin_inset Quotes erd
\end_inset

 parameter so we can change it to model our motors characteristics.
\end_layout

\begin_layout Enumerate
PID attenuation method : after some value of the throttle (for example:
 70%) called 
\begin_inset Quotes eld
\end_inset

break-point
\begin_inset Quotes erd
\end_inset

, we can attenuate the gains to decrease the control effort according to
 a parameter called 
\begin_inset Quotes eld
\end_inset

rate
\begin_inset Quotes erd
\end_inset

.
 The break-point value is configured using 
\begin_inset Quotes eld
\end_inset

MC_TPA_BREAK_*
\begin_inset Quotes erd
\end_inset

 parameters , and the rate is configured using 
\begin_inset Quotes eld
\end_inset

MC_TPA_RATE_* 
\begin_inset Quotes erd
\end_inset

 parameters.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename pics/pasted92.png
	width 50col%

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/attitude controller.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Attitude&rate controller
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Estimator
\end_layout

\begin_layout Standard
In PX4 flightstack, there is 4 types of estimators are defined so we can
 choose the one that suits our application.
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="22col%">
<column alignment="center" valignment="top" width="22col%">
<column alignment="center" valignment="top" width="22col%">
<column alignment="center" valignment="top" width="22col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Estimator
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q attitude estimator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
INAV position estimator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LPE position estimator
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKF2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's a quaternion based 
\series bold
complementary filter
\series default
 for 
\series bold
attitude.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's a 
\series bold
complementary filter
\series default
 for estimating 
\series bold
3D position and velocities.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's an 
\series bold
EKF(Extended Kalman filter)
\series default
 for estimating 
\series bold
3D position and velocities.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
It's as an 
\series bold
EKF(Extended Kalman filter)
\series default
 for estimating 
\series bold
3D postion , velocities , wind states and attitude.
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
We can choose the required estimator using SYS_MC_EST_GROUP parameter which
 has 3 possible values to choose the estimator as follows:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SYS_MC_EST_GROUP
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q estimator (Complementary filter for attitude)
\begin_inset Newline newline
\end_inset

INAV (Complementary filter for position)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Q estimator (Complementary filter for attitude)
\begin_inset Newline newline
\end_inset

LPE (EKF for position)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
EKF2 (all multicopter states and wind)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
We used the 
\series bold
EKF2
\series default
 .
\end_layout

\begin_layout Subsubsection
Output drivers
\end_layout

\begin_layout Standard
They are responsible for the interfacing including the driver responsible
 for communicating with the motors ESCs to set the required PWM.
 They are incude also a program called 
\begin_inset Quotes eld
\end_inset

Mixer
\begin_inset Quotes erd
\end_inset

 the required forces and moments goes to the mixer which separates the airframe
 configuraion from the controller.
 This generalizes the controller to various configurations
\begin_inset Quotes erd
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

There is also a very important software called 
\begin_inset Quotes eld
\end_inset


\series bold
Logger
\series default

\begin_inset Quotes erd
\end_inset

, it's implemented in the Middleware.
 It's very important to log data for tuning and performance analysis.
 The logger is automatically started when arming the vehicle and stopped
 when disarming it and a new log file is generated.
 There is 2 ways to have the logged data :
\end_layout

\begin_layout Enumerate
The most efficient way for large data size is using SD card on the PIXHAWK
 where the data is logged.
\end_layout

\begin_layout Enumerate
The Log Streaming way, which sends the same logging data via MAVLink.
 The requirement is that the link(for example WiFi) provides at least 50
 KB/s and only one client can request log streaming at the same time.
 The connection doesn't necessarily need to be reliable because the protocol
 can handle drops.
\end_layout

\begin_layout Standard
Both methods can be used independently or can be used at the same time.
 After getting the log file using any way we need to convert the generated
 
\begin_inset Quotes eld
\end_inset

.ulg
\begin_inset Quotes erd
\end_inset

 file to another more useful data structure like 
\begin_inset Quotes eld
\end_inset

.csv
\begin_inset Quotes erd
\end_inset

 to open using excel or matlab, there is a lot of tools can handle the log
 file , analyze the data and generate graphs automatically offline like
 
\begin_inset Quotes eld
\end_inset

PyFlightAnalysis
\begin_inset Quotes erd
\end_inset

 or online like 
\begin_inset Quotes eld
\end_inset

Flight Review
\begin_inset Quotes erd
\end_inset

.
 We used a python tool to only convert the log file to excel files called
 
\begin_inset Quotes eld
\end_inset

pylog
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Subsection
Gains Comparison
\end_layout

\begin_layout Section
Quad-plane phase cruise controller
\end_layout

\begin_layout Standard
Our flying taxi doesn't have control surfaces as conventional quad-plane
 but uses the quad-copter motors to achieve stability requirements.
 This configuration comes from the wing span constraint as flying taxi can't
 have the wing span that should lift off the quad-copter motors as payload
 so we made use of them to help in lifting and stabilize the flying taxi
 during the quad-plane phase.
 The lift from the wings is used to increase the endurance and range by
 decreasing the thrust and power consumption of the quad-copter motors.
 
\end_layout

\begin_layout Standard
During the quad-plane phase the quad-copter controller is still on to stabilize
 the attitude and altitude of the flying taxi which means that 
\begin_inset Formula $\theta=0,\Delta Z=0$
\end_inset


\end_layout

\begin_layout Standard
To design the pusher controller which is used to achieve constant cruise
 speed, we can ignore the dynamics in the lateral directions as the flying
 taxi during this phase will conserve constant heading angle towards the
 goal beside the guidance controller will eliminate any cross-track error
 using roll angle.
 The pitch angle is zero and the altitude is held constant by the quad-copter
 controller.
 To design the cruise controller from equ.(
\begin_inset CommandInset ref
LatexCommand ref
reference "u_rate"
plural "false"
caps "false"
noprefix "false"

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset Formula $\mathring{\Delta u}=-g\theta+\frac{\Delta X_{pusher}}{m}+\frac{X_{u}^{aero}}{m}\Delta u+\frac{X_{w}^{aero}}{m}\Delta w$
\end_inset


\end_layout

\begin_layout Standard
based on the previous assumption of stabilized attitude and altitude this
 equation is reduces to:
\end_layout

\begin_layout Standard
\begin_inset Formula $\boldsymbol{\mathring{\Delta u}=\frac{\Delta X_{pusher}}{m}+\frac{X_{u}^{aero}}{m}\Delta u\,\,\Rightarrow\,\,}\frac{\Delta u}{\Delta X_{pusher}}=\frac{1}{m(s-\frac{X_{u}}{m})}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula $X_{u}^{aero}=-0.17669$
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename cruise_controller_BD.png
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Cruise controller Block diagram
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

The figure below shows the 
\begin_inset Formula $\Delta u$
\end_inset

 step response and the required 
\begin_inset Formula $\Delta X_{pusher}$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/cruise_control.bmp
	width 80col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Cruise Controller
\end_layout

\end_inset


\end_layout

\end_inset

This figure shows the impulse response and the required control action:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/U_impulse.bmp
	lyxscale 80
	width 90page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
impulse response
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Vision navigation and Obstacle Avoidance
\end_layout

\begin_layout Standard
Unlike rovers or cars air vehicles don't have the option to use wheel encoders
 to determine its pose (state estimation) since they rely on GPS, IMU and
 vision to estimate their state, they subject to significant uncertainties.
 GPS accuracy is about 4 m but It's useful for long-term global position
 determination also GPS is with limited use indoor or closed places generally
 where there is a bad connection with satellites.
 The embedded estimator in the PIXHAWK which uses gyro and accelerometer
 to determine local position but the problem of using these inertial sensors
 is the dead-reckoning which drifts over time due to error accumulation.
 Although the reference gravity vector of the accelerometer is fused with
 the attitude from the gyros, long-term correction is still needed especially
 for high acceleration cases which causes deviation of the gravity vector.
 Usually GPS is used but it's insufficient due to its low accuracy and operating
 conditions.
 Here comes the need for visual odometry which is state estimation from
 visual data.
 Visual odometry is more accurate than GPS in state estimation and even
 in some cases from the inertial data when there is a suitable operating
 conditions and relatively low speed.
 For times of high speed or bad textured surrounding, the Iinertial data
 can aid the visual odometry.
 So GPS, IMU and Visual odometry can be used together for better state estimatio
n.
 In our case, the ZED Stereo camera is used to get Point Cloud data
\begin_inset Foot
status open

\begin_layout Plain Layout
Point cloud is a set of data points in space
\end_layout

\end_inset

 from which we can get visual odometry as well as information about obstacles.
 Obstacles information is used by the obstacle avoidance algorithm which
 evaluates the path planning and generates the reference trajectory.
 The visual odometry is fused with the PX4 position and/or attitude estimations
 to get a better state estimates.
\end_layout

\begin_layout Section
Stereo Vision
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="30page%">
<column alignment="center" valignment="top" width="27page%">
<column alignment="center" valignment="top" width="20page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Stereo Camera
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Depth Cameras
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Laser Scanner
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
\noindent
\align left
2 cameras are rigidily mounted to a common mechanical structure.
\end_layout

\begin_layout Itemize
\noindent
\align left
Its performance depends on : mechanical design , resolution , lens type
 & quality ,....
\end_layout

\begin_layout Itemize
\noindent
\align left
It can only estimate the distances to features like: sharp , high contrast
 corners (because they have high gradient in x,y directions).
 so It can't get distance to featureless wall but practically outdoor scenes
 have sufficient textures for stereo vision to work well.
\end_layout

\begin_layout Itemize
\noindent
\align left
ROS message: sensor_msgs/Image and sensor_msgs/CameraInfo
\end_layout

\begin_layout Itemize
\noindent
\align left
Image processing packages can be used to handle the outputs of the cameras
 to achieve the stereo vision
\end_layout

\begin_layout Plain Layout
\noindent
\align left
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100line%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/pasted16.png
	lyxscale 15
	width 6.5cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/pasted17.png
	width 6.5cm

\end_inset


\end_layout

\begin_layout Plain Layout
ZED stereo Camera : from 0.5 to 20m at 100FPS, indoors and outdoors.
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
\noindent
\align left
Unlike the passive stereo camera, they are active cameras that shine a texture
 pattern on the surfaces and from the deformation of the pattern thay can
 get the informations of the scene.
\end_layout

\begin_layout Itemize
\noindent
\align left
They greatly improves the system performance.
\end_layout

\begin_layout Itemize
\noindent
\align left
typically operate near-infrared wavelength to reduce system sensitivity
 to the colors of the objects.
\end_layout

\begin_layout Itemize
\noindent
\align left
There are 3 types of depth cameras: Kinect(structured light) - unstructured
 light depth cameras which employ a random texture - time-of-flight depth
 cameras which use an IR or laser pulses and special pixel structures in
 image sensors to estimate the depth from the time of laser bounding back
 and the speed of light.
\end_layout

\begin_layout Itemize
\noindent
\align left
the output of those cameras is point clouds which are estimated 3D points
 of the scene
\end_layout

\begin_layout Itemize
\noindent
\align left
ROS message: sensor_msgs/PointCloud2
\end_layout

\begin_layout Plain Layout
\noindent
\align left
\begin_inset Graphics
	filename pics/pasted18.png
	width 4.5cm

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
\noindent
\align left
superior accuracy (about 14 mm error)
\end_layout

\begin_layout Itemize
\noindent
\align left
longer sensing range than cameras (0.2 - 6 m)
\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/pasted19.png
	lyxscale 20
	width 4.5cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/pasted20.png
	lyxscale 20
	width 5cm

\end_inset


\end_layout

\begin_layout Itemize
ROS message: 
\begin_inset Newline newline
\end_inset

sensor_msgs/LaserScan
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
different sensors for vision
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
discussion
\end_layout

\begin_layout Standard
Pose(position and orientation) estimation problem can be solved using :
\end_layout

\begin_layout Itemize
integration of IMU readings which degrads over time due to error integration
\end_layout

\begin_deeper
\begin_layout Itemize
Visual Odometry (more accurate for pose estimation).
\begin_inset Newline newline
\end_inset

In visual Odometry arises the scaling factor problem because we don't sense
 distance in real world and some possible solutions are:
\end_layout

\begin_deeper
\begin_layout Enumerate
Known environment operation: for example, we can put a land mark with known
 size so when capture images we can extract scale factor and get distances
 from pixels.(off-board example
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_off-board"
literal "false"

\end_inset

, on-board example
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_on-board"
literal "false"

\end_inset

)
\end_layout

\begin_layout Enumerate
We can use 1 camera + Ultrasound(which measures distances) 
\begin_inset CommandInset citation
LatexCommand cite
key "monocular visin_ultrasound_SLAM"
literal "false"

\end_inset


\end_layout

\begin_layout Enumerate
We can use 1 camera + accelerometer + pressure sensor 
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_accel&pressure_SLAM_onboard"
literal "false"

\end_inset


\end_layout

\begin_layout Enumerate
We can use 1 camera + IMU 
\begin_inset CommandInset citation
LatexCommand cite
key "monocular vision_IMU"
literal "false"

\end_inset


\end_layout

\begin_layout Enumerate
We can use 2 cameras (Stereo vision) which eliminate the scaling factor
 problem but increases the computational cost
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
Cameras are less energy consumer and lighter than 3D-localization sensors
 such as LIDARs
\end_layout

\begin_layout Itemize
There are 2 types of stereo processing algorithms:
\end_layout

\begin_deeper
\begin_layout Itemize
Dense stereo algorithm: high computational cost.
 In Ref
\begin_inset CommandInset citation
LatexCommand cite
key "dense stereo algoritm"
literal "false"

\end_inset

, they used 2 downward cameras and did the dense stereo processing on-board
 at frame rate of just 3Hz then they fused the visual odometry with laser
 scanner data.
\end_layout

\begin_layout Itemize
Sparse stereo matching algorithm: faster - can maintain a high pose estimation
 rate of 30 Hz
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
ZED stereo camera vs Kinect:
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="14" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="10page%">
<column alignment="center" valignment="top" width="15page%">
<column alignment="center" valignment="top" width="15page%">
<column alignment="center" valignment="top" width="15page%">
<column alignment="center" valignment="top" width="15page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED mini
\end_layout

\begin_layout Plain Layout
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
https://www.stereolabs.com/zed-mini/
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZED stereo
\begin_inset Foot
status open

\begin_layout Plain Layout
https://www.stereolabs.com/zed/
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kinect
\begin_inset Foot
status open

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/Kinect
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
62.9 gm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
159 gm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
425.2 gm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Weight is very important in aerospace applications
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
operating condition
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
indoor & outdoor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
indoor & outdoor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
indoor (due to the usage of IR)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Flaying Taxi is mainly outdoor application
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Range
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
15 cm - 12 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
30 cm - 20m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.2 m - 3.5 m
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Features
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Motion Sensors : Gyroscope, Accelerometer with Sampling Rate: 800 Hz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
RGB camera (640×480 pixels @ 30 Hz)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The ZED stereo does its calculations on a host 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6-axis Pose Accuracy : 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

Position: +/- 1mm 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

 Orientation: 0.1°
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
same as mini
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IR depth sensor (640×480 pixels @ 30 Hz)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hardware running SDK system which has the following 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Technology : Visual-inertial stereo SLAM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Technology : Real-time depth-based visual odometry and SLAM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
multi-array microphone running proprietary software
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
requirements :
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pose Update Rate : Up to 100Hz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Frequency : Up to 100Hz
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
full-body 3D motion capture, facial recognition and voice recognition capabiliti
es
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dual-core 2,3GHz or faster processor / 4 GB RAM or more
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nvidia GPU with compute capability > 3.0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Note that ZED requires significant computation cost to apply
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
the dense stereo matching at reasonable rate by using the GPU fucntions
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
in OpenCV to accomplish this.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Connectivity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 3.0 Type-C port
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 3.0 port with 1.5m integrated cable
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 2.0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Power
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Power via USB 5V / 380mA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Power via USB 5V / 380mA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USB 12V, 1.08A (needs high power for the motors)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kinect has a higher power consumption
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ZED stereo camera vs Kinect
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Using 4 cameras + IMU for self-localization
\begin_inset CommandInset citation
LatexCommand cite
key "Stereo Vision"
literal "false"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/pasted21.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Ref
\begin_inset CommandInset citation
LatexCommand cite
key "Stereo Vision"
literal "false"

\end_inset

 MAV uses 4 cameras to get pose estimate real-time on-board
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Paper in Ref
\begin_inset CommandInset citation
LatexCommand cite
key "Stereo Vision"
literal "false"

\end_inset

 introduces novel design for an autonomous quadrotor by employing four cameras
 in two stereo configurations with on-board real-time processing:
\end_layout

\begin_layout Itemize
2 forward cameras used with reduced(modified) SLAM based on PTAM
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Parallel Tracking And Mapping (PTAM), which is a popular open source SLAM
 implementation known for its robustness and efficiency.
\end_layout

\end_inset

 and it estimates the pose of the MAV
\end_layout

\begin_layout Itemize
2 downward cameras used with ground-plane detection algorithm(to estimate
 the height , pitch and roll) and frame-to-frame tracking algorithm(to estimate
 the yaw and horizontal displacement)
\end_layout

\begin_layout Itemize
finally, they fused the data from the 2 stereo configurations and outputted
 an estimate for the MAV pose used to control the position and attitude
 of the MAV instead of IMU only unlike PIXHAWK
\end_layout

\begin_layout Itemize
They used stereo matching algoritnm twice for both the foraward stereo and
 backward stereo on-board
\end_layout

\begin_layout Itemize
They showed that adding 2 downward cameras significantly improved the self-local
ization
\end_layout

\begin_layout Itemize

\bar under
The 2 forward facing cameras
\end_layout

\begin_deeper
\begin_layout Itemize
apply feature detection (800 feature upper bond) then do the sparse stereo
 matching
\end_layout

\begin_layout Itemize
SLAM employed to get pose from the successfully matched features
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/pasted22.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
2 forward-facing stereo configuration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Rotation is predicted using ESM(Efficient 2nd order Minimization based image
 alignment method).
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
The 2 downward facing cameras
\end_layout

\begin_deeper
\begin_layout Itemize
apply sparse stereo matching but with 300 feature at 15Hz because the algorithms
 used here are less sensitive to the features count and image rate than
 the above LocalSLAM
\end_layout

\begin_layout Itemize
RANSAC algorithm: to detect ground-plane & extract
\bar under
 Height(h)
\bar default
 , 
\bar under
Pitch angle
\bar default
 and 
\bar under
Roll angle
\bar default
 , unlike the height , pitch and roll extracted from the Local SLAM they
 here don't depend on the old values (In the LocalSLAM we use the old values
 in the motion model).
 So they resist drifting and give high accuracy
\end_layout

\begin_layout Itemize
frame-to-frame Tracking: They used the ESM algorithm to get the Affine transform
ation between 2 frames to get the 
\bar under
Yaw
\bar default
 and 
\bar under
Horizontal displacement
\end_layout

\begin_layout Itemize
To have a large field of view (FOV) , they used small focal length which
 causes strong lens distortion which disrupt the frame-to-frame tracking,
 so they did image rectification first.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/pasted23.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
final configuration
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Obstacle Avoidance
\end_layout

\begin_layout Standard
Important terminologies in autonomous robots:
\end_layout

\begin_layout Itemize

\bar under
Mapping
\bar default
 : modelling the environment.
\end_layout

\begin_layout Itemize

\bar under
Localization
\bar default
 : estimating the pose of the robot with respect to a given model of the
 environment.
\end_layout

\begin_layout Itemize

\bar under
SLAM (Simultaneous Localization and Mapping)
\bar default
 : doing both tasks at the same time
\end_layout

\begin_layout Itemize

\bar under
Motion Planning (Path planning) 
\bar default
: determining the desired motion that satisfies constraints and optimize
 some aspect of movement.
\end_layout

\begin_layout Itemize

\bar under
Navigation
\bar default
 : determination of the robot position(
\series bold
Localization
\series default
) and then planning a path towards some goal and avoiding obstacles(
\series bold
Motion planning
\series default
).
 
\series bold
Mapping
\series default
 also can be done if needed and used for both Localization and Motion planning.
\end_layout

\begin_layout Standard
Autonomous robot architecture can be abstracted into 3 main layers:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<column alignment="center" valignment="top" width="30col%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Strategic Level
\begin_inset Newline newline
\end_inset

(High-level planning)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Operational Level
\begin_inset Newline newline
\end_inset

(Low-level plannig)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tactical Level
\begin_inset Newline newline
\end_inset

(Execution level)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
generating the waypoint or reference trajectory that the vehicle should
 follow.
\begin_inset Newline newline
\end_inset

(Motion Planning)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
how to follow the required path by generating the required forces and moments.
\begin_inset Newline newline
\end_inset

(Guidance and Position&Attitude control)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
how to achieve the required forces and moments using a specific motors configura
tion.
\end_layout

\begin_layout Plain Layout
(Mixer and Output drivers)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
obstacle avoidance methods can be concluded as follows:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="50col%">
<column alignment="center" valignment="top" width="50col%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Global Obstacle avoidance
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Local Obstacle avoidance 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grassfire algorithm - Dijkstra's algorithm - A* search
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bug algorithms - Vector field histogram
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection
Local methods
\end_layout

\begin_layout Standard
It's called also 
\begin_inset Quotes eld
\end_inset

reactive
\begin_inset Quotes erd
\end_inset

 methods as they react to the sensor data at the current time step, unlike
 global methods they don't build a map of the environment so the generated
 path isn't optimal but they are memory efficient and fast enough to operate
 on-board.
\end_layout

\begin_layout Itemize

\series bold
\bar under
Bug Algorithms
\series default
\bar default

\begin_inset Newline newline
\end_inset

inspired by insects which follow the obstacle wall to bypass it.
 There is many variants of Bug algorithms.
 They differ in sensors and amount of the memory used.
\end_layout

\begin_deeper
\begin_layout Itemize

\bar under
Bug 0
\bar default
 
\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "65col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Itemize
follow obstacle boundary until goal is clear
\end_layout

\begin_layout Itemize
No memory used
\end_layout

\begin_layout Itemize
It's either right or left wall following
\end_layout

\begin_layout Itemize
Don't guarantee 
\series bold
Completeness
\begin_inset Foot
status open

\begin_layout Plain Layout
Assuming there is a path to the goal, Bug 0 don't guarantee finding it.
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename Bug0_completeness.png
	width 80col%

\end_inset


\end_layout

\end_inset


\begin_inset space \thinspace{}
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "b"
use_parbox 0
use_makebox 0
width "30col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename bug0.png
	width 100col%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
Bug 1
\bar default

\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "65col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Itemize
Fully circle the obstacle and stores the closest point to the goal.
\end_layout

\begin_layout Itemize
Leave at this point in the next circle
\end_layout

\begin_layout Itemize
inefficient but guarantee completeness
\end_layout

\end_inset


\begin_inset space \thinspace{}
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "b"
use_parbox 0
use_makebox 0
width "30col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename Bug1.png
	width 100col%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
Bug 2
\bar default

\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "65col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Itemize
wall follow the obstacle and leave when meets the goal line such that the
 second point on the goal line is closest to the goal than the first point
 at which we left the goal line and started to follow the wall.
\end_layout

\begin_layout Itemize
This method is complete.
\begin_inset Foot
status open

\begin_layout Plain Layout
If there is a path to the goal, it will find it.
 
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Faster than Bug.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Graphics
	filename Bug2_2.png
	width 70col%

\end_inset


\end_layout

\end_inset


\begin_inset space \thinspace{}
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "b"
use_parbox 0
use_makebox 0
width "30col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename Bug2.png
	width 100col%

\end_inset


\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\series bold
\bar under
Vector Field Histogram
\end_layout

\begin_deeper
\begin_layout Itemize

\bar under
VFH
\bar default

\begin_inset Newline newline
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "65col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
creates local occupancy grid (1D polar histogram) via recent readings to
 specify the probability of object existence at every angle in the front
 view of the vehicle.
\end_layout

\end_inset


\begin_inset space \thinspace{}
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "b"
use_parbox 0
use_makebox 0
width "30col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename VFH.png
	width 100col%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
VFH+
\bar default

\begin_inset Newline newline
\end_inset

includes kinematic constraints due to which the vehicle can't go in specific
 directions not only object existence constraint.
 Finally, the chosen path is evaluated using cost function which has 2 weighting
 parameters: the target direction
\begin_inset Foot
status open

\begin_layout Itemize
difference between the new direction and the goal direction
\end_layout

\end_inset

 and the previous direction 
\begin_inset Foot
status open

\begin_layout Plain Layout
difference between the previously selected direction and the new direction
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
VFH*
\bar default

\begin_inset Newline newline
\end_inset

enhance the global optimallity problem in VFH & VFH+ by using A* search
 algorithm to minimize the cost function and heuristic function used to
 guide the search in the goal direction.
 It has been shown that it can successfully deal with problematic situations
 that VFH & VFH+ can't handle.
\end_layout

\end_deeper
\begin_layout Subsection
Global methods
\end_layout

\begin_layout Standard
The vehicle has a map of the environment or builds it at run-time then computati
onal motion planning methods, it finds the optimal path to the goal which
 avoids any obstacles.
\end_layout

\begin_layout Itemize

\series bold
\bar under
Grassfire algorithm
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "45col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Grassfire.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Planning optimum path
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "45col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Grassfire_nosol.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
No possible path case
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Grassfire algorithm
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
It will find the shortest path between the start and goal if one exists.
\end_layout

\begin_layout Itemize
It will detect if there is no path.
\end_layout

\begin_layout Itemize
It's complete.
\end_layout

\begin_layout Itemize
computational effort increases linearly with the number of nodes O(n)
\end_layout

\begin_layout Itemize
Every node in the graph is visited which is a problem for lorge graph espicially
 3D graphs which is our case.
\end_layout

\begin_layout Itemize
Same approach can be extended to 3D to be applicable on drones by using
 cubes instead of squares.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
\bar under
Dijkstra's algorithm
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Dijkstra.PNG

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Dijkstra algorithm
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
It will find the shortest path between start and goal.
 It will detect if there is no one.
\end_layout

\begin_layout Itemize
Simple implementation has O(
\begin_inset Formula $n^{2}$
\end_inset

) but good one with optimized data structure known as 
\begin_inset Quotes eld
\end_inset

priority queue
\begin_inset Quotes erd
\end_inset

 complexity reduced to 
\begin_inset Newline newline
\end_inset


\begin_inset Formula $O[(e+n)log(n)]$
\end_inset

 where 
\begin_inset Formula $e$
\end_inset

 is the no.
 of edges , so it's slightly higher in complexity than grassfire.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
\bar under
A* search algorithm
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "45col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename A_alg..PNG
	width 40col%

\end_inset


\end_layout

\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "45col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename A_alg_compared to Dijk or Grossf.PNG
	width 40col%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
A* algorithm
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Better performance than Grassfire and Dijkstra by using a heuristic function
 that guides the path planner
\begin_inset Newline newline
\end_inset


\begin_inset Formula $Heuristic\,function\,:\,y=H(x)$
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

where x is the node and y is a number indicates the distance from that node
 to the goal.
\end_layout

\begin_layout Itemize
Unlike Grassfire and Dijkstra which search in all directions in the map
 evenly, this approach uses the information we have about the direction
 of the goal and try to use this information to decrease the computational
 effort by focusing the search in the nodes close to that direction not
 all the nodes which enhance performance.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Chapter
Implementation
\end_layout

\begin_layout Section
ROS
\end_layout

\begin_layout Subsection
What is ROS
\end_layout

\begin_layout Itemize
ROS is “Robot Operating System”
\end_layout

\begin_layout Itemize
An open source frame work for building robots
\end_layout

\begin_layout Itemize
provides tools and libraries for helping software developers to create robot
 applications.
 It provides hardware abstraction, device drivers, libraries, visualizers,
 message-passing, package management, ...
 .
 
\end_layout

\begin_layout Itemize
ROS is licensed under an open source, BSD license.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/ross.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS architecture
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
History of ROS
\end_layout

\begin_layout Itemize
originally developed in 2007 at the Stanford Artificial Intelligence Laboratory.
\end_layout

\begin_layout Itemize
Since 2013 managed by OSRF
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Open Source Robotics Foundation
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Today used by many commercial robots, universities and companies.
\end_layout

\begin_layout Itemize
It became a standard for robot programming
\end_layout

\begin_layout Subsubsection
ROS Philosophy
\end_layout

\begin_layout Description
Peer-to-Peer-communication: individual programs communicate over defined
 API
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Application programming interface : it is a set of methods of communication
 among various components
\end_layout

\end_inset

,(ROS messages–Services- Action)
\begin_inset Newline newline
\end_inset


\series bold
Merit:
\series default
 everyone can work in separate part from the big project easily also there
 will be clear structure of the interactions between different subsystems
 in our UAV.
\end_layout

\begin_layout Description
Distributed can be run on multiple computers and communicate over the network.
 
\begin_inset Newline newline
\end_inset


\series bold
Merit:
\series default
 It is very useful in SLAM projects
\end_layout

\begin_layout Description
Multi-lingual we can use Python , C++ , and even LabVIEW and Arduino C ...
 .
\end_layout

\begin_layout Description
Light-weight standalone libraries are wrapped around with a thin ROS layer.
 
\begin_inset Newline newline
\end_inset


\series bold
Merit:
\series default
 It is very important in SLAM because we will distribute the jobs between
 multi-computers so every HW will have only the SW it needs.
\end_layout

\begin_layout Description
Free
\begin_inset space ~
\end_inset

&
\begin_inset space ~
\end_inset

Open
\begin_inset space ~
\end_inset

source most ROS software is open source & free to use.
\end_layout

\begin_layout Description
Eco-system Large supporting community , tutorials and powerful documentation
 (WikiROS).
 It is used by most if not all the robotics community so It will be good
 if we can contribute with our project in this community.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted2.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Why ROS?
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
\bar under
NOTE
\end_layout

\begin_layout Standard
Despite the proved power of using LabVIEW&MyRIO in building Autopilots ,
 in all LabVIEW community there are only 2 topics (in the time this project
 is started) which talking about using LabVIEW + LabVIEW Robotics Environment
 Simulator in implementing simple SLAM (EKF based) and Obstacle avoidance
 on an 2D differential-drive robot.
 So it is very useful to integrate ROS with LabVIEW&MyRIO or replacing them
 with ready-made (C++ or Python) packages if possible
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
If that will achieve the real-time requirements which is a must in Aeronutical
 applications
\end_layout

\end_inset

to reduce the cost (MyRIO is expenssive).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted3.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS graph of Stanford’s STAIR robot nodes.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Pros and Cons of ROS
\end_layout

\begin_layout Subsubsection

\series bold
Advantages:
\end_layout

\begin_layout Enumerate
It's a common software platform for those who are building and using robots
 
\end_layout

\begin_layout Enumerate
Makes people share code and ideas more readily so we do not have to spend
 much time writing software infrastructure before robot starts moving! 
\end_layout

\begin_layout Enumerate
ROS has been remarkably successful in 2015 there were: over 2,000 software
 packages, 80 commercial robots are supported and at least 1850 academic
 papers that mention ROS.
 
\end_layout

\begin_layout Enumerate
We no longer have to write everything from scratch so we can concentrate
 on the part we are working on control,state-estimation,planning,...
 .
\end_layout

\begin_layout Enumerate
We no longer need to write device drivers as a set of drivers that let you
 read data from sensors and send commands to motors and other actuators
 written already for many hardwares
\end_layout

\begin_layout Enumerate
A large collection of fundamental robotics algorithms that allow you to
 build maps , navigate, represent and interpret sensor data, plan motions,manipu
late objects, ...
 .
 
\end_layout

\begin_layout Enumerate
All of the computational infrastructure that allows you to move data around,
 to connect the various components of a complex robot system, and to incorporate
 your own algorithms.
 ROS allows you to split the workload across multiple computers.
\end_layout

\begin_layout Enumerate
ROS is an ecosystem includes an extensive set of resources, such as a wiki
 , a question-and-answer site.
\end_layout

\begin_layout Subsubsection

\series bold
Disadvantages:
\end_layout

\begin_layout Standard
There’s a fair amount of complexity in ROS such as : distributed computation,
 multi-threading , event-driven programming, and other concepts lie at the
 heart of the system.
 If you’re not already familiar with at least some of these, ROS can have
 a hard learning curve
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
but can be flattened out a bit by introducing the basics of ROS and having
 some practical examples of how to use it for real applications on real
 (and simulated) robots which is already exist in many books and online
 courses.
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Example
\end_layout

\begin_layout Standard
This is an example of a ROS-based project of a 4-wheel autonomous robot
 with obstacle avoidance and SLAM algorithms.
 
\end_layout

\begin_layout Itemize
a PC operating ROS is used as a ground control station to communicate with
 the robot
\end_layout

\begin_layout Itemize
an android device operating ROS control application is used as a joystick.
\end_layout

\begin_layout Itemize
a mini-onboard PC operating ROS is used to receive all controls (Waypoints,...)
 and to process SLAM algorithm and obstacle avoidance.
\end_layout

\begin_layout Itemize
STM32 board running free-RTOS is used as a low-level controller (deals with
 the motors) also it's used as an interface for gathering data from sensors(Hall
 effect sensor, IMU sensor and RPLIDAR) to send these data to the mini-onboard
 PC to be processed.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted4.png
	scale 35

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename pics/pasted5.png
	scale 35

\end_inset


\begin_inset VSpace bigskip*
\end_inset


\begin_inset Graphics
	filename pics/pasted6.png
	scale 35

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename pics/pasted7.png
	scale 35

\end_inset


\begin_inset VSpace bigskip*
\end_inset


\begin_inset Graphics
	filename pics/pasted8.png
	scale 35

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS example
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Summary of some important features in ROS
\end_layout

\begin_layout Itemize

\series bold
\bar under
Catkin
\end_layout

\begin_layout Enumerate
Catkin is a collection of CMake macros and associated code 
\series bold
used to build packages
\series default
 used in ROS.
\end_layout

\begin_layout Enumerate
It was initially introduced as part of the ROS Fuerte release where it was
 used for a small set of base packages.
 
\begin_inset Newline newline
\end_inset

For Groovy and Hydro it was significantly modified, and used by many more
 packages.
 All released Hydro packages were built using catkin, although existing
 rosbuild packages can still be built from source on top of the catkin packages.
\begin_inset Newline newline
\end_inset

Indigo is very similar, except for some deprecated features that were removed.
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
Catkin Workspace
\end_layout

\begin_layout Enumerate
catkin packages can be built as a standalone project, in the same way that
 normal cmake projects can be built, but catkin also provides the concept
 of workspaces, 
\series bold
where you can build multiple, interdependent packages together all at once
\series default
.
\end_layout

\begin_layout Enumerate
A catkin workspace
\series bold
 is a folder where you modify, build, and install catkin packages.

\series default
 The following is the recommended and typical catkin workspace layout:
\end_layout

\begin_layout Standard
\begin_inset Box Boxed
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted50.png
	scale 85

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\bar under
Source Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
The source space contains the source code of catkin packages.
 This is where you can extract , checkout , or clone source code for the
 packages you want to build.
 Each folder within the source space contains one or more catkin packages.
 This space should remain unchanged by configuring, building, or installing.
\end_layout

\begin_layout Itemize

\bar under
Build Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
The build space is where CMake is invoked to build the catkin packages in
 the source space.
 CMake and catkin keep their cache information and other intermediate files
 here.
 The build space does not have to be contained within the workspace nor
 does it have to be outside of the source space, but this is recommended.
\end_layout

\begin_layout Itemize

\bar under
Development (Devel) Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
The development space (or devel space) is where built targets are placed
 prior to being installed.
 The way targets are organized in the devel space is the same as their layout
 when they are installed.
 This provides a useful testing and development environment which does not
 require invoking the installation step.
 
\end_layout

\begin_layout Itemize

\bar under
Install Space (Folder)
\begin_inset Newline newline
\end_inset


\bar default
Once targets are built, they can be installed into the install space by
 invoking the install target, usually with make install.
 The install space does not have to be contained within the workspace.
 Since the install space is set by the CMAKE_INSTALL_PREFIX, it defaults
 to /usr/local, which you should not use (because uninstall is near-impossible,
 and using multiple ROS distributions does not work either).
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize
default workspace is loaded with:
\end_layout

\begin_layout Standard
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>source /opy/ros/indigo
\begin_inset Foot
status open

\begin_layout Plain Layout
replace with your ROS distribution
\end_layout

\end_inset

/setup.bash
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
usually this instruction is written in the ~/.bashrc to launch automatically
 when you open a terminal
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

overlay your catkin workspace with :
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>cd ~/catkin_ws
\end_layout

\begin_layout Plain Layout
>source devel/setup.bash
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Or another approach if you are using only one workspace in your /opt/ros/indigo/
setup.bash write :
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>source ~/catkin_ws/devel/setup.bash
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

check your catkin workspace with by:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>echo $ROS_PACKAGE_PATH
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Or by writing
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>roscd
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

you should get to directory: ~/catkin_ws/ not /opt/ros/indigo/
\end_layout

\begin_layout Itemize
A catkin workspace can contain up to four different spaces which each serve
 a different role in the software development process.
\end_layout

\begin_layout Itemize
To clean the build and devel folders without touching src folder so you
 can build the src again use:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>catkin clean
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS master
\end_layout

\begin_layout Itemize
manages the communication between nodes
\end_layout

\begin_layout Itemize
Every node registers at startup with the master
\end_layout

\begin_layout Itemize
start a master with:
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>roscore
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

starts multiple elements including rosmaster
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS nodes
\end_layout

\begin_layout Itemize
single-purpuse executable program
\end_layout

\begin_layout Itemize
individually compiled, executed and manged
\end_layout

\begin_layout Itemize
organized in packages
\end_layout

\begin_layout Itemize
Run a node:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosrun package_name node_name
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

See active nodes:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosnode list
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Retrieve info about a node:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosnode info node_name
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
ROS can launch identical nodes into separate namespaces for example if we
 have a node that generate PWM to one motor called 
\begin_inset Quotes eld
\end_inset

motor_node
\begin_inset Quotes erd
\end_inset

 , we can run it as /left_motor/motor_node and /right_motor/motor_node and
 when running the motor_node we can pass to it the pin number of the motor
 depending on the namespace it will be run in.
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS topics
\end_layout

\begin_layout Itemize
Typically, there is a node which is a publisher (talks or send msgs) and
 another one which is a subscriber (listens or recieves msgs).
 They can communicate with each others using Topics which act as a channel
 to pass data from publishers to subscribers.
\end_layout

\begin_layout Itemize
It is very normal to have multiple subscribers on the same topic but we
 should avoid multiple publishers to avid race conditions
\end_layout

\begin_layout Itemize
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rostopic list
\end_layout

\begin_layout Plain Layout
>rostopic echo /topic
\end_layout

\begin_layout Plain Layout
>rostopic info /topic
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

to publish in a topic manually(not from a real node):
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
rostopic pub /cmd_vel geometry_msgs/Twist 
\begin_inset Quotes eld
\end_inset

Linear: x:0.0 y:0.0 z:0.0 
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

angular: x:0.0 y:0.0 z:0.0
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

/cmd_vel is a topic used usually to control angular an linear velocities
 in 3D .
 It holds a msg called 
\begin_inset Quotes eld
\end_inset

Twist
\begin_inset Quotes erd
\end_inset

 which defined in a package called 
\begin_inset Quotes eld
\end_inset

geometry_msgs
\begin_inset Quotes erd
\end_inset

 and this msg contains Linear and Angular velocities in x,y,and z deirections
\end_layout

\begin_layout Itemize
remapping is a very useful feature ROS can do on topics.
 For example if I have a node called 
\begin_inset Quotes eld
\end_inset

image_view
\begin_inset Quotes erd
\end_inset

 reads from a topic called 
\begin_inset Quotes eld
\end_inset

image
\begin_inset Quotes erd
\end_inset

 which published in by the 
\begin_inset Quotes eld
\end_inset

camera
\begin_inset Quotes erd
\end_inset

 node but we have two cameras (left and right) so we can remap the topic
 to be exist in a two separate name spaces each hold different data for
 each camera but definitely the same msg so now we can have 
\begin_inset Quotes eld
\end_inset

/right/image
\begin_inset Quotes erd
\end_inset

 topic and 
\begin_inset Quotes eld
\end_inset

/left/image
\begin_inset Quotes erd
\end_inset

 topic and makes 
\begin_inset Quotes eld
\end_inset

image_view
\begin_inset Quotes erd
\end_inset

 node to read from both.
\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS messages
\end_layout

\begin_layout Itemize
Data structure defining the type of a topic.
\end_layout

\begin_layout Itemize
comromised of a nested structure of integers, floats, booleans, strings,
 arrays of objects, ...
\end_layout

\begin_layout Itemize
We can define one in *.msg files but It is preferred to use ready-made ROS
 messages to keep compatible with the commuinity besides there is a varity
 of messages that we may never need to define new one.
\end_layout

\begin_layout Itemize
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rostopic type /topic_name
\end_layout

\begin_layout Plain Layout
>rostopic pub /topic_name msg_type data
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted9.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS msgs
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS Launch
\end_layout

\begin_layout Itemize
launch is a tool for launching multiple nodes (as well as setting parameters)
 because it isn't practicle to use rosrun on every node.
\end_layout

\begin_layout Itemize
We can define launch file as *.launch in launch folder in our package.
\end_layout

\begin_layout Itemize
If the roscore isn't running, launch automatically starts a roscore
\end_layout

\begin_layout Itemize
\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
> roslaunch package_name launchfile.launch
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS Packages
\end_layout

\begin_layout Itemize
can be thought of as a collection of resources that are built and distributed
 together.
\end_layout

\begin_layout Itemize
Package folder tree:
\begin_inset Newline newline
\end_inset


\begin_inset Box Doublebox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
package_name
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

config
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> parameter files(YAML)
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

include/package_name 
\begin_inset space ~
\end_inset

==>c++ header files
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

launch
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> *.launch files
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

src
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> source files
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

test
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> ROS tests
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

CMakeLists.txt
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> CMake build file
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

package.xml
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> package information
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Usually package depends on other packages for example other package holds
 our custom msgs, services and actions :
\begin_inset Newline newline
\end_inset


\begin_inset Box Doublebox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
package_name_msgs
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

action
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> action definitions
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

msg
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> message definitions
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

srv
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

==> service definitions
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

CMakeLists.txt
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

package.xml
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

this separation of our custom msgs in a separate package from other packages
 is a good practice.
\end_layout

\begin_layout Itemize
for creating a package go to ~/catkin_ws/src and use this instruction in
 the terminal:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>catkin_create_pkg package_name <dependencies>{for example: package_name_msgs}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\bar under
package.xml
\bar default
 defines:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
package name
\end_layout

\begin_layout Itemize
version number
\end_layout

\begin_layout Itemize
authors
\end_layout

\begin_layout Itemize
dependencies on other packages
\end_layout

\end_deeper
\begin_layout Itemize

\bar under
CMakeLists.txt
\bar default
 It is the input to the CMake build system and defines:
\begin_inset Separator latexpar
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
required CMake version
\end_layout

\begin_layout Itemize
Package naem
\end_layout

\begin_layout Itemize
find other CMake or catkin packages needed for build: find_package()
\end_layout

\begin_layout Itemize
for adding msgs / actions / sevices: add_message_files() - add_action_files()
 - add_service_files()
\end_layout

\begin_layout Itemize
invoke msg / service / action generation: generate_messages()
\end_layout

\begin_layout Itemize
Libraries and Executables to build: add_library() - add_executable() - target_li
nk_libraries()
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS services
\end_layout

\begin_layout Itemize
Unlike topics which multiple nodes can read and write from and into the
 topic, service consists of server (to conduct the service) and a node (that
 receive the service).
\end_layout

\begin_layout Itemize
Unlike action (as we will see in 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:ROS-actions"

\end_inset

) the node will wait for the server to finish and then it will continue
 working.
\end_layout

\begin_layout Itemize
From this we can say that we can use services in tasks that executed instantaneo
usly and actions in tasks that takes much time to be executed like for a
 robot to go to a specific point.
 
\end_layout

\begin_layout Itemize
To call a service from a terminal:
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
>rosservice call /service_demo 
\begin_inset Quotes eld
\end_inset

{}
\begin_inset Quotes erd
\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Quotes eld
\end_inset

{}
\begin_inset Quotes erd
\end_inset

 is an Empty msg we can use if we want to only exicte the server without
 data needed to be send.
 This msg is defined in package called 
\begin_inset Quotes eld
\end_inset

std_msgs
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
\bar under
ROS actions
\end_layout

\begin_layout Itemize
Similar to service but the node doesn't need to stop until the action is
 finished
\end_layout

\begin_layout Itemize
Internally actions uses topics to communicate with the node that called
 the action server
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted10.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
ROS actions
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
status : 0(pending) - 1(active) - 2(done) - 3(warning) - 4(error)
\begin_inset Newline newline
\end_inset

we can get the status in node1.py :
\begin_inset Newline newline
\end_inset


\begin_inset Box Ovalbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
status = client.get_status()
\end_layout

\begin_layout Plain Layout
DONE = 2
\end_layout

\begin_layout Plain Layout
while state_result < DONE
\end_layout

\begin_layout Plain Layout
\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset


\begin_inset space ~
\end_inset

DO SOMETHING unlike server where we waited for server to finish
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/comparision.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
comparison between ROS parameters, Dynamic Reconfigure , Topics , Services
 , and Actions
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "80page%"
height "1pt"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Proof of Concept
\end_layout

\begin_layout Subsection
State Estimation (Rover)
\end_layout

\begin_layout Standard
We wanted to increase our experience in ROS so we decided to build a differentia
l drive robot using ROS.
 In addition the very useful feature of ROS is that we can use the Odometry
 message resulting from encoders (very simple sensors) to simulate the results
 of algorithms that handles the vision navigation (Visual odometry).
 Hence, this project deepens our understanding of ROS independently of the
 complexity of the sensors (Cameras and Lidars) and the controlled system(Multi-
rotor which is more critical in control than DD robots).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/ddrobot.PNG
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Differential Drive Robot (DD robot)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Objective
\end_layout

\begin_layout Enumerate
Control the DD robot linear velocity and angular velocity , which will be
 the required inputs to the DD robot from the high-level algorithms as shown
 in 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:differential-drive-model"
plural "false"
caps "false"
noprefix "false"

\end_inset

 , this control needs encoders and IMU as feedback in case of using Incremental
 encoders , encoders only in case of using quadrature encoders , or fusion
 of encoders and IMU.
 In our case ,We fused the data for the linear and angular velocities control
 loop using encoders and IMU.
\end_layout

\begin_layout Enumerate
Localize the DD robot by fusing the data from IMU and odometry from encoders
\end_layout

\begin_layout Itemize

\series bold
Modeling
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted12.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:differential-drive-model"

\end_inset

differential drive model
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Block Diagram
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted11.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
differential_drive package
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Hardware
\end_layout

\begin_layout Standard
MPU 6050 & Encoder
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/pasted14.png
	scale 40

\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset Graphics
	filename pics/pasted15.png
	scale 40

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Software
\end_layout

\begin_layout Standard
Control the DD robot linear velocity and angular velocity
\end_layout

\begin_layout Itemize
nodes
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="32" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top">
<column alignment="left" valignment="top" width="10page%">
<column alignment="center" valignment="top" width="25page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
package
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
node name
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
description
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
parameters
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
differential_drive
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
twist_to_motors
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
transforms the required linear velocity and angular velocity(Twist) of the
 DD robot torequired velocity of motors.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rate (float, default:10)
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ticks_meter (int, default:50)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_width (float, default:0.245)
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_frame_id (string, default:"base_link")
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~odom_frame_id (string, default:"odom")
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_min (int, default:-32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_max (int, default: 32768)
\series default
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_low_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_high_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pid_velocity
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The controller using feedbackfrom encoder and set pointfrom twist_to_motors
 andoutputs the PWM to the motor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~Kp (float, default:10
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~Ki (float, default:10)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~Kd (float, default:0.001)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~out_min (float, default: -255)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~out_max (float, default: 255)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rate (float, default: 20)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rolling_pts (float, default: 2)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~timeout_ticks (int, default: 2)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ticks_meter (float, default: 20)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_min (int, default:-32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_max (int, default: 32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_low_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_high_wrap
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
diff_tf
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
produces the axestransformations of the DDrobot due to the movementwhich
 detected by encoders,and publishes the odometry(the current pose and twist)
 of the robot.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~rate (float, default:10)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ticks_meter (int, default:50)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_width (float, default:0.245)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~base_frame_id (string, default:"base_link")
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
~odom_frame_id (string, default:"odom")
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_min (int, default:-32768)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
encoder_max 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_low_wrap 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
wheel_high_wrap
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
topics
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="4">
<features tabularvalignment="middle">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
msg
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Published by
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Subscribers
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
odom 
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nav_msgs/Odometry
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
diff_tf
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
any one
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tf
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tf/tfMessage
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
diff_tf
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/tf
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lwheel
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
std_msgs/Int16
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
left encoder
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pid_velocity and diff_tf
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rwheel
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
std_msgs/Int16
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
right encoder
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pid_velocity and diff_tf
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Localization
\end_layout

\begin_layout Standard
At first the encoder (odometry) only is used to estimate the state of the
 robot then we fused the IMU data and odometry data using Extended kalman
 filter (EKF) and compared the effect of both techniques on the position
 control performance of the differential-drive robot.
\end_layout

\begin_layout Standard

\series bold
\bar under
Encoders only
\end_layout

\begin_layout Itemize
nodes 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top" width="22page%">
<column alignment="center" valignment="top" width="20page%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
package
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
node name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
description
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
parameters
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
teleop_twist_keyboard
\begin_inset CommandInset citation
LatexCommand cite
key "teleop_twist_keyboard pkg"
literal "false"

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
teleop_twist_keyboard
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
publishes the required linear velocity and angular velocity 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
_speed
\series default
 is the required linear velocity
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
in the /cmd_vel topic
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
_turn
\series default
 is the required angular velocity
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
topics
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="3.5cm">
<column alignment="center" valignment="top" width="3.5cm">
<column alignment="center" valignment="top" width="3.5cm">
<column alignment="center" valignment="top" width="5cm">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
msg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Published by
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Subscribers
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
/cmd_vel remapped to /Twist
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nav_msgs/Odometry
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
teleop_twist_keyboard
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
differential_drive pkg/twist_to_motors node
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
to be identified by twist_to_motors node
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
The X , Y position and heading of the rover is estimated using the encoders
 only and this is the results:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename rover/localization_encoder.bmp
	width 95col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename rover/heading_encoder.bmp
	width 95col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Localization using encoders only
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Encoders drifts from ground truth especially at corners during acceleration
 or deceleration due to wheels slipping.
 This causes bad heading estimation.
\end_layout

\begin_layout Standard

\series bold
\bar under
Fusing encoders and IMU readings
\end_layout

\begin_layout Standard
Encoders and IMU readings are fused using EKF to enhance the Localization
 of the robot especially the heading estimates.
 The IMU problem is that it's noisy more than encoders but doesn't have
 the problem of drift due to slipping.
 This sensors fusion system still has drifting problem due to velocity integrati
on to get position but this problem appears for relatively long distances
 so it needs global position sensor like GPS for oudoor or Visual odometry
 for indoor.
 Our experiment is done based on only traveling along a square with 1m long
 so this problem doesn't appear and our estimates is fairly good.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename rover/Loca_IMU_encoder.bmp
	width 95col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename rover/localization_encoder2.bmp
	width 95col%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Fusing Encoder and IMU
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
Control (half quad)
\end_layout

\begin_layout Itemize

\series bold
Block diagram & Software
\end_layout

\begin_layout Standard
Purpose of this experiment is to validate ROS performance in aerospace applicati
ons and compare its performance with Ardupilot.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/oneD.PNG
	scale 40

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Configuration 1 (ROS pid)
\end_layout

\begin_layout Standard
using ready-made PID in ROS community with Low-pass filter on derivative
 term.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/one_D block diagram.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
1D Bi-rotor conf1 Block Diagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
\begin_inset External
	template PDFPages
	filename Book1.pdf
	width 100page%
	height 80pheight%

\end_inset


\end_layout

\end_inset


\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Configuration 2 (myPIDA)
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/one_D block diagram2.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
1D Bi-rotor conf2 Block Diagram
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Package
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Node
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Parameters
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
myPID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PID_node
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ts sampling time = 0.008 (default)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kp
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ki
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kd
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ka
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Results & Conclusions
\end_layout

\begin_layout Itemize
Sampling Time
\end_layout

\begin_layout Standard
configuration 2 has better control on sampling time than configuration 1
 because config1 depends on the frequency of the setpoint and the feedback
 , we build a similar code to ROSpid and the Ts was collected and plotted
 alongside with Ts achieved by myPID as shown
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/sampling time.png
	scale 40

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
To show the effect of not constant sampling time , we choose the gains as
 Kp = some value , Ki = Kd = Ka = 0 , so the control should be = Kp * error
 = - Kp * state
\begin_inset Newline newline
\end_inset

which is simply a scaled reflection of the state if the sampling time is
 constant and synchronous with the feedback.
\end_layout

\begin_layout Itemize
IMU Bias
\end_layout

\begin_layout Standard
We noticed that when motors are on , there is biasing in the IMU readings
\end_layout

\begin_layout Itemize
Gains tuning
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
px4 and Mavros
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/3d-robotics-pixhawk.jpg
	lyxscale 50
	scale 10

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pixhawk
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Introduction
\end_layout

\begin_layout Standard
The definition of Auto pilot in general that it is a system used to control
 the trajectory of an aircraft without constant ’hands-on’ control by a
 human operator being required.
 
\end_layout

\begin_layout Standard
Autopilots do not replace human operators but assist them in controlling
 the aircraft, allowing them to focus on broader aspects of operations such
 as monitoring the trajectory, weather and systems.
 
\end_layout

\begin_layout Itemize

\series bold
What's Pixhawk
\end_layout

\begin_layout Standard
Pixhawk is an independent open-hardware project that aims to provide the
 standard for readily-available, hiqh-quality and low-cost autopilot hardware
 designs for the academic, hobby and developer communities.
 
\end_layout

\begin_layout Itemize

\series bold
Other devices like Pixhawk
\end_layout

\begin_layout Standard
Arducopter : This is the full-featured, open-source multicopter UAV controller
 that won the Sparkfun 2013 and 2014 Autonomous Vehicle Competition (dominating
 with the top five spots).
 
\end_layout

\begin_layout Standard
A team of developers from around the globe are constantly improving and
 refining the performance and capabilities of ArduCopter.
\end_layout

\begin_layout Standard
Copter is capable of the full range of flight requirements from fast paced
 FPV racing to smooth aerial photography, and fully autonomous complex missions
 which can be programmed through a number of compatible software ground
 stations.
 The entire package is designed to be safe, feature rich, open-ended for
 custom applications, and is increasingly easy to use even for the novice.
\end_layout

\begin_layout Itemize

\series bold
Comparison between various autopilot devices
\end_layout

\begin_layout Standard
The APM flight controller uses an Atmega2560, uses an I2c bus and runs at
 16mhz, Pixhawk uses an Arm Cortex 32bit STM32 F4 running at 168mhz on a
 much faster SPI bus, has CAN bus, also faster and has a backup processor
 STM32 F1 chip that runs at 72 Mhz.
 All the original CC3D flight controllers use the STM32 F1 chip, the better
 ones use the STM32 F3 chip that adds a floating point coprocessor and more
 memory, newer ones use the STM32 F4 and the newest ones use STM32 F7 at
 216mhz.
 A faster processor computes better PID loop times and creates a more stable
 and responsive platform with increased capabilities.
 All these run their motion sensors on the faster SPI bus, they use the
 slower I2c bus for less critical things.
\end_layout

\begin_layout Itemize

\series bold
Why Pixhawk
\end_layout

\begin_layout Standard
We choose the Pixhawk over Arducopter for the following reasons
\end_layout

\begin_layout Itemize
It has much more capabilities and processing power .
\end_layout

\begin_layout Itemize
It can connect using two telemetry ports one for ground station and the
 other for manual control using a flight controller.
 
\end_layout

\begin_layout Itemize
It has faster response for actions which is good.
\end_layout

\begin_layout Itemize
It supports quad plane mode which is similar to our design.
 
\end_layout

\begin_layout Itemize
Available in Egypt.
 
\end_layout

\begin_layout Standard
So Pixhawk was a better choice for our project as we will be processing
 images and we will use SLAM so we need a lot of processing power for our
 mission .
 
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
User guides to Pixhawk
\end_layout

\begin_layout Subsubsection

\series bold
Step 1: Wiring and Connections
\end_layout

\begin_layout Standard
In order to get the Pixhawk running we will need the following components
 
\end_layout

\begin_layout Itemize
Power module
\end_layout

\begin_layout Itemize
Telemetry
\end_layout

\begin_layout Itemize
PPM
\end_layout

\begin_layout Itemize
Flight controller and receiver
\end_layout

\begin_layout Itemize
Power Distribution Board (PDB)
\end_layout

\begin_layout Itemize
Jumper wires
\end_layout

\begin_layout Itemize
Android USB cable
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Itemize

\series bold
power module:
\series default
The power module is used in order to power the Pixhawk from the battery
 or from any power supply and to power the ESCs through the PDB , and it
 is connected to the Pixhawk as shown
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/powermodule-analog-pixhawk.png
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
power module
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Telemetry
\bar under
: 
\series default
\bar default
The telemetry is divided into two parts , the first part is connected to
 the ground station to receive and send signals to the other part which
 is onboard to receive and send signals from and to the ground station .
\end_layout

\begin_layout Standard
It is connected to the Pixhawk as shown
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/59136ac77fe4ab58.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
telemetry connection
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Vcc-GND-Rx-Tx must be connected.
\end_layout

\begin_layout Itemize
RTS - CTS can be ignored.
\end_layout

\begin_layout Itemize
RX in Pixhawk is connected to Tx in receiver.
\end_layout

\begin_layout Itemize
TX in Pixhawk is connected to Rx in receiver.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\series bold
PPM: 
\series default
It is a module used to connect the channels of flight controller receiver
 to the Pixhawk ,as the Pixhawk has only one input for all channels so we
 used it to do this mission to connect he flight controller receiver to
 the Pixhawk.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/jDrones_PPM_Encoder_V21_Above_with_numbers_500px.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
PPM encoder
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Flight controller and receiver: 
\end_layout

\begin_layout Standard
The flight controller is used to control the vehicle manually by sending
 PWM signals to the receiver which sends the signals to the PPM then the
 PPM fuses them to one channel and sends them to the Pixhawk to perform
 the control action sent.
\end_layout

\begin_layout Standard
The used one in this project is the 8 channels DX8 RC.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/s-l300.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
DX8
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize

\series bold
Power Distribution Board (PDB): 
\end_layout

\begin_layout Standard
Is a board used to distribute the power that comes from the battery or power
 supply to the ESCs used.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/download.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
PDB
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Android USB cable: 
\end_layout

\begin_layout Standard
The cable will only be used during the Calibration of the gyros and ESCs.
\end_layout

\begin_layout Subsubsection

\series bold
Step 2: Connect to PC
\end_layout

\begin_layout Standard
First connect the Pixhawk only to the PC using the usb cable.
\end_layout

\begin_layout Subsubsection

\series bold
Step 3: Ground Station
\end_layout

\begin_layout Standard
Open Qgroundconrol app to connect the Pixhawk to the ground station.
\end_layout

\begin_layout Subsubsection

\series bold
Step 4: Firmware selection
\end_layout

\begin_layout Standard
After connecting the Pixhawk to the Qgroundcontrol we will need to install
 the PX4 firmware on the Pixhawk by selecting it from the setting menu,
 it will be downloaded and installed on the Pixhawk.
\end_layout

\begin_layout Itemize
note that before connecting the Pixhawk you need to remove any other power
 source to avoid spoiling the device.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/QGroundControl-OnagoFly-5.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Firmware loading
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Step 5: Frame Selection
\end_layout

\begin_layout Standard
Next we will select the frame type of the vehicle you are using.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/AQ-All-Frames.jpg
	height 8cm

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
frame types
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/modes/qav250_qgc_firmware.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Qground frames
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Take care of the direction of the propellers (clockwise & anti clockwise).
\end_layout

\begin_layout Subsubsection

\series bold
Step 6: Calibration
\end_layout

\begin_layout Standard
The next step is calibrating the gyros and compass of the Pixhawk just go
 from setting to calibration and follow the steps one by one and you will
 be done.
\end_layout

\begin_layout Standard
calibration can be done in two ways 
\end_layout

\begin_layout Itemize
The first way is doing it on the Pixhawk alone.(easier)
\end_layout

\begin_layout Itemize
the second way is doing it after manufacturing the vehicle.(recommended)
\end_layout

\begin_layout Standard
There are 4 types of calibration that should be done
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/23469_image2.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Calibration interface
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Compass calibration.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/20170515175356938.png
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
compass calibration
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Gyroscope calibration.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/gyroscope_calibrate_complete_px4.jpg

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
gyro calibration
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Accelerometer calibration.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/accelerometer_positions_px4.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Accelerometer calibration
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Level horizon calibration.
\end_layout

\begin_layout Subsubsection

\series bold
Step 7: Radio calibration
\end_layout

\begin_layout Standard
In this phase we will need to connect the flight controller to the Pixhawk
 using the receiver and PPM encoder as shown before.
\end_layout

\begin_layout Itemize
Select radio calibration from setting menu.
\end_layout

\begin_layout Itemize
Set all trimming to zero before start the calibration.
\end_layout

\begin_layout Itemize
start the calibration and follow the steps given by the Qgroundcontrol.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/radio_start_setup.jpg
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
radio calibration
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Step 8: Modes
\end_layout

\begin_layout Itemize
Select Flight modes from setting menu.
\end_layout

\begin_layout Itemize
Choose manual mode and set it to an AUX channel.
 
\end_layout

\begin_layout Itemize
Choose stabilize mode and set it to an AUX channel.
\end_layout

\begin_layout Standard
Many modes will be used like stabilized, altitude , position ,and acro mode.
\end_layout

\begin_layout Subsubsection
Step 9: Battery calibration
\end_layout

\begin_layout Itemize
Connect the vehicle to the battery.
\end_layout

\begin_layout Itemize
Select the number of cells of the battery used.
\end_layout

\begin_layout Itemize
Press calculate and write down the measured voltage of the battery you are
 using.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename pics/modes/qgc_esc_calibration.png
	scale 80

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
battery and Esc calibration
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Step 10: ESCs and motors
\end_layout

\begin_layout Standard
In this phase we will recommend that you follow the following steps exactly
 to avoid any damage to the Pixhawk.
\end_layout

\begin_layout Itemize
Remove any power source from the Pixhawk (USB till now).
\end_layout

\begin_layout Itemize
Connect the motors to the ESCs.
\end_layout

\begin_layout Itemize
Connect the ESCs to the PDB.
\end_layout

\begin_layout Itemize
Connect the PDB to the Power module (DO NOT CONNECT THE BATTERY OR POWER
 SUPPLY).
\end_layout

\begin_layout Itemize
Connect the signal pins of the ESCs to the Pixhawk output channels according
 to the order of the selected frame before.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/cae0384839ae0630258b3882725779b08ab5a024.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
pixhawk channels
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
From setting select Power.
\end_layout

\begin_layout Itemize
Start the calibration of the ESCs.
\end_layout

\begin_layout Itemize
You will be asked to connect the battery(power supply), note that this is
 the only case to connect two power sources together (USB,battery).
\end_layout

\begin_layout Itemize
The ESCs will make some sound and noise wait until its done(about 10-15
 sec).
\end_layout

\begin_layout Itemize
Disconnect the battery then remove the USB cable .
\end_layout

\begin_layout Itemize
Connect the USB cable again and we are done with ESCs calibration.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Subsubsection

\series bold
Step 11: Tuning
\end_layout

\begin_layout Itemize

\bar under
Throttle Tuning:
\bar default
The first thing to do before tuning is to set your vehicle to stablize mode
 .
\end_layout

\begin_layout Standard
Now we should set the hovering thrust of the vehicle in order to make it
 mapped on the thrust lever of the flight controller.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/px4_copter_basic.jpg
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
hover throttle tuning
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
In our case the Hover Throttle is set to 80% because the power supply is
 not strong enough to provide the ESCs with the power needed.
\end_layout

\begin_layout Standard
The Manual minimum throttle is set to 8%.
\end_layout

\begin_layout Itemize
The next step is going into the advanced PID tuning of the vehicle by clicking
 on 
\begin_inset Quotes eld
\end_inset

advanced
\begin_inset Quotes erd
\end_inset

.
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset


\bar under
PID Tuning: 
\bar default
Stabilize Roll/Pitch P controls the responsiveness of the copter’s roll
 and pitch to pilot input and errors between the desired and actual roll
 and pitch angles.
 The default of 4.5 will command a 4.5deg/sec rotation rate for each 1 degree
 of error in the angle.
 A higher gain such as 7 or 8 will allow you to have a more responsive copter
 and resist wind gusts more quickly.
\end_layout

\begin_deeper
\begin_layout Itemize
A low stabilize P will cause the copter to rotate very slowly and may cause
 the copter to feel unresponsive and could cause a crash if the wind disturbs
 it.
 Try lowering the RC_Feel parameter before lowering Stability P if smoother
 flight is desired.
\end_layout

\end_deeper
\begin_layout Itemize
Rate Roll/Pitch P, I and D terms control the output to the motors based
 on the desired rotation rate from the upper Stabilize (i.e.
 angular) controller.
 These terms are generally related to the power-to-weight ratio of the copter
 with more powerful copters requiring lower rate PID values.
 For example a copter with high thrust might have Rate Roll/Pitch P number
 of 0.08 while a lower thrust copter might use 0.18 or even higher.
\end_layout

\begin_deeper
\begin_layout Itemize
Rate Roll/Pitch P is the single most important value to tune correctly for
 your copter.
 
\end_layout

\begin_layout Itemize
The higher the P the higher the motor response to achieve the desired turn
 rate.
 
\end_layout

\begin_layout Itemize
Default is P = 0.15 for standard Copter.
 
\end_layout

\begin_layout Itemize
Rate Roll/Pitch I is used to compensate for outside forces that would make
 your copter not maintain the desired rate for a longer period of time 
\end_layout

\begin_layout Itemize
A high I term will ramp quickly to hold the desired rate, and will ramp
 down quickly to avoid overshoot.
 
\end_layout

\begin_layout Itemize
Rate Roll/Pitch D is used to dampen the response of the copter to accelerations
 toward the desired set point.
 
\end_layout

\begin_layout Itemize
A high D can cause very unusual vibrations and a “memory” effect where the
 controls feel like they are slow or unresponsive.
 A properly mounted controller should allow a Rate D value of .011.
 
\end_layout

\begin_layout Itemize
Values as low as 0.001 and as high as .02 have all been used depending upon
 the vehicle.
 
\end_layout

\end_deeper
\begin_layout Itemize
In our case after tuning and testing the final values set to the first quad
 copter prototype PID is as following for pitching and rolling and yawing.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/pitch.PNG
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pitch tuning
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/rolling.PNG
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
roll tuning
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/yaw2.PNG
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
yaw tuning
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Ground Station
\end_layout

\begin_layout Subsection
Introduction
\end_layout

\begin_layout Subsubsection
What's a Ground Station
\end_layout

\begin_layout Standard
Ground Station is a fully managed service that lets you control the air
 vehicle communications, process data, and scale your operations without
 having to worry about building or managing your own ground station infrastructu
re.
 Drones are used for a wide variety of use cases, including surface imaging,
 communications, and video broadcasts.
 Ground stations form the core of communication between drone and user.
 These facilities provide communications between the ground and the vehicle
 in the air.
 Today, you must either build your own ground stations, or obtain long-term
 contracts with ground station providers.
\end_layout

\begin_layout Subsubsection
Ground Station software 
\end_layout

\begin_layout Standard
There is a lot of ground station softwares available for users, in our project
 we are using two softwares which are 
\end_layout

\begin_layout Itemize
Qgroundcontrol
\end_layout

\begin_layout Itemize
Mission Planner
\end_layout

\begin_layout Subsection
User guides to Qgroundcontrol
\end_layout

\begin_layout Standard
Qgroundcontrol is a ground station software which is very simple to use
 and also is an OPEN SOURCE software so it's free to use and develop.
\end_layout

\begin_layout Standard
For beginners Qgroundcontrol is a very good software to start with as it
 is very simple and has a very friendly interface which will help you to
 get your vehicle moving and flying as fast as possible.
\end_layout

\begin_layout Standard
QGroundControl provides full flight control and mission planning for any
 MAVLink enabled drone.
 Its primary goal is ease of use for professional users and developers.
 All the code is open-source source, so you can contribute and evolve it
 as you want.
\end_layout

\begin_layout Itemize
Step 1: Installation 
\end_layout

\begin_deeper
\begin_layout Standard
First of all, all you need to get started is to download the software from
 it's official website.
\end_layout

\begin_layout Standard
Then follow the installation step by step then you are done with installation
 and you are ready to start with the vehicle.
\end_layout

\begin_layout Standard
QgroundControl is available for windows,Mac,Android and IOS.
\end_layout

\end_deeper
\begin_layout Itemize
Step 2: Connect to Pixhawk
\end_layout

\begin_deeper
\begin_layout Standard
The first thing to do after installation is to connect to your Vehicle.
\end_layout

\begin_layout Standard
You can do that through various methods 
\end_layout

\begin_layout Itemize
USB cable 
\end_layout

\begin_layout Itemize
Telemetry
\end_layout

\begin_layout Standard
At the beginning we will use USB.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
User interface of Qground
\end_layout

\begin_layout Standard
Most of the user interface has been discussed in the previous chapter except
 for a few tabs.
\end_layout

\begin_layout Standard
Before you are connected to the Pixhawk the Interface you get is as shown
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Graphics
	filename pics/map.png
	width 80page%
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Qgroundcontrol user interface
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
After you connect the Pixhawk you will have more tabs available for more
 options to access the autopilot control parameters.
\end_layout

\begin_layout Subsection
User guides to Mission Planner
\end_layout

\begin_layout Standard
Mission Planner is a ground control station for Plane, Copter and Rover.
 It is compatible with Windows only.
 Mission Planner can be used as a configuration utility or as a dynamic
 control supplement for your autonomous vehicle.
 Here are just a few things you can do with Mission Planner:
\end_layout

\begin_layout Itemize
Load the firmware (the software) into the autopilot board (i.e.
 Pixhawk series) that controls your vehicle.
\end_layout

\begin_layout Itemize
Setup, configure, and tune your vehicle for optimum performance.
\end_layout

\begin_layout Itemize
Plan, save and load autonomous missions into you autopilot with simple point-and
-click way-point entry on Google or other maps.
\end_layout

\begin_layout Itemize
Download and analyze mission logs created by your autopilot.
\end_layout

\begin_layout Itemize
Interface with a PC flight simulator to create a full hardware-in-the-loop
 UAV simulator.
\end_layout

\begin_layout Itemize
With appropriate telemetry hardware you can:
\end_layout

\begin_deeper
\begin_layout Itemize
Monitor your vehicle’s status while in operation.
\end_layout

\begin_layout Itemize
Record telemetry logs which contain much more information the the on-board
 autopilot logs.
\end_layout

\begin_layout Itemize
View and analyze the telemetry logs.
\end_layout

\begin_layout Itemize
Operate your vehicle in FPV (first person view).
\end_layout

\end_deeper
\begin_layout Standard
Mission Planner is also an OPEN SOURCE software.
\end_layout

\begin_layout Itemize
Step 1: Installation
\end_layout

\begin_deeper
\begin_layout Standard
The first thing to do is to download the software from it's official site,
 and then follow the installation instruction step by step till you finish
 installation then you are ready to work with the Mission Planner as Ground
 station.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/mp_installation.png
	scale 80
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mission planner installation
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Step 2: Connect to Pixhawk
\end_layout

\begin_deeper
\begin_layout Standard
Once you have installed a ground station on your computer, connect the flight
 controller using the micro USB cable as shown below.
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/pixhawk_usb_connection.jpg
	scale 30

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Pixhawk usb connection
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
On Mission Planner, the connection and data rate are set up using the drop
 down boxes in the upper right portion of the screen.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/MisionPlanner_ConnectButton.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Disconnectded status
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Once you have attached the USB or Telemetry Radio, Windows will automatically
 assign your autopilot a COM port number, and that will show in the drop-down
 menu (the actual number does not matter).
 The appropriate data rate for the connection is also set (typically the
 USB connection data rate is 115200 and the radio connection rate is 57600).
 
\end_layout

\begin_layout Standard
Select the desired port and data rate and then press the Connect button
 to connect to the autopilot.
 After connecting Mission Planner will download parameters from the autopilot
 and the button will change to Disconnect as shown:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/MisionPlanner_DisconnectButton.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Connected status
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Subsection
User interface of Mission Planner
\end_layout

\begin_layout Standard
The sections are organized to match the major section of the Mission Planner
 as selected in the menu along the top of the Mission Planner window.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/1.png
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mission planner user interface
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Connect (Upper right corner) - How to connect the Mission Planner to your
 ArduPilot.
 Selecting communication devices and rates.
 
\end_layout

\begin_layout Itemize
Flight Data - Information about what you see, and things you can do in the
 Flight Data screens.
 
\end_layout

\begin_layout Itemize
Flight Plan - Information about the various aspects of preparing flight
 plans (Missions).
 
\end_layout

\begin_layout Itemize
Initial Setup - Information about what you see and things you can do in
 the Initial Setup screens.
 
\end_layout

\begin_layout Itemize
Configuration Tuning - Information about what you see and things you can
 do in the Configuration/Tuning screens.
\end_layout

\begin_layout Itemize
Simulation - How you can use the Mission Planner and a flight simulator
 to ‘simulate’ flying.
\end_layout

\begin_layout Itemize
Terminal - Information about what you see and things you can do in the Terminal
 screens.
\end_layout

\begin_layout Itemize
Help - About the help screen, and how to get help with your questions about
 Mission Planner.
\end_layout

\begin_layout Itemize
Other Mission Planner Features - Catch all for miscellaneous items.
\end_layout

\begin_layout Itemize
Flight Data Screen.
\end_layout

\begin_layout Itemize
Initial Setup.
\end_layout

\begin_layout Itemize
Simulation Screen.
\end_layout

\begin_layout Itemize
Configuration and Tuning Screen.
\end_layout

\begin_layout Itemize
Compass Calibration.
\end_layout

\begin_layout Itemize
Accelerometer Calibration.
\end_layout

\begin_layout Itemize
Radio Control Calibration.
\end_layout

\begin_layout Itemize
RC Transmitter Flight Mode Configuration.
\end_layout

\begin_layout Itemize
Flight Plan.
\end_layout

\begin_layout Itemize
Flight Data.
\end_layout

\begin_layout Itemize
Language Translations.
\end_layout

\begin_layout Itemize
Other Mission Planner Features.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/mp_hud_full.jpg
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mission Planner details
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/mp_hud_detail.jpg
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
mission planner interface
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Enumerate
Air speed ( Ground speed if no airspeed sensor is fitted )
\end_layout

\begin_layout Enumerate
Crosstrack error and turn rate (T) 
\end_layout

\begin_layout Enumerate
Heading direction 
\end_layout

\begin_layout Enumerate
Bank angle 
\end_layout

\begin_layout Enumerate
Telemetry connection link quality (averaged percentage of good packets)
 
\end_layout

\begin_layout Enumerate
GPS time 
\end_layout

\begin_layout Enumerate
Altitude ( blue bar is rate of climb ) 
\end_layout

\begin_layout Enumerate
Air speed 
\end_layout

\begin_layout Enumerate
Ground speed 
\end_layout

\begin_layout Enumerate
Battery status 
\end_layout

\begin_layout Enumerate
Artificial Horizon 
\end_layout

\begin_layout Enumerate
Aircraft Attitude 
\end_layout

\begin_layout Enumerate
GPS Status 
\end_layout

\begin_layout Enumerate
Current Waypoint Number > Distance to Waypoint 
\end_layout

\begin_layout Enumerate
Current Flight Mode
\end_layout

\begin_layout Standard
For more details you can find in documentation on the official website for
 both Qgroundcontrol and Mission Planner.
 
\end_layout

\begin_layout Standard
In our Project we used both Qgroundcontrol and Mission Planner in order
 to get the required mission, We will discuss how We have done that and
 how We managed to fly Our vehicle using both ground stations in the next
 chapter.
\end_layout

\begin_layout Chapter
Flight Test using RC
\end_layout

\begin_layout Paragraph*
On talking about flight test you should first have a look at the flight
 modes of the vehicle so at first modes will be the target to get a good
 knowledge of it.
\end_layout

\begin_layout Section
flight modes
\end_layout

\begin_layout Paragraph*
Flight modes are very important to walk through so the modes we are talking
 about are manual/stabilized , acrobatic, altitude, position ,and mission
 modes.
 
\end_layout

\begin_layout Subsection
Manual/Stabilized
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename pics/modes/manual_stabilized_MC.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Manual/Stabilized
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph*
In this mode the pitch/roll stick (right stick) input are angles so when
 the PRS is moved your input to the vehicle will be angle input, while the
 input of the thrust/yaw stick (left stick) will be a rate, a rate of climb,
 a rate of descend and a rate of rotation (spin).
\end_layout

\begin_layout Paragraph*
The advantage of this mode is that it automatically stabilize the vehicle
 when you leave the RC sticks centered it levels the vehicle so it's very
 useful at testing your vehicle as it gives you manual control to it.
 
\end_layout

\begin_layout Subsection
Acrobatic mode (acro)
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename E:/Aerospace 4th year/GP/documentation3/presentation/manual_acrobatic_MC.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
acro mode
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph*
Acro mode is a very special mode but you should be careful while using it.
\end_layout

\begin_layout Paragraph*
All the inputs in this mode are rates.
\end_layout

\begin_layout Paragraph*
In our project this mode was used for testing the alignment of the vehicle
 body (motors specially), for example if you input was just thrust input
 , all the motors will increase the thrust so the vehicle is supposed to
 vertically takeoff with no rotation or tilting in any direction, so if
 the vehicle behaves in a different way then there is a problem in the alignment
 of the vehicles and it will need to be solved as it is very critical because
 it will not fly will without this alignment done or it may not fly at all.
\end_layout

\begin_layout Subsection
Altitude mode
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename E:/Aerospace 4th year/GP/documentation3/presentation/altitude_control_mode_copter.png

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Altitude mode
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph*
This mode is a very useful mode for flying a vehicle as it provide altitude
 hold control automatically.
\end_layout

\begin_layout Paragraph*
When using this mode We mast take care of many things and here is few notes
 about this mode.
\end_layout

\begin_layout Itemize
You can switch to this mode while flying the vehicle but take care how it
 works as it will ascend if the throttle stick is over 50%, so after switching
 to this mode remember to center the throttle stick.
\end_layout

\begin_layout Itemize
If this mode is used while the vehicle is on ground, it will start to takeoff
 only when the throttle sticks is more than 62.5% which is a parameter that
 can be changed.
\end_layout

\begin_layout Itemize
Take good care of the maximum climb speed and descend speed the default
 values of them is 3m/s and 1m/s , and can be changed.
\end_layout

\begin_layout Itemize
Note that the vehicle may drift in this mode and it will not hold its position
 just the altitude 
\end_layout

\begin_layout Itemize
The inputs in this mode are climb and descend rates for throttle stick,
 rotation rate for yaw sticks, and angle control for pitching and rolling.
 
\end_layout

\begin_layout Itemize
This mode is recommended for flying after tuning the vehicle.
\end_layout

\begin_layout Subsection
Position mode
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename E:/Aerospace 4th year/GP/documentation3/presentation/position_MC.png
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Caption Standard

\begin_layout Plain Layout
Position control
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Position mode is very good mode for beginners as it holds the position of
 the vehicle and maintain its position if disturbed (x,y,z coordinates).
\end_layout

\begin_layout Itemize
In this mode the inputs of the RC sticks are climb and descend rates for
 throttle stick and rotation rate for yaw stick, and angle control for pitching
 and rolling for right stick.
\end_layout

\begin_layout Itemize
This mode requires GPS to operate.
\end_layout

\begin_layout Itemize
It is better than the altitude control as it holds the position as will
 as the altitude.
\end_layout

\begin_layout Subsection
Mission mode
\end_layout

\begin_layout Standard
Mission mode causes the vehicle to execute a predefined autonomous mission
 (flight plan) that has been uploaded to the flight controller.
 The mission is typically created and uploaded with a Ground Control Station
 (GCS) application like QGroundControl (QGC).
\end_layout

\begin_layout Standard
Missions are usually created in a ground control station (e.g.
 QGroundControl) and uploaded prior to launch.
 They may also be created by a developer API, and/or uploaded in flight.
 
\end_layout

\begin_layout Standard
Individual mission commands are handled in a way that is appropriate for
 each vehicle's flight characteristics (for example loiter is implemented
 as hover for copter and circle for fixed-wing).
 VTOL vehicles follow the behavior and parameters of fixed-wing when in
 FW mode, and of copter when in MC mode.
\end_layout

\begin_layout Standard
At high level all vehicle types behave in the same way when MISSION mode
 is engaged: 
\end_layout

\begin_layout Enumerate
If a mission is stored and PX4 is flying it will execute the mission/flight
 plan from the current step.
 
\end_layout

\begin_layout Enumerate
If a mission is stored and PX4 is landed: 
\end_layout

\begin_layout Enumerate
On copters PX4 will execute the mission/flight plan.
 If the mission does not have a TAKEOFF command then PX4 will fly the vehicle
 to the minimum altitude before executing the remainder of the flight plan
 from the current step.
 
\end_layout

\begin_layout Enumerate
On fixed-wing vehicles PX4 will not automatically take off (the autopilot
 will detect the lack of movement and set the throttle to zero).
 The vehicle may start executing the mission if hand- or catapult- launched
 while in mission mode.
 
\end_layout

\begin_layout Enumerate
If no mission is stored, or if PX4 has finished executing all mission commands:
 
\end_layout

\begin_layout Enumerate
If flying the vehicle will loiter.
 
\end_layout

\begin_layout Enumerate
If landed the vehicle will "wait".
 
\end_layout

\begin_layout Enumerate
You can manually change the current mission command by selecting it in QGroundCo
ntrol.
 
\end_layout

\begin_layout Enumerate
The mission will only reset when the vehicle is disarmed or when a new mission
 is uploaded.
\end_layout

\begin_layout Standard
Missions can be paused by activating HOLD mode.
 The mission will then continue from the current mission command when you
 reactivate the MISSION flight mode.
 While flying in mission mode, if you decide to discontinue the mission
 and switch to any other mode e.g.
 position mode, fly the vehicle elsewhere with RC, and then switch back
 to mission mode, the vehicle will continue the mission from its current
 position and will fly to the next mission waypoint not visited yet.
\end_layout

\begin_layout Standard
NOTE : Mission mode requires SD card and GPS
\end_layout

\begin_layout Section
Flying
\end_layout

\begin_layout Standard
Flying an unconventional vehicle is something that needs a great attention
 as there is nearly NO reference to look at, our vehicle is a flying taxi
 that should vertically takeoff and then move forward as a plane in order
 to decrease the consumption of the quadrotors.
\end_layout

\begin_layout Standard
Our model of tandem wing has a two leveled wings and though the quad-rotors
 have two levels too, so it was hard to decide which is the best frame type
 to go on with.
\end_layout

\begin_layout Standard
H-quad was selected with equal arm for all rotors, but we must take care
 that at taking of the thrust of the upper rotors (rear) will be greater
 that the lower (front).
\end_layout

\begin_layout Subsection
Calibration
\end_layout

\begin_layout Standard
Qgroundcontrol was found to be easier than mission planner for calibration
 process so we used it at this section.
\end_layout

\begin_layout Standard
There is a few notes about calibration to get the best results of it.
\end_layout

\begin_layout Itemize
After trying many models and flying them it was found that it is better
 to do the calibration on the vehicle itself not on the pixhawk separated
 as there may be some defects on the body during manufacturing so it is
 not perfect and if the calibration was done on the pixhawk separated it
 will act good in flying the vehicle itself.
\end_layout

\begin_layout Itemize
When calibrating the accelerometer make sure that the rotation is about
 the CG of the vehicle and rotate one rotation in 7 seconds for best results.
\end_layout

\begin_layout Itemize
Before any flight test make sure to calibrate the level horizon again to
 reset the values of roll and pitch to zeros so that the vehicle does not
 drift, and because the pixhawk may be moved or rotated due to vibration
 or a hit to the body.
\end_layout

\begin_layout Itemize
ESC calibration is very important to get the four rotors rotating at the
 same speed.
\end_layout

\begin_layout Subsection
Safety switch
\end_layout

\begin_layout Standard
Safety switch is a safety device which is used to turn on/off the ability
 of arming the rotors.
\end_layout

\begin_layout Standard
During calibration make sure that safety switch is turned on so that the
 motors do not rotate for safety reasons.
\end_layout

\begin_layout Standard
The safety parameter is set to 0 by default to prevent arming so if the
 switch is not found as hardware you can change the value of the parameter
 manually to 22027 to disable it and to be able to arm the vehicle.
\end_layout

\begin_layout Subsection
Telemetry 
\end_layout

\begin_layout Itemize
Telemetry is used to connect the vehicle to the ground station without a
 wire and to monitor it's behavior.
\end_layout

\begin_layout Itemize
The telemetry has a very poor range so problems may occur while using it
 is that the data link may be lost many times, so KEEP THE VEHICLE CLOSE
 to the station during loading the parameters at least.
\end_layout

\begin_layout Itemize
The connection is also so weak so take care during connecting and disconnecting.
\end_layout

\begin_layout Section
Important notes for flying
\end_layout

\begin_layout Standard
It is recommended to read all the notes before starting the vehicle as it
 is very important.
\end_layout

\begin_layout Itemize
Two ground stations may be used together for example the Qgroundcontrol
 is easier for calibration process but the Mission planner is easier for
 logging and monitoring the status of everything so everyone of them may
 be used at it's point of advantage.
\end_layout

\begin_layout Itemize
If the telemetry is not working properly the first thing to do is to check
 the connections and make sure that it is connected in a good shape, the
 second thing to do is to keep the vehicle close to the ground station to
 be able to load and write to the parameter variables.
\end_layout

\begin_layout Itemize
Take care NOT to connect two power sources together as it may destroy the
 autopilot board (pixhawk).
\end_layout

\begin_layout Itemize
The only case that two power sources are connected together is when calibrating
 the ESCs first we connect the pixhawk using the USB cable only and run
 the calibration then the Qgroundcontrol will ask you to connect the battery,
 by connecting it the calibration will run then after it is done disconnect
 the battery first then the USB to reboot the pixhawk and the calibration
 is done.
\end_layout

\begin_layout Itemize
When flying the vehicle with the RC the first mode to go with is the stabilized
 flight mode as it makes you able to control all the vehicle actions manually
 and stabilizes it.
\end_layout

\begin_layout Itemize
If it is noticed that there is a problem during flying using stabilized
 mode like drifting or something like it, go for the acro mode to make sure
 that this problem occurs due to body deflection or misalignment of the
 motors.
\end_layout

\begin_layout Itemize
Notice the direction of the propellers before flying the vehicle as it may
 flip if they are not at the right position (clockwise/anti-clockwise).
\end_layout

\begin_layout Itemize
The quad motors drains a lot of power while running so keep an eye on the
 battery level.
\end_layout

\begin_layout Itemize
Batteries are very critical parameter in the vehicle so make sure to use
 the right one and search carefully about the ESCs used if it uses three
 or four cells because a wrong connection may spoil the components of the
 vehicle.
\end_layout

\begin_layout Itemize
On switching between modes on flight time be careful as the vehicle may
 behave in a bad way so keep an eye on the vehicle during switching.
\end_layout

\begin_layout Itemize
It is preferred to keep the vehicle attached with roped as it will be safer
 during flight.
\end_layout

\begin_layout Itemize
Be careful not to get close to the propellers if armed as it will be dangerous
 and may cause serious damage.
\end_layout

\begin_layout Itemize
If foam is used make sure to use closed sections because of it's torsional
 rigidity.
\end_layout

\begin_layout Itemize
If noticed that the vehicle is yawing then there is something wrong with
 the sensor calibration or with the body itself so recalibrate the sensors
 again and see what happens.
\end_layout

\begin_layout Itemize
At taking off make sure that increasing the throttle is very slow to be
 able to see the behavior of the vehicle and be able to counter any unexpected
 actions.
\end_layout

\begin_layout Itemize
There is a different in the radio channels between the Qgroundcontrol and
 the mission planner so follow one of them only during the radio calibration
 (Qgroundcontrol is recommended).
\end_layout

\begin_layout Itemize
The center of gravity (CG) is a very important parameter as it will effect
 the behavior of the vehicle during everything so be sure that the CG is
 centered and will calculated to avoid its problems.
\end_layout

\begin_layout Itemize
The vehicle must hover in range of 50% to 60% of the thrust to be able to
 control it as if it hover at 100% thrust there will be no power for the
 control so it will be uncontrollable so be careful when choosing the motors
 and the propellers.
\end_layout

\begin_layout Itemize
Tuning is very important and it is reflected on the vehicle by the way it
 respond to the orders it get so never forget the tuning of pitch, roll
 ,and yaw.
\end_layout

\begin_layout Itemize
Battery will get low very fast so make the best use of it.
\end_layout

\begin_layout Itemize
If the vehicle did not arm try to reboot the vehicle.
\end_layout

\begin_layout Itemize
There is two methods to arm the vehicle the first one is using the RC and
 moving the throttle stick to the lower right position for 2 second , the
 second method is using the mission planner by intering the action tab and
 select arm/disarm button.
\end_layout

\begin_layout Itemize
There is also two methods to disarm the vehicle the first one is using the
 RC and moving the throttle stick to the lower left position for 2 second
 , the second method is using the mission planner by intering the action
 tab and select arm/disarm button.
\end_layout

\begin_layout Itemize
Before connecting the battery make sure that the RC is turned ON.
\end_layout

\begin_layout Itemize
Connection of the ESCs to the pixhawk is very important so if using NO BEC
 ESCs then connect the signal ONLY to the pixhawk if using BEC ESCs then
 the signal and the ground are connected to the pixhawk.
\end_layout

\begin_layout Itemize
If the ESCs start making sound then the ground is not connected the right
 way or is not connected at all so be careful.
\end_layout

\begin_layout Section
Pusher connection
\end_layout

\begin_layout Standard
As it is required to design a quad-plane it was very important to know how
 we are going to use and connect a pusher to the controller as we are not
 using any control surfaces so all the control actions come from the quad-rotors
, so there was three ways to do this
\end_layout

\begin_layout Itemize
The first way is to connect the pusher on its own on a separated RC.
\end_layout

\begin_layout Itemize
The second way is to connect the pusher on an auxiliary on/off switch.
\end_layout

\begin_layout Itemize
The third way is to connect the pusher on an auxiliary channel that can
 control the PWM coming out to the ESC.
\end_layout

\begin_layout Standard
It was decided to go on with the third method as it was better to just use
 one RC than two and it was way better to connect to a channel that can
 contol the PWM rather than on/off switch,so Y connection was make to connect
 power to the ESC and it was connected directly to the RC receiver to the
 required channel.
\end_layout

\begin_layout Standard
By doing this the vehicle will deal with the pusher thrust as a disturbance
 and will stabilize itself as a quad copter automatically.
\end_layout

\begin_layout Standard
The pusher will push the vehicle forward so the wings will generate lift
 so the altitude of the vehicle will increase ,so in case of using altitude
 mode the vehicle will decrease the thrust of the quad-rotors to compensate
 the increase in altitude by descending using the rotors, so the power consumpti
on of the vehicle will decrease and that is the main reason for doing this
 setup as will as it will travel faster and as an air taxi it will be more
 comfortable for users.
 
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout LyX-Code

\end_layout

\end_body
\end_document
